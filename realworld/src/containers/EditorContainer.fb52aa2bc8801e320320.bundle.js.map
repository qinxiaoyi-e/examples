{"version":3,"sources":["webpack:///./src/containers/EditorContainer.ts","webpack:///./src/widgets/Editor.ts","webpack:///./src/widgets/ErrorList.ts"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__widgets_Editor__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1__processes_editorProcesses__","__WEBPACK_IMPORTED_MODULE_2__dojo_framework_stores_StoreInjector__","paths","getProperties","store","properties","get","path","title","description","body","tag","tags","errors","onContentInput","onDescriptionInput","onTagCreate","onTagDelete","onTagInput","onTitleInput","onPublishPost","slug","__WEBPACK_IMPORTED_MODULE_0__dojo_framework_widget_core_WidgetBase__","__WEBPACK_IMPORTED_MODULE_1__dojo_framework_widget_core_d__","__WEBPACK_IMPORTED_MODULE_2__ErrorList__","[object Object]","target","this","event","keyCode","preventDefault","inProgress","classes","type","placeholder","oninput","_onTitleInput","_onDescriptionInput","rows","_onContentInput","_onTagInput","onkeyup","_onTagCreate","map","onclick","disabled","_onPublishPost","errorCategories","keys","errorList","i","length","error"],"mappings":"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","file":"src/containers/EditorContainer.fb52aa2bc8801e320320.bundle.js","sourcesContent":["import { Store } from '@dojo/framework/stores/Store';\nimport { Editor, EditorProperties } from './../widgets/Editor';\nimport {\n\tpublishArticleProcess,\n\taddTagProcess,\n\tbodyInputProcess,\n\tdescInputProcess,\n\tremoveTagProcess,\n\ttagInputProcess,\n\ttitleInputProcess\n} from './../processes/editorProcesses';\nimport { State } from '../interfaces';\nimport { StoreContainer } from '@dojo/framework/stores/StoreInjector';\n\nfunction getProperties(store: Store<State>, properties: EditorProperties): EditorProperties {\n\tconst { get, path } = store;\n\n\treturn {\n\t\ttitle: get(path('editor', 'title')),\n\t\tdescription: get(path('editor', 'description')),\n\t\tbody: get(path('editor', 'body')),\n\t\ttag: get(path('editor', 'tag')),\n\t\ttags: get(path('editor', 'tagList')),\n\t\terrors: get(path('errors')),\n\t\tonContentInput: bodyInputProcess(store),\n\t\tonDescriptionInput: descInputProcess(store),\n\t\tonTagCreate: addTagProcess(store),\n\t\tonTagDelete: removeTagProcess(store),\n\t\tonTagInput: tagInputProcess(store),\n\t\tonTitleInput: titleInputProcess(store),\n\t\tonPublishPost: publishArticleProcess(store),\n\t\tslug: properties.slug\n\t};\n}\n\nexport default StoreContainer(Editor, 'state', { paths: [['editor'], ['errors']], getProperties });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/containers/EditorContainer.ts","import { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { v, w } from '@dojo/framework/widget-core/d';\nimport { ErrorList } from './ErrorList';\nimport { Errors, WithTarget } from '../interfaces';\nimport { TitlePayload, DescriptionPayload, BodyPayload, TagPayload } from '../processes/interfaces';\n\nexport interface EditorProperties {\n\ttitle: string;\n\tdescription: string;\n\tbody: string;\n\ttag: string;\n\terrors?: Errors;\n\tinProgress?: boolean;\n\tslug: string;\n\ttags?: string[];\n\tonPublishPost: (opts: object) => void;\n\tonTitleInput: (opts: TitlePayload) => void;\n\tonDescriptionInput: (opts: DescriptionPayload) => void;\n\tonContentInput: (opts: BodyPayload) => void;\n\tonTagInput: (opts: TagPayload) => void;\n\tonTagCreate: (opts: TagPayload) => void;\n\tonTagDelete: (opts: TagPayload) => void;\n}\n\nexport class Editor extends WidgetBase<EditorProperties> {\n\tprivate _onTitleInput({ target: { value: title } }: WithTarget) {\n\t\tthis.properties.onTitleInput({ title });\n\t}\n\n\tprivate _onDescriptionInput({ target: { value: description } }: WithTarget) {\n\t\tthis.properties.onDescriptionInput({ description });\n\t}\n\n\tprivate _onContentInput({ target: { value: body } }: WithTarget) {\n\t\tthis.properties.onContentInput({ body });\n\t}\n\n\tprivate _onTagInput({ target: { value: tag } }: WithTarget) {\n\t\tthis.properties.onTagInput({ tag });\n\t}\n\n\tprivate _onTagCreate(event: WithTarget<KeyboardEvent>) {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.properties.onTagCreate({ tag: event.target.value });\n\t\t}\n\t}\n\n\tprivate _onPublishPost() {\n\t\tthis.properties.onPublishPost({});\n\t}\n\n\t// prettier-ignore\n\tprotected render() {\n\t\tconst { onTagDelete, title, description, body, tag, errors, inProgress = false, tags = [] } = this.properties;\n\t\treturn v('div', { classes: 'editor-page' }, [\n\t\t\tv('div', { classes: ['container', 'page'] }, [\n\t\t\t\tv('div', { classes: 'row' }, [\n\t\t\t\t\tv('div', { classes: ['col-md-10', 'offset-md-1', 'col-xs-12'] }, [\n\t\t\t\t\t\terrors ? w(ErrorList, { errors }) : null,\n\t\t\t\t\t\tv('form', [\n\t\t\t\t\t\t\tv('fieldset', [\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: ['form-control', 'form-control-lg'],\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Article Title',\n\t\t\t\t\t\t\t\t\t\tvalue: title,\n\t\t\t\t\t\t\t\t\t\toninput: this._onTitleInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: \"What's this article about?\",\n\t\t\t\t\t\t\t\t\t\tvalue: description,\n\t\t\t\t\t\t\t\t\t\toninput: this._onDescriptionInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('textarea', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\trows: 8,\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Write your article (in markdown)',\n\t\t\t\t\t\t\t\t\t\tvalue: body,\n\t\t\t\t\t\t\t\t\t\toninput: this._onContentInput\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('fieldset', { classes: 'form-group' }, [\n\t\t\t\t\t\t\t\t\tv('input', {\n\t\t\t\t\t\t\t\t\t\tclasses: 'form-control',\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tplaceholder: 'Enter tags',\n\t\t\t\t\t\t\t\t\t\tvalue: tag,\n\t\t\t\t\t\t\t\t\t\toninput: this._onTagInput,\n\t\t\t\t\t\t\t\t\t\tonkeyup: this._onTagCreate\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\tv('div', { classes: 'tag-list' }, tags.map((tag) => {\n\t\t\t\t\t\t\t\t\t\treturn v('span', { classes: ['tag-default', 'tag-pill'] }, [\n\t\t\t\t\t\t\t\t\t\t\tv('i', {\n\t\t\t\t\t\t\t\t\t\t\t\tclasses: 'ion-close-round',\n\t\t\t\t\t\t\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tonTagDelete({ tag });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t\t\ttag\n\t\t\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\tv('button', {\n\t\t\t\t\t\t\t\t\tclasses: ['btn', 'btn-lg', 'pull-xs-right', 'btn-primary'],\n\t\t\t\t\t\t\t\t\ttype: 'button',\n\t\t\t\t\t\t\t\t\tdisabled: inProgress,\n\t\t\t\t\t\t\t\t\tonclick: this._onPublishPost\n\t\t\t\t\t\t\t\t}, ['Publish Article'])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t])\n\t\t\t\t\t])\n\t\t\t\t])\n\t\t\t])\n\t\t]);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/Editor.ts","import { WidgetBase } from '@dojo/framework/widget-core/WidgetBase';\nimport { v } from '@dojo/framework/widget-core/d';\nimport { Errors } from '../interfaces';\n\ninterface ErrorListProperties {\n\terrors: Errors;\n}\n\nexport class ErrorList extends WidgetBase<ErrorListProperties> {\n\tprotected render() {\n\t\tconst { errors } = this.properties;\n\t\tconst errorCategories = Object.keys(errors);\n\t\tlet errorList: string[] = [];\n\t\tfor (let i = 0; i < errorCategories.length; i++) {\n\t\t\terrorList = [\n\t\t\t\t...errorList,\n\t\t\t\t...errors[errorCategories[i]].map((error: string) => `${errorCategories[i]} ${error}`)\n\t\t\t];\n\t\t}\n\t\terrorList;\n\n\t\treturn v('ul', { classes: 'error-messages' }, errorList.map((error: string) => v('li', [error])));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/ErrorList.ts"],"sourceRoot":""}