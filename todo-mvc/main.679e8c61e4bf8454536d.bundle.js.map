{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///Destroyable.ts","webpack:///Evented.ts","webpack:///QueuingEvented.ts","webpack:///util.ts","webpack:///has.ts","webpack:///Outlet.ts","webpack:///Router.ts","webpack:///RouterInjector.ts","webpack:///HashHistory.ts","webpack:///Map.ts","webpack:///Promise.ts","webpack:///Symbol.ts","webpack:///WeakMap.ts","webpack:///array.ts","webpack:///global.ts","webpack:///iterator.ts","webpack:///number.ts","webpack:///object.ts","webpack:///string.ts","webpack:///queue.ts","webpack:///Injector.ts","webpack:///NodeHandler.ts","webpack:///Registry.ts","webpack:///RegistryHandler.ts","webpack:///WidgetBase.ts","webpack:///cssTransitions.ts","webpack:///d.ts","webpack:///alwaysRender.ts","webpack:///beforeProperties.ts","webpack:///diffProperty.ts","webpack:///handleDecorator.ts","webpack:///inject.ts","webpack:///diff.ts","webpack:///Themed.ts","webpack:///vdom.ts","webpack:///hasBuildTimeRender.ts","webpack:///./src/widgets/TodoFooter.ts","webpack:///./src/widgets/TodoItem.ts","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/main.ts","webpack:///./src/widgets/TodoApp.ts","webpack:///./src/widgets/TodoHeader.ts","webpack:///./src/widgets/TodoList.ts","webpack:///./src/widgets/styles/todoApp.m.css?4ec0","webpack:///./src/widgets/styles/todoHeader.m.css?30ae","webpack:///./src/widgets/styles/todoList.m.css?939d"],"names":["root","factory","exports","module","define","amd","this","Promise_1","__webpack_require__","noop","default","resolve","destroyed","Error","Destroyable","handles","prototype","own","handle","_handles","push","destroy","splice","indexOf","_this","forEach","Map_1","Destroyable_1","regexMap","isGlobMatch","globString","targetString","regex","has","get","RegExp","replace","set","test","Evented","_super","apply","arguments","listenersMap","tslib_1","__extends","emit","event","methods","type","__spread","method","call","on","listener","Array","isArray","handles_1","map","_addListener","listeners","Evented_1","QueuingEvented","_queue","maxEvents","hasMatch","queue","length","shift","listenerType","events","queuedType","delete","slice","hasOwnProperty","Object","shouldDeepCopyObject","value","toString","copyArray","array","inherited","item","_mixin","deep","sources","target","kwArgs","copied","copiedClone","i","source","key","targetValue","guaranteeMinimumTimeout","callback","delay","timerId","startTime","Date","now","setTimeout","timeoutHandler","delta","clearTimeout","deepAssign","_i","deepMixin","mixin","partial","targetFunction","suppliedArgs","args","concat","debounce","timer","context","throttle","ran","uuid","c","r","Math","random","testCache","testFunctions","testThenables","globalScope","window","global","self","staticFeatures","DojoHasEnvironment","staticCache","exists","feature","normalizedFeature","toLowerCase","Boolean","add","overwrite","TypeError","then","isFeatureTestThenable","resolvedValue","result","load","resourceId","require","config","normalize","tokens","match","id","skip","term","document","location","process","versions","node","WidgetBase_1","alwaysRender_1","diffProperty_1","Outlet","onRouterKeyChange","current","next","_a","routerKey","registry","getInjector","_handle","undefined","invalidator","invalidate","onAttach","properties","render","renderer","_b","router","injector","outletContext","getOutlet","queryParams","params","isError","isExact","__decorate","diffProperty","alwaysRender","WidgetBase","QueuingEvented_1","HashHistory_1","PARAM","paramRegExp","matchingParams","previousParams","keys","every","Router","options","_routes","_outletMap","create","_matchedOutlets","_currentParams","_currentQueryParams","_onChange","requestedPath","_stripLeadingSlash","previousMatchedOutlets","__read","split","path","queryParamString","_getQueryParams","routeConfig","segments","routeConfigs","route","parent","matchedRoutes","parent_1","segments_1","segmentIndex","paramIndex","routeMatch","segment","__assign","children","childRoute","pop","matchedOutletName","matchedRoute","reduce","score","outlet","parent_2","matchedOutlet","previousMatchedOutlet","action","errorOutlet","previousMatchedOutletKeys","HistoryManager","HashHistory","base","_register","_history","onChange","_defaultOutlet","link","setPath","linkPath","fullPath","fullQueryParams","param","index","defaultParams","fullParams","outletIdentifier","defineProperty","routes","parentRoute","defaultRoute","_c","_d","parsedPath","i_1","queryParam","queryParameters","Router_1","registerRouterInjector","routerOptions","__rest","hasInjector","defineInjector","global_1","_current","normalizePath","_window","hash","_onChangeFunction","addEventListener","prefix","removeEventListener","iterator_1","object_1","has_1","Map","iterable","_keys","_values","Symbol","toStringTag","isArrayLike","iterable_1","__values","iterable_1_1","done","_indexOfKey","length_1","is","clear","entries","values","ShimIterator","length_2","iterator","species","queue_1","ShimPromise","Promise","isThenable","executor","state","isChained","callbacks","whenFinished","settle","newState","queueMicroTask","count","bind","onFulfilled","onRejected","reject","error","all","complete","total","populating","fulfill","finish","race","iterable_2","iterable_2_1","reason","catch","created","util_1","validateSymbol_1","isSymbol","defineProperties_1","defineProperties","defineProperty_1","create_1","objPrototype_1","globalSymbols_1","getSymbolName_1","desc","name","postfix","String","getOwnPropertyDescriptor","getValueDescriptor","InternalSymbol_1","description","sym","__description__","__name__","keyFor","hasInstance","for","isConcatSpreadable","observable","search","toPrimitive","unscopables","constructor","valueOf","wellKnown","startId","WeakMap","DELETED_1","generateName_1","floor","_name","_frozenEntries","_getFrozenEntryIndex","entry","frozenIndex","isFrozen","number_1","from","of","copyWithin","wrapNative","fill","find","findIndex","toLength_1","isNaN","Number","isFinite","min","max","MAX_SAFE_INTEGER","toInteger_1","abs","normalizeOffset_1","arrayLike","mapFunction","thisArg","isIterable","arrayLike_1","arrayLike_1_1","items","offset","start","end","direction","includes","searchElement","fromIndex","len","currentElement","globalObject","string_1","staticDone","list","_nextIndex","_nativeIterator","_list","forOf","broken","doBreak","l","char","code","charCodeAt","HIGH_SURROGATE_MIN","HIGH_SURROGATE_MAX","isInteger","EPSILON","pow","MIN_SAFE_INTEGER","isSafeInteger","Symbol_1","assign","getOwnPropertyNames","getOwnPropertySymbols","o","filter","to","nextSource","nextKey","prop","substring","value1","value2","getOwnPropertyDescriptors","previous","LOW_SURROGATE_MIN","LOW_SURROGATE_MAX","fromCodePoint","raw","codePointAt","endsWith","repeat","startsWith","normalizeSubstringArgs_1","text","position","isEnd","codePoints","fromCharCode","codeUnits","codePoint","RangeError","highSurrogate","lowSurrogate","callSite","substitutions","rawStrings","numSubstitutions","first","second","endPosition","Infinity","padEnd","padStart","maxLength","fillString","strText","padding","__exportStar","POSITIVE_INFINITY","e","imul","Observable","Set","getCallSite","templateObject_1","__makeTemplateObject","key1","freeze","postMessage","requestAnimationFrame","setImmediate","MutationObserver","WebKitMutationObserver","example","createElement","observer","observe","attributes","style","setProperty","takeRecords","Animation","KeyframeEffect","AbortController","AbortSignal","checkMicroTaskQueue","microTasks","executeTask","isActive","getQueueHandle","destructor","queueTask","enqueue","data","stopPropagation","clearImmediate","isMicroTaskQueued_1","queueAnimationTask","rafId","cancelAnimationFrame","nextTick","HostMutationObserver","node_1","queue_2","setAttribute","enumerable","writable","configurable","nativeFunction","Injector","payload","_payload","setInvalidator","_invalidator","NodeEventType","NodeHandler","_nodeMap","element","addRoot","Widget","addProjector","Projector","isWidgetBaseConstructor","_type","WIDGET_BASE_TYPE","isWidgetConstructorDefaultExport","Registry","emitLoadedEvent","widgetLabel","label","_widgetRegistry","widgetCtor","injectorFactory","_injectorRegistry","injectorItem","promise","Registry_1","RegistryHandler","_registry","_registryWidgetLabelMap","_registryInjectorLabelMap","baseRegistry","widget","globalPrecedence","_get","getFunctionName","labelMap","registries","registeredLabels","WeakMap_1","d_1","diff_1","RegistryHandler_1","NodeHandler_1","lazyWidgetId","lazyWidgetIdMap","decoratorMap","widgetInstanceMap","boundAuto","auto","noBind","_initialProperties","_changedPropertyKeys","_nodeHandler","_children","_decoratorCache","_properties","_boundRenderFunc","_boundInvalidate","dirty","onDetach","nodeHandler","rendering","inputProperties","_runAfterConstructors","meta","MetaType","_metaMap","cached","__setProperties__","originalProperties","instanceData","_runBeforeProperties","registeredDiffPropertyNames","getDecorator","changedPropertyKeys","propertyNames","allProperties","checkedProperties","diffPropertyResults_1","runReactions","propertyName","previousProperty","newProperty","_bindFunctionProperty","diffFunctions","changed","reactionFunctions","executedReactions_1","reaction","propertyChanged","reactionRun","__setChildren__","_filterAndConvert","nodes","filteredNodes","convertedNodes","isVNode","deferredPropertiesCallback","isWNode","widgetConstructor","registryItem","tag","VNODE","__render__","_runBeforeRenders","dNode","_runAfterRenders","v","addDecorator","decoratorKey","decoratorList","specificDecoratorList","decorators","_buildDecoratorList","allDecorators","instanceMap","unshift","getPrototypeOf","property","_bindFunctionPropertyMap","bindInfo","boundFunc","scope","beforeProperties","beforePropertiesFunction","beforeRenders","beforeRenderFunction","updatedRender","console","warn","afterRenders","afterRenderFunction","afterRender","afterConstructors","afterConstructor","browserSpecificTransitionEndEventName","browserSpecificAnimationEndEventName","initialize","determineBrowserStyleNames","runAndCleanUp","startAnimation","finishAnimation","finished","transitionEnd","enter","enterAnimation","activeClass","enterAnimationActive","classList","remove","exit","exitAnimation","removeNode","exitAnimationActive","child","WNODE","DOMVNODE","isElementNode","tagName","isDomVNode","decorate","dNodes","optionsOrModifier","predicate","modifier","shallow","breaker","w","widgetConstructorOrNode","propertiesOrChildren","classes","styles","newProperties","nodeClasses","_e","nodeStyles","nodeProperties","dom","attrs","props","diffType","domNode","handleDecorator_1","beforeProperties_1","handleDecorator","propertyKey","diffFunction","reactionFunction","handler","descriptor","registeredInjectorsMap","inject","getProperties","registeredInjectors","isObjectOrArray","ignore","reference","validOldProperty","validNewProperty","previousKeys","newKeys","some","always","Injector_1","inject_1","THEME_KEY","ThemedMixin","Base","Themed","_registeredBaseThemeKeys","_recalculateClasses","_theme","theme","_recalculateThemeClasses","className","_getThemeClass","onPropertiesChanged","extraClasses","themeClassName","_baseThemeClassesReverseLookup","resultClassNames","_registeredBaseTheme","join","baseThemes","finalBaseTheme","baseTheme","currentClassNames","baseClass","themeKey","INJECTED_THEME_KEY","registerThemeInjector","themeRegistry","themeInjector","cssTransitions_1","EMPTY_ARRAY","nodeOperations","NAMESPACE_SVG","NAMESPACE_W3","NAMESPACE_XLINK","isWNodeWrapper","isVNodeWrapper","buildPreviousProperties","propName","attrName","getAttribute","same","dnode1","dnode2","instance","findIndexOfChild","sameAs","createClassPropValue","trim","updateAttribute","attrValue","namespace","setAttributeNS","removeAttribute","runEnterAnimation","transitions","runExitAnimation","removeDomNode","parentNode","removeChild","arrayFrom","arr","_renderScheduled","parentInvalidate","_mountOptions","sync","merge","transition","body","_invalidationQueue","_processQueue","_applicationQueue","_eventMap","_instanceToWrapperMap","_parentWrapperMap","_wrapperSiblingMap","_afterRenderCallbacks","_deferredRenderCallbacks","nodeOperation","propValue","previousValue","updateEvent","eventName","currentValue","previousEvent","evt","removeOrphanedEvents","previousProperties","onlyEvents","isEvent","substr","eventCallback","renderedToWrapper","rendered","currentParent","previousItem","wrappedRendered","hasParentWNode","currentParentLength","childrenWrappers","requiresInsertBefore","hasPreviousSiblings","renderedItem","wrapper","depth","hasAnimations","nextParent","findParentWNodeWrapper","currentNode","parentWNodeWrapper","parentWrapper","findParentDomNode","parentDomNode","runDeferredProperties","properties_1","processProperties","findInsertBefore","insertBefore","searchNode","nextSibling","setProperties","currentProperties","nextWrapper","includesEventsAndAttributes","propNames","propCount","previousClassString","currentClassString","merged","domClasses","styleNames","styleCount","j","styleName","newStyleValue","domValue","lastIndexOf","previousAttributes","attrNames","attrCount","updateAttributes","events_1","_runInvalidationQueue","invalidationQueue","previouslyRendered","sort","a","b","sibling","item_1","_updateWidget","_runProcessQueue","_runDomInstructionQueue","_runCallbacks","_process","reverse","inserted","instanceData_1","attached","run","requestIdleCallback","runAfterRenderCallbacks","runDeferredRenderCallbacks","mergeNodes","oldIndex","newIndex","currentLength","nextLength","instructions","currentWrapper","domElement","toUpperCase","_processMergeNodes","_processOne","createElementNS","createTextNode","childNodes","_createDom","_createWidget","updatedTextNode","ownerDocument","replaceChild","_updateDom","wrappers","_removeDom","_removeWidget","mount","mountOptions","renderResult","class_1","oe","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","marker","runClearTimeout","Item","title","browser","env","argv","version","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","script","onreadystatechange","appendChild","attachEvent","Function","task","Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_exports__","d","__","extendStatics","s","t","p","Reflect","decorator","metadataKey","metadataValue","metadata","_arguments","P","generator","fulfilled","step","rejected","f","y","g","_","sent","trys","ops","verb","throw","return","n","op","m","ar","__await","asyncIterator","q","resume","cooked","setPrototypeOf","__proto__","eval","vdom_1","RouterInjector_1","TodoApp_1","Themed_1","Outlet_1","TodoHeader_1","TodoList_1","css","TodoApp","todos","todoItem","completedCount","updated","removeTodo","todo","completed","onUpdate","toggleTodo","setTodo","toggleAllTodos","size","editTodo","editing","clearCompleted","updateTodo","allCompleted","activeCount","completedItems","todoapp","addTodo","activeFilter","__autoRegistryItems","TodoFooter","TodoHeader","newTodoProperties","focus","newTodo","onkeyup","oninput","placeholder","onchange","checked","toggleAll","which","array_1","TodoList","todoItems","filterName","todoList","TodoItem"," _key","main"],"mappings":"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","file":"main.679e8c61e4bf8454536d.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dojo2_todo_mvc\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dojo2_todo_mvc\"] = factory();\n\telse\n\t\troot[\"dojo2_todo_mvc\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","import Promise from '../shim/Promise';\n\n/**\n * Used through the toolkit as a consistent API to manage how callers can \"cleanup\"\n * when doing a function.\n */\nexport interface Handle {\n\t/**\n\t * Perform the destruction/cleanup logic associated with this Handle\n\t */\n\tdestroy(): void;\n}\n\n/**\n * No op function used to replace a Destroyable instance's `destroy` method, once the instance has been destroyed\n */\nfunction noop(): Promise<boolean> {\n\treturn Promise.resolve(false);\n}\n\n/**\n * No op function used to replace a Destroyable instance's `own` method, once the instance has been destroyed\n */\nfunction destroyed(): never {\n\tthrow new Error('Call made to destroyed method');\n}\n\nexport class Destroyable {\n\t/**\n\t * The instance's handles\n\t */\n\tprivate handles: Handle[];\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis.handles = [];\n\t}\n\n\t/**\n\t * Register handles for the instance that will be destroyed when `this.destroy` is called\n\t *\n\t * @param {Handle} handle The handle to add for the instance\n\t * @returns {Handle} A wrapper Handle. When the wrapper Handle's `destroy` method is invoked, the original handle is\n\t *                   removed from the instance, and its `destroy` method is invoked.\n\t */\n\town(handle: Handle): Handle {\n\t\tconst { handles: _handles } = this;\n\t\t_handles.push(handle);\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\t_handles.splice(_handles.indexOf(handle));\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Destroys all handlers registered for the instance\n\t *\n\t * @returns {Promise<any} A Promise that resolves once all handles have been destroyed\n\t */\n\tdestroy(): Promise<any> {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.handles.forEach((handle) => {\n\t\t\t\thandle && handle.destroy && handle.destroy();\n\t\t\t});\n\t\t\tthis.destroy = noop;\n\t\t\tthis.own = destroyed;\n\t\t\tresolve(true);\n\t\t});\n\t}\n}\n\nexport default Destroyable;\n\n\n\n// WEBPACK FOOTER //\n// Destroyable.ts","import Map from '../shim/Map';\nimport { Destroyable, Handle } from './Destroyable';\n\n/**\n * Map of computed regular expressions, keyed by string\n */\nconst regexMap = new Map<string, RegExp>();\n\nexport type EventType = string | symbol;\n\n/**\n * The base event object, which provides a `type` property\n */\nexport interface EventObject<T = EventType> {\n\t/**\n\t * The type of the event\n\t */\n\treadonly type: T;\n}\n\n/**\n * Determines if the event type glob has been matched\n *\n * @returns boolean that indicates if the glob is matched\n */\nexport function isGlobMatch(globString: string | symbol, targetString: string | symbol): boolean {\n\tif (typeof targetString === 'string' && typeof globString === 'string' && globString.indexOf('*') !== -1) {\n\t\tlet regex: RegExp;\n\t\tif (regexMap.has(globString)) {\n\t\t\tregex = regexMap.get(globString)!;\n\t\t} else {\n\t\t\tregex = new RegExp(`^${globString.replace(/\\*/g, '.*')}$`);\n\t\t\tregexMap.set(globString, regex);\n\t\t}\n\t\treturn regex.test(targetString);\n\t} else {\n\t\treturn globString === targetString;\n\t}\n}\n\nexport type EventedCallback<T = EventType, E extends EventObject<T> = EventObject<T>> = {\n\t/**\n\t * A callback that takes an `event` argument\n\t *\n\t * @param event The event object\n\t */\n\n\t(event: E): boolean | void;\n};\n\nexport interface CustomEventTypes<T extends EventObject<any> = EventObject<any>> {\n\t[index: string]: T;\n}\n\n/**\n * A type which is either a targeted event listener or an array of listeners\n * @template T The type of target for the events\n * @template E The event type for the events\n */\nexport type EventedCallbackOrArray<T = EventType, E extends EventObject<T> = EventObject<T>> =\n\t| EventedCallback<T, E>\n\t| EventedCallback<T, E>[];\n\n/**\n * Event Class\n */\nexport class Evented<\n\tM extends CustomEventTypes = {},\n\tT = EventType,\n\tO extends EventObject<T> = EventObject<T>\n> extends Destroyable {\n\t// The following member is purely so TypeScript remembers the type of `M` when extending so\n\t// that the utilities in `on.ts` will work https://github.com/Microsoft/TypeScript/issues/20348\n\t// tslint:disable-next-line\n\tprotected __typeMap__?: M;\n\t/**\n\t * map of listeners keyed by event type\n\t */\n\tprotected listenersMap: Map<T | keyof M, EventedCallback<T, O>[]> = new Map();\n\n\t/**\n\t * Emits the event object for the specified type\n\t *\n\t * @param event the event to emit\n\t */\n\temit<K extends keyof M>(event: M[K]): void;\n\temit(event: O): void;\n\temit(event: any): void {\n\t\tthis.listenersMap.forEach((methods, type) => {\n\t\t\tif (isGlobMatch(type as any, event.type)) {\n\t\t\t\t[...methods].forEach((method) => {\n\t\t\t\t\tmethod.call(this, event);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Catch all handler for various call signatures. The signatures are defined in\n\t * `BaseEventedEvents`.  You can add your own event type -> handler types by extending\n\t * `BaseEventedEvents`.  See example for details.\n\t *\n\t * @param args\n\t *\n\t * @example\n\t *\n\t * interface WidgetBaseEvents extends BaseEventedEvents {\n\t *     (type: 'properties:changed', handler: PropertiesChangedHandler): Handle;\n\t * }\n\t * class WidgetBase extends Evented {\n\t *    on: WidgetBaseEvents;\n\t * }\n\t *\n\t * @return {any}\n\t */\n\ton<K extends keyof M>(type: K, listener: EventedCallbackOrArray<K, M[K]>): Handle;\n\ton(type: T, listener: EventedCallbackOrArray<T, O>): Handle;\n\ton(type: any, listener: EventedCallbackOrArray<any, any>): Handle {\n\t\tif (Array.isArray(listener)) {\n\t\t\tconst handles = listener.map((listener) => this._addListener(type, listener));\n\t\t\treturn {\n\t\t\t\tdestroy() {\n\t\t\t\t\thandles.forEach((handle) => handle.destroy());\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn this._addListener(type, listener);\n\t}\n\n\tprivate _addListener(type: T | keyof M, listener: EventedCallback<T, O>) {\n\t\tconst listeners = this.listenersMap.get(type) || [];\n\t\tlisteners.push(listener);\n\t\tthis.listenersMap.set(type, listeners);\n\t\treturn {\n\t\t\tdestroy: () => {\n\t\t\t\tconst listeners = this.listenersMap.get(type) || [];\n\t\t\t\tlisteners.splice(listeners.indexOf(listener), 1);\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport default Evented;\n\n\n\n// WEBPACK FOOTER //\n// Evented.ts","import Map from '../shim/Map';\nimport Evented, { CustomEventTypes, isGlobMatch, EventedCallbackOrArray, EventType, EventObject } from './Evented';\nimport { Handle } from './Destroyable';\n\n/**\n * An implementation of the Evented class that queues up events when no listeners are\n * listening. When a listener is subscribed, the queue will be published to the listener.\n * When the queue is full, the oldest events will be discarded to make room for the newest ones.\n *\n * @property maxEvents  The number of events to queue before old events are discarded. If zero (default), an unlimited number of events is queued.\n */\nclass QueuingEvented<\n\tM extends CustomEventTypes = {},\n\tT = EventType,\n\tO extends EventObject<T> = EventObject<T>\n> extends Evented<M, T, O> {\n\tprivate _queue: Map<string | symbol, EventObject[]> = new Map();\n\n\tpublic maxEvents = 0;\n\n\temit<K extends keyof M>(event: M[K]): void;\n\temit(event: O): void;\n\temit(event: any): void {\n\t\tsuper.emit(event);\n\n\t\tlet hasMatch = false;\n\n\t\tthis.listenersMap.forEach((method, type) => {\n\t\t\t// Since `type` is generic, the compiler doesn't know what type it is and `isGlobMatch` requires `string | symbol`\n\t\t\tif (isGlobMatch(type as any, event.type)) {\n\t\t\t\thasMatch = true;\n\t\t\t}\n\t\t});\n\n\t\tif (!hasMatch) {\n\t\t\tlet queue = this._queue.get(event.type);\n\n\t\t\tif (!queue) {\n\t\t\t\tqueue = [];\n\t\t\t\tthis._queue.set(event.type, queue);\n\t\t\t}\n\n\t\t\tqueue.push(event);\n\n\t\t\tif (this.maxEvents > 0) {\n\t\t\t\twhile (queue.length > this.maxEvents) {\n\t\t\t\t\tqueue.shift();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ton<K extends keyof M>(type: K, listener: EventedCallbackOrArray<K, M[K]>): Handle;\n\ton(type: T, listener: EventedCallbackOrArray<T, O>): Handle;\n\ton(type: any, listener: EventedCallbackOrArray<any, any>): Handle {\n\t\tlet handle = super.on(type, listener);\n\n\t\tthis.listenersMap.forEach((method, listenerType) => {\n\t\t\tthis._queue.forEach((events, queuedType) => {\n\t\t\t\tif (isGlobMatch(listenerType as any, queuedType)) {\n\t\t\t\t\tevents.forEach((event) => this.emit(event));\n\t\t\t\t\tthis._queue.delete(queuedType);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn handle;\n\t}\n}\n\nexport default QueuingEvented;\n\n\n\n// WEBPACK FOOTER //\n// QueuingEvented.ts","/**\n * Helper function to generate a value property descriptor\n *\n * @param value        The value the property descriptor should be set to\n * @param enumerable   If the property should be enumberable, defaults to false\n * @param writable     If the property should be writable, defaults to true\n * @param configurable If the property should be configurable, defaults to true\n * @return             The property descriptor object\n */\nexport function getValueDescriptor<T>(\n\tvalue: T,\n\tenumerable: boolean = false,\n\twritable: boolean = true,\n\tconfigurable: boolean = true\n): TypedPropertyDescriptor<T> {\n\treturn {\n\t\tvalue: value,\n\t\tenumerable: enumerable,\n\t\twritable: writable,\n\t\tconfigurable: configurable\n\t};\n}\n\n/**\n * A helper function which wraps a function where the first argument becomes the scope\n * of the call\n *\n * @param nativeFunction The source function to be wrapped\n */\nexport function wrapNative<T, U, R>(nativeFunction: (arg1: U) => R): (target: T, arg1: U) => R;\nexport function wrapNative<T, U, V, R>(nativeFunction: (arg1: U, arg2: V) => R): (target: T, arg1: U, arg2: V) => R;\nexport function wrapNative<T, U, V, W, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W) => R\n): (target: T, arg1: U, arg2: V, arg3: W) => R;\nexport function wrapNative<T, U, V, W, X, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W) => R\n): (target: T, arg1: U, arg2: V, arg3: W) => R;\nexport function wrapNative<T, U, V, W, X, Y, R>(\n\tnativeFunction: (arg1: U, arg2: V, arg3: W, arg4: Y) => R\n): (target: T, arg1: U, arg2: V, arg3: W, arg4: Y) => R;\nexport function wrapNative(nativeFunction: (...args: any[]) => any): (target: any, ...args: any[]) => any {\n\treturn function(target: any, ...args: any[]): any {\n\t\treturn nativeFunction.apply(target, args);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// util.ts","import has, { add } from '../../has/has';\nimport global from '../global';\n\nexport default has;\nexport * from '../../has/has';\n\n/* ECMAScript 6 and 7 Features */\n\n/* Array */\nadd(\n\t'es6-array',\n\t() => {\n\t\treturn (\n\t\t\t['from', 'of'].every((key) => key in global.Array) &&\n\t\t\t['findIndex', 'find', 'copyWithin'].every((key) => key in global.Array.prototype)\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-array-fill',\n\t() => {\n\t\tif ('fill' in global.Array.prototype) {\n\t\t\t/* Some versions of Safari do not properly implement this */\n\t\t\treturn ([1] as any).fill(9, Number.POSITIVE_INFINITY)[0] === 1;\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\nadd('es7-array', () => 'includes' in global.Array.prototype, true);\n\n/* Map */\nadd(\n\t'es6-map',\n\t() => {\n\t\tif (typeof global.Map === 'function') {\n\t\t\t/*\n\t\tIE11 and older versions of Safari are missing critical ES6 Map functionality\n\t\tWe wrap this in a try/catch because sometimes the Map constructor exists, but does not\n\t\ttake arguments (iOS 8.4)\n\t\t */\n\t\t\ttry {\n\t\t\t\tconst map = new global.Map([[0, 1]]);\n\n\t\t\t\treturn (\n\t\t\t\t\tmap.has(0) &&\n\t\t\t\t\ttypeof map.keys === 'function' &&\n\t\t\t\t\thas('es6-symbol') &&\n\t\t\t\t\ttypeof map.values === 'function' &&\n\t\t\t\t\ttypeof map.entries === 'function'\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\t/* istanbul ignore next: not testing on iOS at the moment */\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Math */\nadd(\n\t'es6-math',\n\t() => {\n\t\treturn [\n\t\t\t'clz32',\n\t\t\t'sign',\n\t\t\t'log10',\n\t\t\t'log2',\n\t\t\t'log1p',\n\t\t\t'expm1',\n\t\t\t'cosh',\n\t\t\t'sinh',\n\t\t\t'tanh',\n\t\t\t'acosh',\n\t\t\t'asinh',\n\t\t\t'atanh',\n\t\t\t'trunc',\n\t\t\t'fround',\n\t\t\t'cbrt',\n\t\t\t'hypot'\n\t\t].every((name) => typeof global.Math[name] === 'function');\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-math-imul',\n\t() => {\n\t\tif ('imul' in global.Math) {\n\t\t\t/* Some versions of Safari on ios do not properly implement this */\n\t\t\treturn (Math as any).imul(0xffffffff, 5) === -5;\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Object */\nadd(\n\t'es6-object',\n\t() => {\n\t\treturn (\n\t\t\thas('es6-symbol') &&\n\t\t\t['assign', 'is', 'getOwnPropertySymbols', 'setPrototypeOf'].every(\n\t\t\t\t(name) => typeof global.Object[name] === 'function'\n\t\t\t)\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es2017-object',\n\t() => {\n\t\treturn ['values', 'entries', 'getOwnPropertyDescriptors'].every(\n\t\t\t(name) => typeof global.Object[name] === 'function'\n\t\t);\n\t},\n\ttrue\n);\n\n/* Observable */\nadd('es-observable', () => typeof global.Observable !== 'undefined', true);\n\n/* Promise */\nadd('es6-promise', () => typeof global.Promise !== 'undefined' && has('es6-symbol'), true);\n\n/* Set */\nadd(\n\t'es6-set',\n\t() => {\n\t\tif (typeof global.Set === 'function') {\n\t\t\t/* IE11 and older versions of Safari are missing critical ES6 Set functionality */\n\t\t\tconst set = new global.Set([1]);\n\t\t\treturn set.has(1) && 'keys' in set && typeof set.keys === 'function' && has('es6-symbol');\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* String */\nadd(\n\t'es6-string',\n\t() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\t/* static methods */\n\t\t\t\t'fromCodePoint'\n\t\t\t].every((key) => typeof global.String[key] === 'function') &&\n\t\t\t[\n\t\t\t\t/* instance methods */\n\t\t\t\t'codePointAt',\n\t\t\t\t'normalize',\n\t\t\t\t'repeat',\n\t\t\t\t'startsWith',\n\t\t\t\t'endsWith',\n\t\t\t\t'includes'\n\t\t\t].every((key) => typeof global.String.prototype[key] === 'function')\n\t\t);\n\t},\n\ttrue\n);\n\nadd(\n\t'es6-string-raw',\n\t() => {\n\t\tfunction getCallSite(callSite: TemplateStringsArray, ...substitutions: any[]) {\n\t\t\tconst result = [...callSite];\n\t\t\t(result as any).raw = callSite.raw;\n\t\t\treturn result;\n\t\t}\n\n\t\tif ('raw' in global.String) {\n\t\t\tlet b = 1;\n\t\t\tlet callSite = getCallSite`a\\n${b}`;\n\n\t\t\t(callSite as any).raw = ['a\\\\n'];\n\t\t\tconst supportsTrunc = global.String.raw(callSite, 42) === 'a\\\\n';\n\n\t\t\treturn supportsTrunc;\n\t\t}\n\n\t\treturn false;\n\t},\n\ttrue\n);\n\nadd(\n\t'es2017-string',\n\t() => {\n\t\treturn ['padStart', 'padEnd'].every((key) => typeof global.String.prototype[key] === 'function');\n\t},\n\ttrue\n);\n\n/* Symbol */\nadd('es6-symbol', () => typeof global.Symbol !== 'undefined' && typeof Symbol() === 'symbol', true);\n\n/* WeakMap */\nadd(\n\t'es6-weakmap',\n\t() => {\n\t\tif (typeof global.WeakMap !== 'undefined') {\n\t\t\t/* IE11 and older versions of Safari are missing critical ES6 Map functionality */\n\t\t\tconst key1 = {};\n\t\t\tconst key2 = {};\n\t\t\tconst map = new global.WeakMap([[key1, 1]]);\n\t\t\tObject.freeze(key1);\n\t\t\treturn map.get(key1) === 1 && map.set(key2, 2) === map && has('es6-symbol');\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\n/* Miscellaneous features */\nadd('microtasks', () => has('es6-promise') || has('host-node') || has('dom-mutationobserver'), true);\nadd(\n\t'postmessage',\n\t() => {\n\t\t// If window is undefined, and we have postMessage, it probably means we're in a web worker. Web workers have\n\t\t// post message but it doesn't work how we expect it to, so it's best just to pretend it doesn't exist.\n\t\treturn typeof global.window !== 'undefined' && typeof global.postMessage === 'function';\n\t},\n\ttrue\n);\nadd('raf', () => typeof global.requestAnimationFrame === 'function', true);\nadd('setimmediate', () => typeof global.setImmediate !== 'undefined', true);\n\n/* DOM Features */\n\nadd(\n\t'dom-mutationobserver',\n\t() => {\n\t\tif (has('host-browser') && Boolean(global.MutationObserver || global.WebKitMutationObserver)) {\n\t\t\t// IE11 has an unreliable MutationObserver implementation where setProperty() does not\n\t\t\t// generate a mutation event, observers can crash, and the queue does not drain\n\t\t\t// reliably. The following feature test was adapted from\n\t\t\t// https://gist.github.com/t10ko/4aceb8c71681fdb275e33efe5e576b14\n\t\t\tconst example = document.createElement('div');\n\t\t\t/* tslint:disable-next-line:variable-name */\n\t\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\t\tconst observer = new HostMutationObserver(function() {});\n\t\t\tobserver.observe(example, { attributes: true });\n\n\t\t\texample.style.setProperty('display', 'block');\n\n\t\t\treturn Boolean(observer.takeRecords().length);\n\t\t}\n\t\treturn false;\n\t},\n\ttrue\n);\n\nadd(\n\t'dom-webanimation',\n\t() => has('host-browser') && global.Animation !== undefined && global.KeyframeEffect !== undefined,\n\ttrue\n);\n\nadd('abort-controller', () => typeof global.AbortController !== 'undefined');\n\nadd('abort-signal', () => typeof global.AbortSignal !== 'undefined');\n\n\n\n// WEBPACK FOOTER //\n// has.ts","import { DNode } from '../widget-core/interfaces';\nimport { WidgetBase } from '../widget-core/WidgetBase';\nimport { alwaysRender } from '../widget-core/decorators/alwaysRender';\nimport { MatchDetails } from './interfaces';\nimport { Router } from './Router';\nimport { diffProperty } from '../widget-core/decorators/diffProperty';\nimport { Handle } from '../core/Destroyable';\n\nexport interface OutletProperties {\n\trenderer: (matchDetails: MatchDetails) => DNode | DNode[];\n\tid: string;\n\trouterKey?: string;\n}\n\n@alwaysRender()\nexport class Outlet extends WidgetBase<OutletProperties> {\n\tprivate _handle: Handle | undefined;\n\n\t@diffProperty('routerKey')\n\tprotected onRouterKeyChange(current: OutletProperties, next: OutletProperties) {\n\t\tconst { routerKey = 'router' } = next;\n\t\tconst item = this.registry.getInjector<Router>(routerKey);\n\t\tif (this._handle) {\n\t\t\tthis._handle.destroy();\n\t\t\tthis._handle = undefined;\n\t\t}\n\t\tif (item) {\n\t\t\tthis._handle = item.invalidator.on('invalidate', () => {\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\t\t\tthis.own(this._handle);\n\t\t}\n\t}\n\n\tprotected onAttach() {\n\t\tif (!this._handle) {\n\t\t\tthis.onRouterKeyChange(this.properties, this.properties);\n\t\t}\n\t}\n\n\tprotected render(): DNode | DNode[] {\n\t\tconst { renderer, id, routerKey = 'router' } = this.properties;\n\t\tconst item = this.registry.getInjector<Router>(routerKey);\n\n\t\tif (item) {\n\t\t\tconst router = item.injector();\n\t\t\tconst outletContext = router.getOutlet(id);\n\t\t\tif (outletContext) {\n\t\t\t\tconst { queryParams, params, type, isError, isExact } = outletContext;\n\t\t\t\tconst result = renderer({ queryParams, params, type, isError, isExact, router });\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default Outlet;\n\n\n\n// WEBPACK FOOTER //\n// Outlet.ts","import QueuingEvented from '../core/QueuingEvented';\nimport { RouteConfig, History, OutletContext, Params, RouterInterface, Route, RouterOptions } from './interfaces';\nimport { HashHistory } from './history/HashHistory';\nimport { EventObject } from '../core/Evented';\n\nconst PARAM = '__PARAM__';\n\nconst paramRegExp = new RegExp(/^{.+}$/);\n\ninterface RouteWrapper {\n\troute: Route;\n\tsegments: string[];\n\tparent?: RouteWrapper;\n\ttype?: string;\n\tparams: Params;\n}\n\nexport interface NavEvent extends EventObject<string> {\n\toutlet?: string;\n\tcontext?: OutletContext;\n}\n\nexport interface OutletEvent extends EventObject<string> {\n\toutlet: OutletContext;\n\taction: 'enter' | 'exit';\n}\n\nconst ROUTE_SEGMENT_SCORE = 7;\nconst DYNAMIC_SEGMENT_PENALTY = 2;\n\nfunction matchingParams({ params: previousParams }: OutletContext, { params }: OutletContext) {\n\tconst matching = Object.keys(previousParams).every((key) => previousParams[key] === params[key]);\n\tif (!matching) {\n\t\treturn false;\n\t}\n\treturn Object.keys(params).every((key) => previousParams[key] === params[key]);\n}\n\nexport class Router extends QueuingEvented<{ nav: NavEvent; outlet: OutletEvent }> implements RouterInterface {\n\tprivate _routes: Route[] = [];\n\tprivate _outletMap: { [index: string]: Route } = Object.create(null);\n\tprivate _matchedOutlets: { [index: string]: OutletContext } = Object.create(null);\n\tprivate _currentParams: Params = {};\n\tprivate _currentQueryParams: Params = {};\n\tprivate _defaultOutlet: string | undefined;\n\tprivate _history: History;\n\n\tconstructor(config: RouteConfig[], options: RouterOptions = {}) {\n\t\tsuper();\n\t\tconst { HistoryManager = HashHistory, base, window } = options;\n\t\tthis._register(config);\n\t\tthis._history = new HistoryManager({ onChange: this._onChange, base, window });\n\t\tif (this._matchedOutlets.errorOutlet && this._defaultOutlet) {\n\t\t\tconst path = this.link(this._defaultOutlet);\n\t\t\tif (path) {\n\t\t\t\tthis.setPath(path);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the path against the registered history manager\n\t *\n\t * @param path The path to set on the history manager\n\t */\n\tpublic setPath(path: string): void {\n\t\tthis._history.set(path);\n\t}\n\n\t/**\n\t * Generate a link for a given outlet identifier and optional params.\n\t *\n\t * @param outlet The outlet to generate a link for\n\t * @param params Optional Params for the generated link\n\t */\n\tpublic link(outlet: string, params: Params = {}): string | undefined {\n\t\tconst { _outletMap, _currentParams, _currentQueryParams } = this;\n\t\tlet route = _outletMap[outlet];\n\t\tif (route === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet linkPath: string | undefined = route.fullPath;\n\t\tif (route.fullQueryParams.length > 0) {\n\t\t\tlet queryString = route.fullQueryParams.reduce((queryParamString, param, index) => {\n\t\t\t\tif (index > 0) {\n\t\t\t\t\treturn `${queryParamString}&${param}={${param}}`;\n\t\t\t\t}\n\t\t\t\treturn `?${param}={${param}}`;\n\t\t\t}, '');\n\t\t\tlinkPath = `${linkPath}${queryString}`;\n\t\t}\n\t\tparams = { ...route.defaultParams, ..._currentQueryParams, ..._currentParams, ...params };\n\n\t\tif (Object.keys(params).length === 0 && route.fullParams.length > 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst fullParams = [...route.fullParams, ...route.fullQueryParams];\n\t\tfor (let i = 0; i < fullParams.length; i++) {\n\t\t\tconst param = fullParams[i];\n\t\t\tif (params[param]) {\n\t\t\t\tlinkPath = linkPath.replace(`{${param}}`, params[param]);\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t\treturn linkPath;\n\t}\n\n\t/**\n\t * Returns the outlet context for the outlet identifier if one has been matched\n\t *\n\t * @param outletIdentifier The outlet identifer\n\t */\n\tpublic getOutlet(outletIdentifier: string): OutletContext | undefined {\n\t\treturn this._matchedOutlets[outletIdentifier];\n\t}\n\n\t/**\n\t * Returns all the params for the current matched outlets\n\t */\n\tpublic get currentParams() {\n\t\treturn this._currentParams;\n\t}\n\n\t/**\n\t * Strips the leading slash on a path if one exists\n\t *\n\t * @param path The path to strip a leading slash\n\t */\n\tprivate _stripLeadingSlash(path: string): string {\n\t\tif (path[0] === '/') {\n\t\t\treturn path.slice(1);\n\t\t}\n\t\treturn path;\n\t}\n\n\t/**\n\t * Registers the routing configuration\n\t *\n\t * @param config The configuration\n\t * @param routes The routes\n\t * @param parentRoute The parent route\n\t */\n\tprivate _register(config: RouteConfig[], routes?: Route[], parentRoute?: Route): void {\n\t\troutes = routes ? routes : this._routes;\n\t\tfor (let i = 0; i < config.length; i++) {\n\t\t\tlet { path, outlet, children, defaultRoute = false, defaultParams = {} } = config[i];\n\t\t\tlet [parsedPath, queryParamString] = path.split('?');\n\t\t\tlet queryParams: string[] = [];\n\t\t\tparsedPath = this._stripLeadingSlash(parsedPath);\n\n\t\t\tconst segments: string[] = parsedPath.split('/');\n\t\t\tconst route: Route = {\n\t\t\t\tparams: [],\n\t\t\t\toutlet,\n\t\t\t\tpath: parsedPath,\n\t\t\t\tsegments,\n\t\t\t\tdefaultParams: parentRoute ? { ...parentRoute.defaultParams, ...defaultParams } : defaultParams,\n\t\t\t\tchildren: [],\n\t\t\t\tfullPath: parentRoute ? `${parentRoute.fullPath}/${parsedPath}` : parsedPath,\n\t\t\t\tfullParams: [],\n\t\t\t\tfullQueryParams: [],\n\t\t\t\tscore: parentRoute ? parentRoute.score : 0\n\t\t\t};\n\t\t\tif (defaultRoute) {\n\t\t\t\tthis._defaultOutlet = outlet;\n\t\t\t}\n\t\t\tfor (let i = 0; i < segments.length; i++) {\n\t\t\t\tconst segment = segments[i];\n\t\t\t\troute.score += ROUTE_SEGMENT_SCORE;\n\t\t\t\tif (paramRegExp.test(segment)) {\n\t\t\t\t\troute.score -= DYNAMIC_SEGMENT_PENALTY;\n\t\t\t\t\troute.params.push(segment.replace('{', '').replace('}', ''));\n\t\t\t\t\tsegments[i] = PARAM;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (queryParamString) {\n\t\t\t\tqueryParams = queryParamString.split('&').map((queryParam) => {\n\t\t\t\t\treturn queryParam.replace('{', '').replace('}', '');\n\t\t\t\t});\n\t\t\t}\n\t\t\troute.fullQueryParams = parentRoute ? [...parentRoute.fullQueryParams, ...queryParams] : queryParams;\n\n\t\t\troute.fullParams = parentRoute ? [...parentRoute.fullParams, ...route.params] : route.params;\n\n\t\t\tif (children && children.length > 0) {\n\t\t\t\tthis._register(children, route.children, route);\n\t\t\t}\n\t\t\tthis._outletMap[outlet] = route;\n\t\t\troutes.push(route);\n\t\t}\n\t}\n\n\t/**\n\t * Returns an object of query params\n\t *\n\t * @param queryParamString The string of query params, e.g `paramOne=one&paramTwo=two`\n\t */\n\tprivate _getQueryParams(queryParamString?: string): { [index: string]: string } {\n\t\tconst queryParams: { [index: string]: string } = {};\n\t\tif (queryParamString) {\n\t\t\tconst queryParameters = queryParamString.split('&');\n\t\t\tfor (let i = 0; i < queryParameters.length; i++) {\n\t\t\t\tconst [key, value] = queryParameters[i].split('=');\n\t\t\t\tqueryParams[key] = value;\n\t\t\t}\n\t\t}\n\t\treturn queryParams;\n\t}\n\n\t/**\n\t * Called on change of the route by the the registered history manager. Matches the path against\n\t * the registered outlets.\n\t *\n\t * @param requestedPath The path of the requested route\n\t */\n\tprivate _onChange = (requestedPath: string): void => {\n\t\trequestedPath = this._stripLeadingSlash(requestedPath);\n\t\tconst previousMatchedOutlets = this._matchedOutlets;\n\t\tthis._matchedOutlets = Object.create(null);\n\t\tconst [path, queryParamString] = requestedPath.split('?');\n\t\tthis._currentQueryParams = this._getQueryParams(queryParamString);\n\t\tconst segments = path.split('/');\n\t\tlet routeConfigs: RouteWrapper[] = this._routes.map((route) => ({\n\t\t\troute,\n\t\t\tsegments: [...segments],\n\t\t\tparent: undefined,\n\t\t\tparams: {}\n\t\t}));\n\t\tlet routeConfig: RouteWrapper | undefined;\n\t\tlet matchedRoutes: RouteWrapper[] = [];\n\t\twhile ((routeConfig = routeConfigs.pop())) {\n\t\t\tconst { route, parent, segments, params } = routeConfig;\n\t\t\tlet segmentIndex = 0;\n\t\t\tlet type = 'index';\n\t\t\tlet paramIndex = 0;\n\t\t\tlet routeMatch = true;\n\t\t\tif (segments.length < route.segments.length) {\n\t\t\t\trouteMatch = false;\n\t\t\t} else {\n\t\t\t\twhile (segments.length > 0) {\n\t\t\t\t\tif (route.segments[segmentIndex] === undefined) {\n\t\t\t\t\t\ttype = 'partial';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst segment = segments.shift()!;\n\t\t\t\t\tif (route.segments[segmentIndex] === PARAM) {\n\t\t\t\t\t\tparams[route.params[paramIndex++]] = segment;\n\t\t\t\t\t\tthis._currentParams = { ...this._currentParams, ...params };\n\t\t\t\t\t} else if (route.segments[segmentIndex] !== segment) {\n\t\t\t\t\t\trouteMatch = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsegmentIndex++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (routeMatch) {\n\t\t\t\trouteConfig.type = type;\n\t\t\t\tmatchedRoutes.push({ route, parent, type, params, segments: [] });\n\t\t\t\tif (segments.length) {\n\t\t\t\t\trouteConfigs = [\n\t\t\t\t\t\t...routeConfigs,\n\t\t\t\t\t\t...route.children.map((childRoute) => ({\n\t\t\t\t\t\t\troute: childRoute,\n\t\t\t\t\t\t\tsegments: [...segments],\n\t\t\t\t\t\t\tparent: routeConfig,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tparams: { ...params }\n\t\t\t\t\t\t}))\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet matchedOutletName: string | undefined = undefined;\n\t\tlet matchedRoute: any = matchedRoutes.reduce((match: any, matchedRoute: any) => {\n\t\t\tif (!match) {\n\t\t\t\treturn matchedRoute;\n\t\t\t}\n\t\t\tif (match.route.score > matchedRoute.route.score) {\n\t\t\t\treturn match;\n\t\t\t}\n\t\t\treturn matchedRoute;\n\t\t}, undefined);\n\n\t\tif (matchedRoute) {\n\t\t\tif (matchedRoute.type === 'partial') {\n\t\t\t\tmatchedRoute.type = 'error';\n\t\t\t}\n\t\t\tmatchedOutletName = matchedRoute.route.outlet;\n\t\t\twhile (matchedRoute) {\n\t\t\t\tlet { type, params, parent, route } = matchedRoute;\n\t\t\t\tconst matchedOutlet = {\n\t\t\t\t\tid: route.outlet,\n\t\t\t\t\tqueryParams: this._currentQueryParams,\n\t\t\t\t\tparams,\n\t\t\t\t\ttype,\n\t\t\t\t\tisError: () => type === 'error',\n\t\t\t\t\tisExact: () => type === 'index'\n\t\t\t\t};\n\t\t\t\tconst previousMatchedOutlet = previousMatchedOutlets[route.outlet];\n\t\t\t\tthis._matchedOutlets[route.outlet] = matchedOutlet;\n\t\t\t\tif (!previousMatchedOutlet || !matchingParams(previousMatchedOutlet, matchedOutlet)) {\n\t\t\t\t\tthis.emit({ type: 'outlet', outlet: matchedOutlet, action: 'enter' });\n\t\t\t\t}\n\t\t\t\tmatchedRoute = parent;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._matchedOutlets.errorOutlet = {\n\t\t\t\tid: 'errorOutlet',\n\t\t\t\tqueryParams: {},\n\t\t\t\tparams: {},\n\t\t\t\tisError: () => true,\n\t\t\t\tisExact: () => false,\n\t\t\t\ttype: 'error'\n\t\t\t};\n\t\t}\n\n\t\tconst previousMatchedOutletKeys = Object.keys(previousMatchedOutlets);\n\t\tfor (let i = 0; i < previousMatchedOutletKeys.length; i++) {\n\t\t\tconst key = previousMatchedOutletKeys[i];\n\t\t\tconst matchedOutlet = this._matchedOutlets[key];\n\t\t\tif (!matchedOutlet || !matchingParams(previousMatchedOutlets[key], matchedOutlet)) {\n\t\t\t\tthis.emit({ type: 'outlet', outlet: previousMatchedOutlets[key], action: 'exit' });\n\t\t\t}\n\t\t}\n\t\tthis.emit({\n\t\t\ttype: 'nav',\n\t\t\toutlet: matchedOutletName,\n\t\t\tcontext: matchedOutletName ? this._matchedOutlets[matchedOutletName] : undefined\n\t\t});\n\t};\n}\n\nexport default Router;\n\n\n\n// WEBPACK FOOTER //\n// Router.ts","import { Registry } from '../widget-core/Registry';\nimport { RegistryLabel } from '../widget-core/interfaces';\n\nimport { Router } from './Router';\nimport { RouteConfig, RouterOptions } from './interfaces';\n\n/**\n * Router Injector Options\n *\n */\nexport interface RouterInjectorOptions extends RouterOptions {\n\tkey?: RegistryLabel;\n}\n\n/**\n * Creates a router instance for a specific History manager (default is `HashHistory`) and registers\n * the route configuration.\n *\n * @param config The route config to register for the router\n * @param registry An optional registry that defaults to the global registry\n * @param options The router injector options\n */\nexport function registerRouterInjector(\n\tconfig: RouteConfig[],\n\tregistry: Registry,\n\toptions: RouterInjectorOptions = {}\n): Router {\n\tconst { key = 'router', ...routerOptions } = options;\n\n\tif (registry.hasInjector(key)) {\n\t\tthrow new Error('Router has already been defined');\n\t}\n\tconst router = new Router(config, routerOptions);\n\tregistry.defineInjector(key, (invalidator: () => void) => {\n\t\trouter.on('nav', () => invalidator());\n\t\treturn () => router;\n\t});\n\treturn router;\n}\n\n\n\n// WEBPACK FOOTER //\n// RouterInjector.ts","import global from '../../shim/global';\nimport { History, HistoryOptions, OnChangeFunction } from './../interfaces';\n\nexport class HashHistory implements History {\n\tprivate _onChangeFunction: OnChangeFunction;\n\tprivate _current: string;\n\tprivate _window: Window;\n\n\tconstructor({ window = global.window, onChange }: HistoryOptions) {\n\t\tthis._onChangeFunction = onChange;\n\t\tthis._window = window;\n\t\tthis._window.addEventListener('hashchange', this._onChange, false);\n\t\tthis._current = this.normalizePath(this._window.location.hash);\n\t\tthis._onChangeFunction(this._current);\n\t}\n\n\tpublic normalizePath(path: string): string {\n\t\treturn path.replace('#', '');\n\t}\n\n\tpublic prefix(path: string) {\n\t\tif (path[0] !== '#') {\n\t\t\treturn `#${path}`;\n\t\t}\n\t\treturn path;\n\t}\n\n\tpublic set(path: string) {\n\t\tthis._window.location.hash = this.prefix(path);\n\t}\n\n\tpublic get current(): string {\n\t\treturn this._current;\n\t}\n\n\tpublic destroy() {\n\t\tthis._window.removeEventListener('hashchange', this._onChange);\n\t}\n\n\tprivate _onChange = () => {\n\t\tthis._current = this.normalizePath(this._window.location.hash);\n\t\tthis._onChangeFunction(this._current);\n\t};\n}\n\nexport default HashHistory;\n\n\n\n// WEBPACK FOOTER //\n// HashHistory.ts","import { isArrayLike, Iterable, IterableIterator, ShimIterator } from './iterator';\nimport global from './global';\nimport { is as objectIs } from './object';\nimport has from './support/has';\nimport './Symbol';\n\nexport interface Map<K, V> {\n\t/**\n\t * Deletes all keys and their associated values.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Deletes a given key and its associated value.\n\t *\n\t * @param key The key to delete\n\t * @return true if the key exists, false if it does not\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Returns an iterator that yields each key/value pair as an array.\n\t *\n\t * @return An iterator for each key/value pair in the instance.\n\t */\n\tentries(): IterableIterator<[K, V]>;\n\n\t/**\n\t * Executes a given function for each map entry. The function\n\t * is invoked with three arguments: the element value, the\n\t * element key, and the associated Map instance.\n\t *\n\t * @param callbackfn The function to execute for each map entry,\n\t * @param thisArg The value to use for `this` for each execution of the calback\n\t */\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void;\n\n\t/**\n\t * Returns the value associated with a given key.\n\t *\n\t * @param key The key to look up\n\t * @return The value if one exists or undefined\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Returns an iterator that yields each key in the map.\n\t *\n\t * @return An iterator containing the instance's keys.\n\t */\n\tkeys(): IterableIterator<K>;\n\n\t/**\n\t * Checks for the presence of a given key.\n\t *\n\t * @param key The key to check for\n\t * @return true if the key exists, false if it does not\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Sets the value associated with a given key.\n\t *\n\t * @param key The key to define a value to\n\t * @param value The value to assign\n\t * @return The Map instance\n\t */\n\tset(key: K, value: V): this;\n\n\t/**\n\t * Returns the number of key / value pairs in the Map.\n\t */\n\treadonly size: number;\n\n\t/**\n\t * Returns an iterator that yields each value in the map.\n\t *\n\t * @return An iterator containing the instance's values.\n\t */\n\tvalues(): IterableIterator<V>;\n\n\t/** Returns an iterable of entries in the map. */\n\t[Symbol.iterator](): IterableIterator<[K, V]>;\n\n\treadonly [Symbol.toStringTag]: string;\n}\n\nexport interface MapConstructor {\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t */\n\tnew (): Map<any, any>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator?: [K, V][]): Map<K, V>;\n\n\t/**\n\t * Creates a new Map\n\t *\n\t * @constructor\n\t *\n\t * @param iterator\n\t * Array or iterator containing two-item tuples used to initially populate the map.\n\t * The first item in each tuple corresponds to the key of the map entry.\n\t * The second item corresponds to the value of the map entry.\n\t */\n\tnew <K, V>(iterator: Iterable<[K, V]>): Map<K, V>;\n\n\treadonly prototype: Map<any, any>;\n\n\treadonly [Symbol.species]: MapConstructor;\n}\n\nexport let Map: MapConstructor = global.Map;\n\nif (!has('es6-map')) {\n\tMap = class Map<K, V> {\n\t\tprotected readonly _keys: K[] = [];\n\t\tprotected readonly _values: V[] = [];\n\n\t\t/**\n\t\t * An alternative to Array.prototype.indexOf using Object.is\n\t\t * to check for equality. See http://mzl.la/1zuKO2V\n\t\t */\n\t\tprotected _indexOfKey(keys: K[], key: K): number {\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tif (objectIs(keys[i], key)) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tstatic [Symbol.species] = Map;\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst value = iterable[i];\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\t\tthis.set(value[0], value[1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tget size(): number {\n\t\t\treturn this._keys.length;\n\t\t}\n\n\t\tclear(): void {\n\t\t\tthis._keys.length = this._values.length = 0;\n\t\t}\n\n\t\tdelete(key: K): boolean {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\tif (index < 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._keys.splice(index, 1);\n\t\t\tthis._values.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\n\t\tentries(): IterableIterator<[K, V]> {\n\t\t\tconst values = this._keys.map(\n\t\t\t\t(key: K, i: number): [K, V] => {\n\t\t\t\t\treturn [key, this._values[i]];\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn new ShimIterator(values);\n\t\t}\n\n\t\tforEach(callback: (value: V, key: K, mapInstance: Map<K, V>) => any, context?: {}) {\n\t\t\tconst keys = this._keys;\n\t\t\tconst values = this._values;\n\t\t\tfor (let i = 0, length = keys.length; i < length; i++) {\n\t\t\t\tcallback.call(context, values[i], keys[i], this);\n\t\t\t}\n\t\t}\n\n\t\tget(key: K): V | undefined {\n\t\t\tconst index = this._indexOfKey(this._keys, key);\n\t\t\treturn index < 0 ? undefined : this._values[index];\n\t\t}\n\n\t\thas(key: K): boolean {\n\t\t\treturn this._indexOfKey(this._keys, key) > -1;\n\t\t}\n\n\t\tkeys(): IterableIterator<K> {\n\t\t\treturn new ShimIterator(this._keys);\n\t\t}\n\n\t\tset(key: K, value: V): Map<K, V> {\n\t\t\tlet index = this._indexOfKey(this._keys, key);\n\t\t\tindex = index < 0 ? this._keys.length : index;\n\t\t\tthis._keys[index] = key;\n\t\t\tthis._values[index] = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tvalues(): IterableIterator<V> {\n\t\t\treturn new ShimIterator(this._values);\n\t\t}\n\n\t\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\t\treturn this.entries();\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'Map' = 'Map';\n\t};\n}\n\nexport default Map;\n\n\n\n// WEBPACK FOOTER //\n// Map.ts","import { Thenable } from './interfaces';\nimport global from './global';\nimport { queueMicroTask } from './support/queue';\nimport { Iterable } from './iterator';\nimport './Symbol';\nimport has from './support/has';\n\n/**\n * Executor is the interface for functions used to initialize a Promise.\n */\nexport interface Executor<T> {\n\t/**\n\t * The executor for the promise\n\t *\n\t * @param resolve The resolver callback of the promise\n\t * @param reject The rejector callback of the promise\n\t */\n\t(resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: any) => void): void;\n}\n\nexport let ShimPromise: typeof Promise = global.Promise;\n\nexport const isThenable = function isThenable<T>(value: any): value is PromiseLike<T> {\n\treturn value && typeof value.then === 'function';\n};\n\nif (!has('es6-promise')) {\n\tconst enum State {\n\t\tFulfilled,\n\t\tPending,\n\t\tRejected\n\t}\n\n\tglobal.Promise = ShimPromise = class Promise<T> implements Thenable<T> {\n\t\tstatic all(iterable: Iterable<any | PromiseLike<any>> | (any | PromiseLike<any>)[]): Promise<any> {\n\t\t\treturn new this(function(resolve, reject) {\n\t\t\t\tconst values: any[] = [];\n\t\t\t\tlet complete = 0;\n\t\t\t\tlet total = 0;\n\t\t\t\tlet populating = true;\n\n\t\t\t\tfunction fulfill(index: number, value: any): void {\n\t\t\t\t\tvalues[index] = value;\n\t\t\t\t\t++complete;\n\t\t\t\t\tfinish();\n\t\t\t\t}\n\n\t\t\t\tfunction finish(): void {\n\t\t\t\t\tif (populating || complete < total) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tresolve(values);\n\t\t\t\t}\n\n\t\t\t\tfunction processItem(index: number, item: any): void {\n\t\t\t\t\t++total;\n\t\t\t\t\tif (isThenable(item)) {\n\t\t\t\t\t\t// If an item Promise rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(fulfill.bind(null, index), reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tPromise.resolve(item).then(fulfill.bind(null, index));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet i = 0;\n\t\t\t\tfor (const value of iterable) {\n\t\t\t\t\tprocessItem(i, value);\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tpopulating = false;\n\n\t\t\t\tfinish();\n\t\t\t});\n\t\t}\n\n\t\tstatic race<T>(iterable: Iterable<T | PromiseLike<T>> | (T | PromiseLike<T>)[]): Promise<T[]> {\n\t\t\treturn new this(function(resolve: (value?: any) => void, reject) {\n\t\t\t\tfor (const item of iterable) {\n\t\t\t\t\tif (item instanceof Promise) {\n\t\t\t\t\t\t// If a Promise item rejects, this Promise is immediately rejected with the item\n\t\t\t\t\t\t// Promise's rejection error.\n\t\t\t\t\t\titem.then(resolve, reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tPromise.resolve(item).then(resolve);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tstatic reject(reason?: any): Promise<never> {\n\t\t\treturn new this(function(resolve, reject) {\n\t\t\t\treject(reason);\n\t\t\t});\n\t\t}\n\n\t\tstatic resolve(): Promise<void>;\n\t\tstatic resolve<T>(value: T | PromiseLike<T>): Promise<T>;\n\t\tstatic resolve<T>(value?: any): Promise<T> {\n\t\t\treturn new this(function(resolve) {\n\t\t\t\tresolve(<T>value);\n\t\t\t});\n\t\t}\n\n\t\tstatic [Symbol.species]: PromiseConstructor = ShimPromise as PromiseConstructor;\n\n\t\t/**\n\t\t * Creates a new Promise.\n\t\t *\n\t\t * @constructor\n\t\t *\n\t\t * @param executor\n\t\t * The executor function is called immediately when the Promise is instantiated. It is responsible for\n\t\t * starting the asynchronous operation when it is invoked.\n\t\t *\n\t\t * The executor must call either the passed `resolve` function when the asynchronous operation has completed\n\t\t * successfully, or the `reject` function when the operation fails.\n\t\t */\n\t\tconstructor(executor: Executor<T>) {\n\t\t\t/**\n\t\t\t * If true, the resolution of this promise is chained (\"locked in\") to another promise.\n\t\t\t */\n\t\t\tlet isChained = false;\n\n\t\t\t/**\n\t\t\t * Whether or not this promise is in a resolved state.\n\t\t\t */\n\t\t\tconst isResolved = (): boolean => {\n\t\t\t\treturn this.state !== State.Pending || isChained;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Callbacks that should be invoked once the asynchronous operation has completed.\n\t\t\t */\n\t\t\tlet callbacks: null | (Array<() => void>) = [];\n\n\t\t\t/**\n\t\t\t * Initially pushes callbacks onto a queue for execution once this promise settles. After the promise settles,\n\t\t\t * enqueues callbacks for execution on the next event loop turn.\n\t\t\t */\n\t\t\tlet whenFinished = function(callback: () => void): void {\n\t\t\t\tif (callbacks) {\n\t\t\t\t\tcallbacks.push(callback);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Settles this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|any} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst settle = (newState: State, value: any): void => {\n\t\t\t\t// A promise can only be settled once.\n\t\t\t\tif (this.state !== State.Pending) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.state = newState;\n\t\t\t\tthis.resolvedValue = value;\n\t\t\t\twhenFinished = queueMicroTask;\n\n\t\t\t\t// Only enqueue a callback runner if there are callbacks so that initially fulfilled Promises don't have to\n\t\t\t\t// wait an extra turn.\n\t\t\t\tif (callbacks && callbacks.length > 0) {\n\t\t\t\t\tqueueMicroTask(function(): void {\n\t\t\t\t\t\tif (callbacks) {\n\t\t\t\t\t\t\tlet count = callbacks.length;\n\t\t\t\t\t\t\tfor (let i = 0; i < count; ++i) {\n\t\t\t\t\t\t\t\tcallbacks[i].call(null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcallbacks = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Resolves this promise.\n\t\t\t *\n\t\t\t * @param newState The resolved state for this promise.\n\t\t\t * @param {T|any} value The resolved value for this promise.\n\t\t\t */\n\t\t\tconst resolve = (newState: State, value: any): void => {\n\t\t\t\tif (isResolved()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isThenable(value)) {\n\t\t\t\t\tvalue.then(settle.bind(null, State.Fulfilled), settle.bind(null, State.Rejected));\n\t\t\t\t\tisChained = true;\n\t\t\t\t} else {\n\t\t\t\t\tsettle(newState, value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.then = <TResult1 = T, TResult2 = never>(\n\t\t\t\tonFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\t\t\tonRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t\t\t): Promise<TResult1 | TResult2> => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t// whenFinished initially queues up callbacks for execution after the promise has settled. Once the\n\t\t\t\t\t// promise has settled, whenFinished will schedule callbacks for execution on the next turn through the\n\t\t\t\t\t// event loop.\n\t\t\t\t\twhenFinished(() => {\n\t\t\t\t\t\tconst callback: ((value?: any) => any) | undefined | null =\n\t\t\t\t\t\t\tthis.state === State.Rejected ? onRejected : onFulfilled;\n\n\t\t\t\t\t\tif (typeof callback === 'function') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresolve(callback(this.resolvedValue));\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (this.state === State.Rejected) {\n\t\t\t\t\t\t\treject(this.resolvedValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(this.resolvedValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\texecutor(resolve.bind(null, State.Fulfilled), resolve.bind(null, State.Rejected));\n\t\t\t} catch (error) {\n\t\t\t\tsettle(State.Rejected, error);\n\t\t\t}\n\t\t}\n\n\t\tcatch<TResult = never>(\n\t\t\tonRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null\n\t\t): Promise<T | TResult> {\n\t\t\treturn this.then(undefined, onRejected);\n\t\t}\n\n\t\t/**\n\t\t * The current state of this promise.\n\t\t */\n\t\tprivate state = State.Pending;\n\n\t\t/**\n\t\t * The resolved value for this promise.\n\t\t *\n\t\t * @type {T|any}\n\t\t */\n\t\tprivate resolvedValue: any;\n\n\t\tthen: <TResult1 = T, TResult2 = never>(\n\t\t\tonfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\t\tonrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null\n\t\t) => Promise<TResult1 | TResult2>;\n\n\t\t[Symbol.toStringTag]: 'Promise' = 'Promise';\n\t};\n}\n\nexport default ShimPromise;\n\n\n\n// WEBPACK FOOTER //\n// Promise.ts","import has from './support/has';\nimport global from './global';\nimport { getValueDescriptor } from './support/util';\n\ndeclare global {\n\tinterface SymbolConstructor {\n\t\tobservable: symbol;\n\t}\n}\n\nexport let Symbol: SymbolConstructor = global.Symbol;\n\nif (!has('es6-symbol')) {\n\t/**\n\t * Throws if the value is not a symbol, used internally within the Shim\n\t * @param  {any}    value The value to check\n\t * @return {symbol}       Returns the symbol or throws\n\t */\n\tconst validateSymbol = function validateSymbol(value: any): symbol {\n\t\tif (!isSymbol(value)) {\n\t\t\tthrow new TypeError(value + ' is not a symbol');\n\t\t}\n\t\treturn value;\n\t};\n\n\tconst defineProperties = Object.defineProperties;\n\tconst defineProperty: (\n\t\to: any,\n\t\tp: string | symbol,\n\t\tattributes: PropertyDescriptor & ThisType<any>\n\t) => any = Object.defineProperty as any;\n\tconst create = Object.create;\n\n\tconst objPrototype = Object.prototype;\n\n\tconst globalSymbols: { [key: string]: symbol } = {};\n\n\tconst getSymbolName = (function() {\n\t\tconst created = create(null);\n\t\treturn function(desc: string | number): string {\n\t\t\tlet postfix = 0;\n\t\t\tlet name: string;\n\t\t\twhile (created[String(desc) + (postfix || '')]) {\n\t\t\t\t++postfix;\n\t\t\t}\n\t\t\tdesc += String(postfix || '');\n\t\t\tcreated[desc] = true;\n\t\t\tname = '@@' + desc;\n\n\t\t\t// FIXME: Temporary guard until the duplicate execution when testing can be\n\t\t\t// pinned down.\n\t\t\tif (!Object.getOwnPropertyDescriptor(objPrototype, name)) {\n\t\t\t\tdefineProperty(objPrototype, name, {\n\t\t\t\t\tset: function(this: Symbol, value: any) {\n\t\t\t\t\t\tdefineProperty(this, name, getValueDescriptor(value));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn name;\n\t\t};\n\t})();\n\n\tconst InternalSymbol = function Symbol(this: any, description?: string | number): symbol {\n\t\tif (this instanceof InternalSymbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\treturn Symbol(description);\n\t};\n\n\tSymbol = global.Symbol = function Symbol(this: Symbol, description?: string | number): symbol {\n\t\tif (this instanceof Symbol) {\n\t\t\tthrow new TypeError('TypeError: Symbol is not a constructor');\n\t\t}\n\t\tconst sym = Object.create(InternalSymbol.prototype);\n\t\tdescription = description === undefined ? '' : String(description);\n\t\treturn defineProperties(sym, {\n\t\t\t__description__: getValueDescriptor(description),\n\t\t\t__name__: getValueDescriptor(getSymbolName(description))\n\t\t});\n\t} as SymbolConstructor;\n\n\t/* Decorate the Symbol function with the appropriate properties */\n\tdefineProperty(\n\t\tSymbol,\n\t\t'for',\n\t\tgetValueDescriptor(function(key: string): symbol {\n\t\t\tif (globalSymbols[key]) {\n\t\t\t\treturn globalSymbols[key];\n\t\t\t}\n\t\t\treturn (globalSymbols[key] = Symbol(String(key)));\n\t\t})\n\t);\n\tdefineProperties(Symbol, {\n\t\tkeyFor: getValueDescriptor(function(sym: symbol): string | undefined {\n\t\t\tlet key: string;\n\t\t\tvalidateSymbol(sym);\n\t\t\tfor (key in globalSymbols) {\n\t\t\t\tif (globalSymbols[key] === sym) {\n\t\t\t\t\treturn key;\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\thasInstance: getValueDescriptor(Symbol.for('hasInstance'), false, false),\n\t\tisConcatSpreadable: getValueDescriptor(Symbol.for('isConcatSpreadable'), false, false),\n\t\titerator: getValueDescriptor(Symbol.for('iterator'), false, false),\n\t\tmatch: getValueDescriptor(Symbol.for('match'), false, false),\n\t\tobservable: getValueDescriptor(Symbol.for('observable'), false, false),\n\t\treplace: getValueDescriptor(Symbol.for('replace'), false, false),\n\t\tsearch: getValueDescriptor(Symbol.for('search'), false, false),\n\t\tspecies: getValueDescriptor(Symbol.for('species'), false, false),\n\t\tsplit: getValueDescriptor(Symbol.for('split'), false, false),\n\t\ttoPrimitive: getValueDescriptor(Symbol.for('toPrimitive'), false, false),\n\t\ttoStringTag: getValueDescriptor(Symbol.for('toStringTag'), false, false),\n\t\tunscopables: getValueDescriptor(Symbol.for('unscopables'), false, false)\n\t});\n\n\t/* Decorate the InternalSymbol object */\n\tdefineProperties(InternalSymbol.prototype, {\n\t\tconstructor: getValueDescriptor(Symbol),\n\t\ttoString: getValueDescriptor(\n\t\t\tfunction(this: { __name__: string }) {\n\t\t\t\treturn this.__name__;\n\t\t\t},\n\t\t\tfalse,\n\t\t\tfalse\n\t\t)\n\t});\n\n\t/* Decorate the Symbol.prototype */\n\tdefineProperties(Symbol.prototype, {\n\t\ttoString: getValueDescriptor(function(this: Symbol) {\n\t\t\treturn 'Symbol (' + (validateSymbol(this) as any).__description__ + ')';\n\t\t}),\n\t\tvalueOf: getValueDescriptor(function(this: Symbol) {\n\t\t\treturn validateSymbol(this);\n\t\t})\n\t});\n\n\tdefineProperty(\n\t\tSymbol.prototype,\n\t\tSymbol.toPrimitive,\n\t\tgetValueDescriptor(function(this: Symbol) {\n\t\t\treturn validateSymbol(this);\n\t\t})\n\t);\n\tdefineProperty(Symbol.prototype, Symbol.toStringTag, getValueDescriptor('Symbol', false, false, true));\n\n\tdefineProperty(\n\t\tInternalSymbol.prototype,\n\t\tSymbol.toPrimitive,\n\t\tgetValueDescriptor((Symbol as any).prototype[Symbol.toPrimitive], false, false, true)\n\t);\n\tdefineProperty(\n\t\tInternalSymbol.prototype,\n\t\tSymbol.toStringTag,\n\t\tgetValueDescriptor((Symbol as any).prototype[Symbol.toStringTag], false, false, true)\n\t);\n}\n\n/**\n * A custom guard function that determines if an object is a symbol or not\n * @param  {any}       value The value to check to see if it is a symbol or not\n * @return {is symbol}       Returns true if a symbol or not (and narrows the type guard)\n */\nexport function isSymbol(value: any): value is symbol {\n\treturn (value && (typeof value === 'symbol' || value['@@toStringTag'] === 'Symbol')) || false;\n}\n\n/**\n * Fill any missing well known symbols if the native Symbol is missing them\n */\n[\n\t'hasInstance',\n\t'isConcatSpreadable',\n\t'iterator',\n\t'species',\n\t'replace',\n\t'search',\n\t'split',\n\t'match',\n\t'toPrimitive',\n\t'toStringTag',\n\t'unscopables',\n\t'observable'\n].forEach((wellKnown) => {\n\tif (!(Symbol as any)[wellKnown]) {\n\t\tObject.defineProperty(Symbol, wellKnown, getValueDescriptor(Symbol.for(wellKnown), false, false));\n\t}\n});\n\nexport default Symbol;\n\n\n\n// WEBPACK FOOTER //\n// Symbol.ts","import global from './global';\nimport { isArrayLike, Iterable } from './iterator';\nimport has from './support/has';\nimport './Symbol';\n\nexport interface WeakMap<K extends object, V> {\n\t/**\n\t * Remove a `key` from the map\n\t *\n\t * @param key The key to remove\n\t * @return `true` if the value was removed, otherwise `false`\n\t */\n\tdelete(key: K): boolean;\n\n\t/**\n\t * Retrieve the value, based on the supplied `key`\n\t *\n\t * @param key The key to retrieve the `value` for\n\t * @return the `value` based on the `key` if found, otherwise `false`\n\t */\n\tget(key: K): V | undefined;\n\n\t/**\n\t * Determines if a `key` is present in the map\n\t *\n\t * @param key The `key` to check\n\t * @return `true` if the key is part of the map, otherwise `false`.\n\t */\n\thas(key: K): boolean;\n\n\t/**\n\t * Set a `value` for a particular `key`.\n\t *\n\t * @param key The `key` to set the `value` for\n\t * @param value The `value` to set\n\t * @return the instances\n\t */\n\tset(key: K, value: V): this;\n\n\treadonly [Symbol.toStringTag]: 'WeakMap';\n}\n\nexport interface WeakMapConstructor {\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t */\n\tnew (): WeakMap<object, any>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable?: [K, V][]): WeakMap<K, V>;\n\n\t/**\n\t * Create a new instance of a `WeakMap`\n\t *\n\t * @constructor\n\t *\n\t * @param iterable An iterable that contains yields up key/value pair entries\n\t */\n\tnew <K extends object, V>(iterable: Iterable<[K, V]>): WeakMap<K, V>;\n\n\treadonly prototype: WeakMap<object, any>;\n}\n\nexport let WeakMap: WeakMapConstructor = global.WeakMap;\n\ninterface Entry<K, V> {\n\tkey: K;\n\tvalue: V;\n}\n\nif (!has('es6-weakmap')) {\n\tconst DELETED: any = {};\n\n\tconst getUID = function getUID(): number {\n\t\treturn Math.floor(Math.random() * 100000000);\n\t};\n\n\tconst generateName = (function() {\n\t\tlet startId = Math.floor(Date.now() % 100000000);\n\n\t\treturn function generateName(): string {\n\t\t\treturn '__wm' + getUID() + (startId++ + '__');\n\t\t};\n\t})();\n\n\tWeakMap = class WeakMap<K, V> {\n\t\tprivate readonly _name: string;\n\t\tprivate readonly _frozenEntries: Entry<K, V>[];\n\n\t\tconstructor(iterable?: ArrayLike<[K, V]> | Iterable<[K, V]>) {\n\t\t\tthis._name = generateName();\n\n\t\t\tthis._frozenEntries = [];\n\n\t\t\tif (iterable) {\n\t\t\t\tif (isArrayLike(iterable)) {\n\t\t\t\t\tfor (let i = 0; i < iterable.length; i++) {\n\t\t\t\t\t\tconst item = iterable[i];\n\t\t\t\t\t\tthis.set(item[0], item[1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (const [key, value] of iterable) {\n\t\t\t\t\t\tthis.set(key, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _getFrozenEntryIndex(key: any): number {\n\t\t\tfor (let i = 0; i < this._frozenEntries.length; i++) {\n\t\t\t\tif (this._frozenEntries[i].key === key) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tdelete(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\tentry.value = DELETED;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\tthis._frozenEntries.splice(frozenIndex, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tget(key: any): V | undefined {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (entry && entry.key === key && entry.value !== DELETED) {\n\t\t\t\treturn entry.value;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn this._frozenEntries[frozenIndex].value;\n\t\t\t}\n\t\t}\n\n\t\thas(key: any): boolean {\n\t\t\tif (key === undefined || key === null) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst entry: Entry<K, V> = key[this._name];\n\t\t\tif (Boolean(entry && entry.key === key && entry.value !== DELETED)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst frozenIndex = this._getFrozenEntryIndex(key);\n\t\t\tif (frozenIndex >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tset(key: any, value?: any): this {\n\t\t\tif (!key || (typeof key !== 'object' && typeof key !== 'function')) {\n\t\t\t\tthrow new TypeError('Invalid value used as weak map key');\n\t\t\t}\n\t\t\tlet entry: Entry<K, V> = key[this._name];\n\t\t\tif (!entry || entry.key !== key) {\n\t\t\t\tentry = Object.create(null, {\n\t\t\t\t\tkey: { value: key }\n\t\t\t\t});\n\n\t\t\t\tif (Object.isFrozen(key)) {\n\t\t\t\t\tthis._frozenEntries.push(entry);\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(key, this._name, {\n\t\t\t\t\t\tvalue: entry\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tentry.value = value;\n\t\t\treturn this;\n\t\t}\n\n\t\t[Symbol.toStringTag]: 'WeakMap' = 'WeakMap';\n\t};\n}\n\nexport default WeakMap;\n\n\n\n// WEBPACK FOOTER //\n// WeakMap.ts","import global from './global';\nimport { isArrayLike, isIterable, Iterable } from './iterator';\nimport { MAX_SAFE_INTEGER } from './number';\nimport has from './support/has';\nimport { wrapNative } from './support/util';\n\nexport interface MapCallback<T, U> {\n\t/**\n\t * A callback function when mapping\n\t *\n\t * @param element The element that is currently being mapped\n\t * @param index The current index of the element\n\t */\n\t(element: T, index: number): U;\n}\n\nexport interface FindCallback<T> {\n\t/**\n\t * A callback function when using find\n\t *\n\t * @param element The element that is currenty being analysed\n\t * @param index The current index of the element that is being analysed\n\t * @param array The source array\n\t */\n\t(element: T, index: number, array: ArrayLike<T>): boolean;\n}\n\ninterface WritableArrayLike<T> {\n\treadonly length: number;\n\t[n: number]: T;\n}\n\n/* ES6 Array static methods */\n\nexport interface From {\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @param mapFunction A map function to call on each element in the array\n\t * @param thisArg The execution context for the map function\n\t * @return The new Array\n\t */\n\t<T, U>(source: ArrayLike<T> | Iterable<T>, mapFunction: MapCallback<T, U>, thisArg?: any): Array<U>;\n\n\t/**\n\t * The Array.from() method creates a new Array instance from an array-like or iterable object.\n\t *\n\t * @param source An array-like or iterable object to convert to an array\n\t * @return The new Array\n\t */\n\t<T>(source: ArrayLike<T> | Iterable<T>): Array<T>;\n}\n\nexport let from: From;\n\n/**\n * Creates a new array from the function parameters.\n *\n * @param arguments Any number of arguments for the array\n * @return An array from the given arguments\n */\nexport let of: <T>(...items: T[]) => Array<T>;\n\n/* ES6 Array instance methods */\n\n/**\n * Copies data internally within an array or array-like object.\n *\n * @param target The target array-like object\n * @param offset The index to start copying values to; if negative, it counts backwards from length\n * @param start The first (inclusive) index to copy; if negative, it counts backwards from length\n * @param end The last (exclusive) index to copy; if negative, it counts backwards from length\n * @return The target\n */\nexport let copyWithin: <T>(target: ArrayLike<T>, offset: number, start: number, end?: number) => ArrayLike<T>;\n\n/**\n * Fills elements of an array-like object with the specified value.\n *\n * @param target The target to fill\n * @param value The value to fill each element of the target with\n * @param start The first index to fill\n * @param end The (exclusive) index at which to stop filling\n * @return The filled target\n */\nexport let fill: <T>(target: ArrayLike<T>, value: T, start?: number, end?: number) => ArrayLike<T>;\n\n/**\n * Finds and returns the first instance matching the callback or undefined if one is not found.\n *\n * @param target An array-like object\n * @param callback A function returning if the current value matches a criteria\n * @param thisArg The execution context for the find function\n * @return The first element matching the callback, or undefined if one does not exist\n */\nexport let find: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => T | undefined;\n\n/**\n * Performs a linear search and returns the first index whose value satisfies the passed callback,\n * or -1 if no values satisfy it.\n *\n * @param target An array-like object\n * @param callback A function returning true if the current value satisfies its criteria\n * @param thisArg The execution context for the find function\n * @return The first index whose value satisfies the passed callback, or -1 if no values satisfy it\n */\nexport let findIndex: <T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}) => number;\n\n/* ES7 Array instance methods */\n\n/**\n * Determines whether an array includes a given value\n *\n * @param target the target array-like object\n * @param searchElement the item to search for\n * @param fromIndex the starting index to search from\n * @return `true` if the array includes the element, otherwise `false`\n */\nexport let includes: <T>(target: ArrayLike<T>, searchElement: T, fromIndex?: number) => boolean;\n\nif (has('es6-array') && has('es6-array-fill')) {\n\tfrom = global.Array.from;\n\tof = global.Array.of;\n\tcopyWithin = wrapNative(global.Array.prototype.copyWithin);\n\tfill = wrapNative(global.Array.prototype.fill);\n\tfind = wrapNative(global.Array.prototype.find);\n\tfindIndex = wrapNative(global.Array.prototype.findIndex);\n} else {\n\t// It is only older versions of Safari/iOS that have a bad fill implementation and so aren't in the wild\n\t// To make things easier, if there is a bad fill implementation, the whole set of functions will be filled\n\n\t/**\n\t * Ensures a non-negative, non-infinite, safe integer.\n\t *\n\t * @param length The number to validate\n\t * @return A proper length\n\t */\n\tconst toLength = function toLength(length: number): number {\n\t\tif (isNaN(length)) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlength = Number(length);\n\t\tif (isFinite(length)) {\n\t\t\tlength = Math.floor(length);\n\t\t}\n\t\t// Ensure a non-negative, real, safe integer\n\t\treturn Math.min(Math.max(length, 0), MAX_SAFE_INTEGER);\n\t};\n\n\t/**\n\t * From ES6 7.1.4 ToInteger()\n\t *\n\t * @param value A value to convert\n\t * @return An integer\n\t */\n\tconst toInteger = function toInteger(value: any): number {\n\t\tvalue = Number(value);\n\t\tif (isNaN(value)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (value === 0 || !isFinite(value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn (value > 0 ? 1 : -1) * Math.floor(Math.abs(value));\n\t};\n\n\t/**\n\t * Normalizes an offset against a given length, wrapping it if negative.\n\t *\n\t * @param value The original offset\n\t * @param length The total length to normalize against\n\t * @return If negative, provide a distance from the end (length); otherwise provide a distance from 0\n\t */\n\tconst normalizeOffset = function normalizeOffset(value: number, length: number): number {\n\t\treturn value < 0 ? Math.max(length + value, 0) : Math.min(value, length);\n\t};\n\n\tfrom = function from(\n\t\tthis: ArrayConstructor,\n\t\tarrayLike: Iterable<any> | ArrayLike<any>,\n\t\tmapFunction?: MapCallback<any, any>,\n\t\tthisArg?: any\n\t): Array<any> {\n\t\tif (arrayLike == null) {\n\t\t\tthrow new TypeError('from: requires an array-like object');\n\t\t}\n\n\t\tif (mapFunction && thisArg) {\n\t\t\tmapFunction = mapFunction.bind(thisArg);\n\t\t}\n\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst Constructor = this;\n\t\tconst length: number = toLength((arrayLike as any).length);\n\n\t\t// Support extension\n\t\tconst array: any[] =\n\t\t\ttypeof Constructor === 'function' ? <any[]>Object(new Constructor(length)) : new Array(length);\n\n\t\tif (!isArrayLike(arrayLike) && !isIterable(arrayLike)) {\n\t\t\treturn array;\n\t\t}\n\n\t\t// if this is an array and the normalized length is 0, just return an empty array. this prevents a problem\n\t\t// with the iteration on IE when using a NaN array length.\n\t\tif (isArrayLike(arrayLike)) {\n\t\t\tif (length === 0) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < arrayLike.length; i++) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(arrayLike[i], i) : arrayLike[i];\n\t\t\t}\n\t\t} else {\n\t\t\tlet i = 0;\n\t\t\tfor (const value of arrayLike) {\n\t\t\t\tarray[i] = mapFunction ? mapFunction(value, i) : value;\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\n\t\tif ((arrayLike as any).length !== undefined) {\n\t\t\tarray.length = length;\n\t\t}\n\n\t\treturn array;\n\t};\n\n\tof = function of<T>(...items: T[]): Array<T> {\n\t\treturn Array.prototype.slice.call(items);\n\t};\n\n\tcopyWithin = function copyWithin<T>(\n\t\ttarget: ArrayLike<T>,\n\t\toffset: number,\n\t\tstart: number,\n\t\tend?: number\n\t): ArrayLike<T> {\n\t\tif (target == null) {\n\t\t\tthrow new TypeError('copyWithin: target must be an array-like object');\n\t\t}\n\n\t\tconst length = toLength(target.length);\n\t\toffset = normalizeOffset(toInteger(offset), length);\n\t\tstart = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\t\tlet count = Math.min(end - start, length - offset);\n\n\t\tlet direction = 1;\n\t\tif (offset > start && offset < start + count) {\n\t\t\tdirection = -1;\n\t\t\tstart += count - 1;\n\t\t\toffset += count - 1;\n\t\t}\n\n\t\twhile (count > 0) {\n\t\t\tif (start in target) {\n\t\t\t\t(target as WritableArrayLike<T>)[offset] = target[start];\n\t\t\t} else {\n\t\t\t\tdelete (target as WritableArrayLike<T>)[offset];\n\t\t\t}\n\n\t\t\toffset += direction;\n\t\t\tstart += direction;\n\t\t\tcount--;\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tfill = function fill<T>(target: ArrayLike<T>, value: any, start?: number, end?: number): ArrayLike<T> {\n\t\tconst length = toLength(target.length);\n\t\tlet i = normalizeOffset(toInteger(start), length);\n\t\tend = normalizeOffset(end === undefined ? length : toInteger(end), length);\n\n\t\twhile (i < end) {\n\t\t\t(target as WritableArrayLike<T>)[i++] = value;\n\t\t}\n\n\t\treturn target;\n\t};\n\n\tfind = function find<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): T | undefined {\n\t\tconst index = findIndex<T>(target, callback, thisArg);\n\t\treturn index !== -1 ? target[index] : undefined;\n\t};\n\n\tfindIndex = function findIndex<T>(target: ArrayLike<T>, callback: FindCallback<T>, thisArg?: {}): number {\n\t\tconst length = toLength(target.length);\n\n\t\tif (!callback) {\n\t\t\tthrow new TypeError('find: second argument must be a function');\n\t\t}\n\n\t\tif (thisArg) {\n\t\t\tcallback = callback.bind(thisArg);\n\t\t}\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tif (callback(target[i], i, target)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n}\n\nif (has('es7-array')) {\n\tincludes = wrapNative(global.Array.prototype.includes);\n} else {\n\t/**\n\t * Ensures a non-negative, non-infinite, safe integer.\n\t *\n\t * @param length The number to validate\n\t * @return A proper length\n\t */\n\tconst toLength = function toLength(length: number): number {\n\t\tlength = Number(length);\n\t\tif (isNaN(length)) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (isFinite(length)) {\n\t\t\tlength = Math.floor(length);\n\t\t}\n\t\t// Ensure a non-negative, real, safe integer\n\t\treturn Math.min(Math.max(length, 0), MAX_SAFE_INTEGER);\n\t};\n\n\tincludes = function includes<T>(target: ArrayLike<T>, searchElement: T, fromIndex: number = 0): boolean {\n\t\tlet len = toLength(target.length);\n\n\t\tfor (let i = fromIndex; i < len; ++i) {\n\t\t\tconst currentElement = target[i];\n\t\t\tif (\n\t\t\t\tsearchElement === currentElement ||\n\t\t\t\t(searchElement !== searchElement && currentElement !== currentElement)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// array.ts","const globalObject: any = (function(): any {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\tif (typeof global !== 'undefined') {\n\t\treturn global;\n\t}\n})();\n\nexport default globalObject;\n\n\n\n// WEBPACK FOOTER //\n// global.ts","import './Symbol';\nimport { HIGH_SURROGATE_MAX, HIGH_SURROGATE_MIN } from './string';\n\nexport interface IteratorResult<T> {\n\treadonly done: boolean;\n\treadonly value: T;\n}\n\nexport interface Iterator<T> {\n\tnext(value?: any): IteratorResult<T>;\n\n\treturn?(value?: any): IteratorResult<T>;\n\n\tthrow?(e?: any): IteratorResult<T>;\n}\n\nexport interface Iterable<T> {\n\t[Symbol.iterator](): Iterator<T>;\n}\n\nexport interface IterableIterator<T> extends Iterator<T> {\n\t[Symbol.iterator](): IterableIterator<T>;\n}\n\nconst staticDone: IteratorResult<any> = { done: true, value: undefined };\n\n/**\n * A class that _shims_ an iterator interface on array like objects.\n */\nexport class ShimIterator<T> {\n\tprivate _list: ArrayLike<T> | undefined;\n\tprivate _nextIndex = -1;\n\tprivate _nativeIterator: Iterator<T> | undefined;\n\n\tconstructor(list: ArrayLike<T> | Iterable<T>) {\n\t\tif (isIterable(list)) {\n\t\t\tthis._nativeIterator = list[Symbol.iterator]();\n\t\t} else {\n\t\t\tthis._list = list;\n\t\t}\n\t}\n\n\t/**\n\t * Return the next iteration result for the Iterator\n\t */\n\tnext(): IteratorResult<T> {\n\t\tif (this._nativeIterator) {\n\t\t\treturn this._nativeIterator.next();\n\t\t}\n\t\tif (!this._list) {\n\t\t\treturn staticDone;\n\t\t}\n\t\tif (++this._nextIndex < this._list.length) {\n\t\t\treturn {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: this._list[this._nextIndex]\n\t\t\t};\n\t\t}\n\t\treturn staticDone;\n\t}\n\n\t[Symbol.iterator](): IterableIterator<T> {\n\t\treturn this;\n\t}\n}\n\n/**\n * A type guard for checking if something has an Iterable interface\n *\n * @param value The value to type guard against\n */\nexport function isIterable(value: any): value is Iterable<any> {\n\treturn value && typeof value[Symbol.iterator] === 'function';\n}\n\n/**\n * A type guard for checking if something is ArrayLike\n *\n * @param value The value to type guard against\n */\nexport function isArrayLike(value: any): value is ArrayLike<any> {\n\treturn value && typeof value.length === 'number';\n}\n\n/**\n * Returns the iterator for an object\n *\n * @param iterable The iterable object to return the iterator for\n */\nexport function get<T>(iterable: Iterable<T> | ArrayLike<T>): Iterator<T> | undefined {\n\tif (isIterable(iterable)) {\n\t\treturn iterable[Symbol.iterator]();\n\t} else if (isArrayLike(iterable)) {\n\t\treturn new ShimIterator(iterable);\n\t}\n}\n\nexport interface ForOfCallback<T> {\n\t/**\n\t * A callback function for a forOf() iteration\n\t *\n\t * @param value The current value\n\t * @param object The object being iterated over\n\t * @param doBreak A function, if called, will stop the iteration\n\t */\n\t(value: T, object: Iterable<T> | ArrayLike<T> | string, doBreak: () => void): void;\n}\n\n/**\n * Shims the functionality of `for ... of` blocks\n *\n * @param iterable The object the provides an interator interface\n * @param callback The callback which will be called for each item of the iterable\n * @param thisArg Optional scope to pass the callback\n */\nexport function forOf<T>(\n\titerable: Iterable<T> | ArrayLike<T> | string,\n\tcallback: ForOfCallback<T>,\n\tthisArg?: any\n): void {\n\tlet broken = false;\n\n\tfunction doBreak() {\n\t\tbroken = true;\n\t}\n\n\t/* We need to handle iteration of double byte strings properly */\n\tif (isArrayLike(iterable) && typeof iterable === 'string') {\n\t\tconst l = iterable.length;\n\t\tfor (let i = 0; i < l; ++i) {\n\t\t\tlet char = iterable[i];\n\t\t\tif (i + 1 < l) {\n\t\t\t\tconst code = char.charCodeAt(0);\n\t\t\t\tif (code >= HIGH_SURROGATE_MIN && code <= HIGH_SURROGATE_MAX) {\n\t\t\t\t\tchar += iterable[++i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback.call(thisArg, char, iterable, doBreak);\n\t\t\tif (broken) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconst iterator = get(iterable);\n\t\tif (iterator) {\n\t\t\tlet result = iterator.next();\n\n\t\t\twhile (!result.done) {\n\t\t\t\tcallback.call(thisArg, result.value, iterable, doBreak);\n\t\t\t\tif (broken) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresult = iterator.next();\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// iterator.ts","import global from './global';\n\n/**\n * The smallest interval between two representable numbers.\n */\nexport const EPSILON = 1;\n\n/**\n * The maximum safe integer in JavaScript\n */\nexport const MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n/**\n * The minimum safe integer in JavaScript\n */\nexport const MIN_SAFE_INTEGER = -MAX_SAFE_INTEGER;\n\n/**\n * Determines whether the passed value is NaN without coersion.\n *\n * @param value The value to test\n * @return true if the value is NaN, false if it is not\n */\nexport function isNaN(value: any): boolean {\n\treturn typeof value === 'number' && global.isNaN(value);\n}\n\n/**\n * Determines whether the passed value is a finite number without coersion.\n *\n * @param value The value to test\n * @return true if the value is finite, false if it is not\n */\nexport function isFinite(value: any): value is number {\n\treturn typeof value === 'number' && global.isFinite(value);\n}\n\n/**\n * Determines whether the passed value is an integer.\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isInteger(value: any): value is number {\n\treturn isFinite(value) && Math.floor(value) === value;\n}\n\n/**\n * Determines whether the passed value is an integer that is 'safe,' meaning:\n *   1. it can be expressed as an IEEE-754 double precision number\n *   2. it has a one-to-one mapping to a mathematical integer, meaning its\n *      IEEE-754 representation cannot be the result of rounding any other\n *      integer to fit the IEEE-754 representation\n *\n * @param value The value to test\n * @return true if the value is an integer, false if it is not\n */\nexport function isSafeInteger(value: any): value is number {\n\treturn isInteger(value) && Math.abs(value) <= MAX_SAFE_INTEGER;\n}\n\n\n\n// WEBPACK FOOTER //\n// number.ts","import global from './global';\nimport has from './support/has';\nimport { isSymbol } from './Symbol';\n\nexport interface ObjectAssign {\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source The source object from which to copy properties.\n\t */\n\t<T, U>(target: T, source: U): T & U;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t */\n\t<T, U, V>(target: T, source1: U, source2: V): T & U & V;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param source1 The first source object from which to copy properties.\n\t * @param source2 The second source object from which to copy properties.\n\t * @param source3 The third source object from which to copy properties.\n\t */\n\t<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\n\n\t/**\n\t * Copy the values of all of the enumerable own properties from one or more source objects to a\n\t * target object. Returns the target object.\n\t * @param target The target object to copy to.\n\t * @param sources One or more source objects from which to copy properties\n\t */\n\t(target: object, ...sources: any[]): any;\n}\n\nexport interface ObjectEnteries {\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T extends { [key: string]: any }, K extends keyof T>(o: T): [keyof T, T[K]][];\n\n\t/**\n\t * Returns an array of key/values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): [string, any][];\n}\n\nexport interface ObjectGetOwnPropertyDescriptors {\n\t<T>(o: T): { [K in keyof T]: PropertyDescriptor };\n\t(o: any): { [key: string]: PropertyDescriptor };\n}\n\nexport interface ObjectValues {\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t<T>(o: { [s: string]: T }): T[];\n\n\t/**\n\t * Returns an array of values of the enumerable properties of an object\n\t * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n\t */\n\t(o: object): any[];\n}\n\nexport let assign: ObjectAssign;\n\n/**\n * Gets the own property descriptor of the specified object.\n * An own property descriptor is one that is defined directly on the object and is not\n * inherited from the object's prototype.\n * @param o Object that contains the property.\n * @param p Name of the property.\n */\nexport let getOwnPropertyDescriptor: <T, K extends keyof T>(o: T, propertyKey: K) => PropertyDescriptor | undefined;\n\n/**\n * Returns the names of the own properties of an object. The own properties of an object are those that are defined directly\n * on that object, and are not inherited from the object's prototype. The properties of an object include both fields (objects) and functions.\n * @param o Object that contains the own properties.\n */\nexport let getOwnPropertyNames: (o: any) => string[];\n\n/**\n * Returns an array of all symbol properties found directly on object o.\n * @param o Object to retrieve the symbols from.\n */\nexport let getOwnPropertySymbols: (o: any) => symbol[];\n\n/**\n * Returns true if the values are the same value, false otherwise.\n * @param value1 The first value.\n * @param value2 The second value.\n */\nexport let is: (value1: any, value2: any) => boolean;\n\n/**\n * Returns the names of the enumerable properties and methods of an object.\n * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\n */\nexport let keys: (o: object) => string[];\n\n/* ES7 Object static methods */\n\nexport let getOwnPropertyDescriptors: ObjectGetOwnPropertyDescriptors;\n\nexport let entries: ObjectEnteries;\n\nexport let values: ObjectValues;\n\nif (has('es6-object')) {\n\tconst globalObject = global.Object;\n\tassign = globalObject.assign;\n\tgetOwnPropertyDescriptor = globalObject.getOwnPropertyDescriptor;\n\tgetOwnPropertyNames = globalObject.getOwnPropertyNames;\n\tgetOwnPropertySymbols = globalObject.getOwnPropertySymbols;\n\tis = globalObject.is;\n\tkeys = globalObject.keys;\n} else {\n\tkeys = function symbolAwareKeys(o: object): string[] {\n\t\treturn Object.keys(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tassign = function assign(target: any, ...sources: any[]) {\n\t\tif (target == null) {\n\t\t\t// TypeError if undefined or null\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tconst to = Object(target);\n\t\tsources.forEach((nextSource) => {\n\t\t\tif (nextSource) {\n\t\t\t\t// Skip over if undefined or null\n\t\t\t\tkeys(nextSource).forEach((nextKey) => {\n\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn to;\n\t};\n\n\tgetOwnPropertyDescriptor = function<T, K extends keyof T>(o: T, prop: K): PropertyDescriptor | undefined {\n\t\tif (isSymbol(prop)) {\n\t\t\treturn Object.getOwnPropertyDescriptor(o, prop);\n\t\t} else {\n\t\t\treturn Object.getOwnPropertyDescriptor(o, prop);\n\t\t}\n\t};\n\n\tgetOwnPropertyNames = function getOwnPropertyNames(o: any): string[] {\n\t\treturn Object.getOwnPropertyNames(o).filter((key) => !Boolean(key.match(/^@@.+/)));\n\t};\n\n\tgetOwnPropertySymbols = function getOwnPropertySymbols(o: any): symbol[] {\n\t\treturn Object.getOwnPropertyNames(o)\n\t\t\t.filter((key) => Boolean(key.match(/^@@.+/)))\n\t\t\t.map((key) => Symbol.for(key.substring(2)));\n\t};\n\n\tis = function is(value1: any, value2: any): boolean {\n\t\tif (value1 === value2) {\n\t\t\treturn value1 !== 0 || 1 / value1 === 1 / value2; // -0\n\t\t}\n\t\treturn value1 !== value1 && value2 !== value2; // NaN\n\t};\n}\n\nif (has('es2017-object')) {\n\tconst globalObject = global.Object;\n\tgetOwnPropertyDescriptors = globalObject.getOwnPropertyDescriptors;\n\tentries = globalObject.entries;\n\tvalues = globalObject.values;\n} else {\n\tgetOwnPropertyDescriptors = function getOwnPropertyDescriptors(o: any) {\n\t\treturn getOwnPropertyNames(o).reduce(\n\t\t\t(previous, key) => {\n\t\t\t\tprevious[key] = getOwnPropertyDescriptor(o, key)!;\n\t\t\t\treturn previous;\n\t\t\t},\n\t\t\t{} as { [key: string]: PropertyDescriptor }\n\t\t);\n\t};\n\n\tentries = function entries(o: any): [string, any][] {\n\t\treturn keys(o).map((key) => [key, o[key]] as [string, any]);\n\t};\n\n\tvalues = function values(o: any): any[] {\n\t\treturn keys(o).map((key) => o[key]);\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// object.ts","import global from './global';\nimport has from './support/has';\nimport { wrapNative } from './support/util';\n\nexport interface StringNormalize {\n\t/**\n\t * Returns the String value result of normalizing the string into the normalization form\n\t * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n\t * @param target The target string\n\t * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n\t * is \"NFC\"\n\t */\n\t(target: string, form: 'NFC' | 'NFD' | 'NFKC' | 'NFKD'): string;\n\n\t/**\n\t * Returns the String value result of normalizing the string into the normalization form\n\t * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n\t * @param target The target string\n\t * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n\t * is \"NFC\"\n\t */\n\t(target: string, form?: string): string;\n}\n\n/**\n * The minimum location of high surrogates\n */\nexport const HIGH_SURROGATE_MIN = 0xd800;\n\n/**\n * The maximum location of high surrogates\n */\nexport const HIGH_SURROGATE_MAX = 0xdbff;\n\n/**\n * The minimum location of low surrogates\n */\nexport const LOW_SURROGATE_MIN = 0xdc00;\n\n/**\n * The maximum location of low surrogates\n */\nexport const LOW_SURROGATE_MAX = 0xdfff;\n\n/* ES6 static methods */\n\n/**\n * Return the String value whose elements are, in order, the elements in the List elements.\n * If length is 0, the empty string is returned.\n * @param codePoints The code points to generate the string\n */\nexport let fromCodePoint: (...codePoints: number[]) => string;\n\n/**\n * `raw` is intended for use as a tag function of a Tagged Template String. When called\n * as such the first argument will be a well formed template call site object and the rest\n * parameter will contain the substitution values.\n * @param template A well-formed template string call site representation.\n * @param substitutions A set of substitution values.\n */\nexport let raw: (template: TemplateStringsArray, ...substitutions: any[]) => string;\n\n/* ES6 instance methods */\n\n/**\n * Returns a nonnegative integer Number less than 1114112 (0x110000) that is the code point\n * value of the UTF-16 encoded code point starting at the string element at position pos in\n * the String resulting from converting this object to a String.\n * If there is no element at that position, the result is undefined.\n * If a valid UTF-16 surrogate pair does not begin at pos, the result is the code unit at pos.\n */\nexport let codePointAt: (target: string, pos?: number) => number | undefined;\n\n/**\n * Returns true if the sequence of elements of searchString converted to a String is the\n * same as the corresponding elements of this object (converted to a String) starting at\n * endPosition  length(this). Otherwise returns false.\n */\nexport let endsWith: (target: string, searchString: string, endPosition?: number) => boolean;\n\n/**\n * Returns true if searchString appears as a substring of the result of converting this\n * object to a String, at one or more positions that are\n * greater than or equal to position; otherwise, returns false.\n * @param target The target string\n * @param searchString search string\n * @param position If position is undefined, 0 is assumed, so as to search all of the String.\n */\nexport let includes: (target: string, searchString: string, position?: number) => boolean;\n\n/**\n * Returns the String value result of normalizing the string into the normalization form\n * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\n * @param target The target string\n * @param form Applicable values: \"NFC\", \"NFD\", \"NFKC\", or \"NFKD\", If not specified default\n * is \"NFC\"\n */\nexport let normalize: StringNormalize;\n\n/**\n * Returns a String value that is made from count copies appended together. If count is 0,\n * T is the empty String is returned.\n * @param count number of copies to append\n */\nexport let repeat: (target: string, count?: number) => string;\n\n/**\n * Returns true if the sequence of elements of searchString converted to a String is the\n * same as the corresponding elements of this object (converted to a String) starting at\n * position. Otherwise returns false.\n */\nexport let startsWith: (target: string, searchString: string, position?: number) => boolean;\n\n/* ES7 instance methods */\n\n/**\n * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\n * The padding is applied from the end (right) of the current string.\n *\n * @param target The target string\n * @param maxLength The length of the resulting string once the current string has been padded.\n *        If this parameter is smaller than the current string's length, the current string will be returned as it is.\n *\n * @param fillString The string to pad the current string with.\n *        If this string is too long, it will be truncated and the left-most part will be applied.\n *        The default value for this parameter is \" \" (U+0020).\n */\nexport let padEnd: (target: string, maxLength: number, fillString?: string) => string;\n\n/**\n * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\n * The padding is applied from the start (left) of the current string.\n *\n * @param target The target string\n * @param maxLength The length of the resulting string once the current string has been padded.\n *        If this parameter is smaller than the current string's length, the current string will be returned as it is.\n *\n * @param fillString The string to pad the current string with.\n *        If this string is too long, it will be truncated and the left-most part will be applied.\n *        The default value for this parameter is \" \" (U+0020).\n */\nexport let padStart: (target: string, maxLength: number, fillString?: string) => string;\n\nif (has('es6-string') && has('es6-string-raw')) {\n\tfromCodePoint = global.String.fromCodePoint;\n\traw = global.String.raw;\n\n\tcodePointAt = wrapNative(global.String.prototype.codePointAt);\n\tendsWith = wrapNative(global.String.prototype.endsWith);\n\tincludes = wrapNative(global.String.prototype.includes);\n\tnormalize = wrapNative(global.String.prototype.normalize);\n\trepeat = wrapNative(global.String.prototype.repeat);\n\tstartsWith = wrapNative(global.String.prototype.startsWith);\n} else {\n\t/**\n\t * Validates that text is defined, and normalizes position (based on the given default if the input is NaN).\n\t * Used by startsWith, includes, and endsWith.\n\t *\n\t * @return Normalized position.\n\t */\n\tconst normalizeSubstringArgs = function(\n\t\tname: string,\n\t\ttext: string,\n\t\tsearch: string,\n\t\tposition: number,\n\t\tisEnd: boolean = false\n\t): [string, string, number] {\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.' + name + ' requires a valid string to search against.');\n\t\t}\n\n\t\tconst length = text.length;\n\t\tposition = position !== position ? (isEnd ? length : 0) : position;\n\t\treturn [text, String(search), Math.min(Math.max(position, 0), length)];\n\t};\n\n\tfromCodePoint = function fromCodePoint(...codePoints: number[]): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.fromCodePoint\n\t\tconst length = arguments.length;\n\t\tif (!length) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst fromCharCode = String.fromCharCode;\n\t\tconst MAX_SIZE = 0x4000;\n\t\tlet codeUnits: number[] = [];\n\t\tlet index = -1;\n\t\tlet result = '';\n\n\t\twhile (++index < length) {\n\t\t\tlet codePoint = Number(arguments[index]);\n\n\t\t\t// Code points must be finite integers within the valid range\n\t\t\tlet isValid =\n\t\t\t\tisFinite(codePoint) && Math.floor(codePoint) === codePoint && codePoint >= 0 && codePoint <= 0x10ffff;\n\t\t\tif (!isValid) {\n\t\t\t\tthrow RangeError('string.fromCodePoint: Invalid code point ' + codePoint);\n\t\t\t}\n\n\t\t\tif (codePoint <= 0xffff) {\n\t\t\t\t// BMP code point\n\t\t\t\tcodeUnits.push(codePoint);\n\t\t\t} else {\n\t\t\t\t// Astral code point; split in surrogate halves\n\t\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\t\tcodePoint -= 0x10000;\n\t\t\t\tlet highSurrogate = (codePoint >> 10) + HIGH_SURROGATE_MIN;\n\t\t\t\tlet lowSurrogate = (codePoint % 0x400) + LOW_SURROGATE_MIN;\n\t\t\t\tcodeUnits.push(highSurrogate, lowSurrogate);\n\t\t\t}\n\n\t\t\tif (index + 1 === length || codeUnits.length > MAX_SIZE) {\n\t\t\t\tresult += fromCharCode.apply(null, codeUnits);\n\t\t\t\tcodeUnits.length = 0;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\n\traw = function raw(callSite: TemplateStringsArray, ...substitutions: any[]): string {\n\t\tlet rawStrings = callSite.raw;\n\t\tlet result = '';\n\t\tlet numSubstitutions = substitutions.length;\n\n\t\tif (callSite == null || callSite.raw == null) {\n\t\t\tthrow new TypeError('string.raw requires a valid callSite object with a raw value');\n\t\t}\n\n\t\tfor (let i = 0, length = rawStrings.length; i < length; i++) {\n\t\t\tresult += rawStrings[i] + (i < numSubstitutions && i < length - 1 ? substitutions[i] : '');\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tcodePointAt = function codePointAt(text: string, position: number = 0): number | undefined {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.codePointAt\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.codePointAt requries a valid string.');\n\t\t}\n\t\tconst length = text.length;\n\n\t\tif (position !== position) {\n\t\t\tposition = 0;\n\t\t}\n\t\tif (position < 0 || position >= length) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Get the first code unit\n\t\tconst first = text.charCodeAt(position);\n\t\tif (first >= HIGH_SURROGATE_MIN && first <= HIGH_SURROGATE_MAX && length > position + 1) {\n\t\t\t// Start of a surrogate pair (high surrogate and there is a next code unit); check for low surrogate\n\t\t\t// https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n\t\t\tconst second = text.charCodeAt(position + 1);\n\t\t\tif (second >= LOW_SURROGATE_MIN && second <= LOW_SURROGATE_MAX) {\n\t\t\t\treturn (first - HIGH_SURROGATE_MIN) * 0x400 + second - LOW_SURROGATE_MIN + 0x10000;\n\t\t\t}\n\t\t}\n\t\treturn first;\n\t};\n\n\tendsWith = function endsWith(text: string, search: string, endPosition?: number): boolean {\n\t\tif (search === '') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (typeof endPosition === 'undefined') {\n\t\t\tendPosition = text.length;\n\t\t} else if (endPosition === null || isNaN(endPosition)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t[text, search, endPosition] = normalizeSubstringArgs('endsWith', text, search, endPosition, true);\n\n\t\tconst start = endPosition - search.length;\n\t\tif (start < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(start, endPosition) === search;\n\t};\n\n\tincludes = function includes(text: string, search: string, position: number = 0): boolean {\n\t\t[text, search, position] = normalizeSubstringArgs('includes', text, search, position);\n\t\treturn text.indexOf(search, position) !== -1;\n\t};\n\n\trepeat = function repeat(text: string, count: number = 0): string {\n\t\t// Adapted from https://github.com/mathiasbynens/String.prototype.repeat\n\t\tif (text == null) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\t\tif (count !== count) {\n\t\t\tcount = 0;\n\t\t}\n\t\tif (count < 0 || count === Infinity) {\n\t\t\tthrow new RangeError('string.repeat requires a non-negative finite count.');\n\t\t}\n\n\t\tlet result = '';\n\t\twhile (count) {\n\t\t\tif (count % 2) {\n\t\t\t\tresult += text;\n\t\t\t}\n\t\t\tif (count > 1) {\n\t\t\t\ttext += text;\n\t\t\t}\n\t\t\tcount >>= 1;\n\t\t}\n\t\treturn result;\n\t};\n\n\tstartsWith = function startsWith(text: string, search: string, position: number = 0): boolean {\n\t\tsearch = String(search);\n\t\t[text, search, position] = normalizeSubstringArgs('startsWith', text, search, position);\n\n\t\tconst end = position + search.length;\n\t\tif (end > text.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn text.slice(position, end) === search;\n\t};\n}\n\nif (has('es2017-string')) {\n\tpadEnd = wrapNative(global.String.prototype.padEnd);\n\tpadStart = wrapNative(global.String.prototype.padStart);\n} else {\n\tpadEnd = function padEnd(text: string, maxLength: number, fillString: string = ' '): string {\n\t\tif (text === null || text === undefined) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\n\t\tif (maxLength === Infinity) {\n\t\t\tthrow new RangeError('string.padEnd requires a non-negative finite count.');\n\t\t}\n\n\t\tif (maxLength === null || maxLength === undefined || maxLength < 0) {\n\t\t\tmaxLength = 0;\n\t\t}\n\n\t\tlet strText = String(text);\n\t\tconst padding = maxLength - strText.length;\n\n\t\tif (padding > 0) {\n\t\t\tstrText +=\n\t\t\t\trepeat(fillString, Math.floor(padding / fillString.length)) +\n\t\t\t\tfillString.slice(0, padding % fillString.length);\n\t\t}\n\n\t\treturn strText;\n\t};\n\n\tpadStart = function padStart(text: string, maxLength: number, fillString: string = ' '): string {\n\t\tif (text === null || text === undefined) {\n\t\t\tthrow new TypeError('string.repeat requires a valid string.');\n\t\t}\n\n\t\tif (maxLength === Infinity) {\n\t\t\tthrow new RangeError('string.padStart requires a non-negative finite count.');\n\t\t}\n\n\t\tif (maxLength === null || maxLength === undefined || maxLength < 0) {\n\t\t\tmaxLength = 0;\n\t\t}\n\n\t\tlet strText = String(text);\n\t\tconst padding = maxLength - strText.length;\n\n\t\tif (padding > 0) {\n\t\t\tstrText =\n\t\t\t\trepeat(fillString, Math.floor(padding / fillString.length)) +\n\t\t\t\tfillString.slice(0, padding % fillString.length) +\n\t\t\t\tstrText;\n\t\t}\n\n\t\treturn strText;\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// string.ts","import global from '../global';\nimport has from './has';\nimport { Handle } from '../interfaces';\n\nfunction executeTask(item: QueueItem | undefined): void {\n\tif (item && item.isActive && item.callback) {\n\t\titem.callback();\n\t}\n}\n\nfunction getQueueHandle(item: QueueItem, destructor?: (...args: any[]) => any): Handle {\n\treturn {\n\t\tdestroy: function(this: Handle) {\n\t\t\tthis.destroy = function() {};\n\t\t\titem.isActive = false;\n\t\t\titem.callback = null;\n\n\t\t\tif (destructor) {\n\t\t\t\tdestructor();\n\t\t\t}\n\t\t}\n\t};\n}\n\ninterface PostMessageEvent extends Event {\n\tsource: any;\n\tdata: string;\n}\n\nexport interface QueueItem {\n\tisActive: boolean;\n\tcallback: null | ((...args: any[]) => any);\n}\n\nlet checkMicroTaskQueue: () => void;\nlet microTasks: QueueItem[];\n\n/**\n * Schedules a callback to the macrotask queue.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueTask = (function() {\n\tlet destructor: (...args: any[]) => any;\n\tlet enqueue: (item: QueueItem) => void;\n\n\t// Since the IE implementation of `setImmediate` is not flawless, we will test for `postMessage` first.\n\tif (has('postmessage')) {\n\t\tconst queue: QueueItem[] = [];\n\n\t\tglobal.addEventListener('message', function(event: PostMessageEvent): void {\n\t\t\t// Confirm that the event was triggered by the current window and by this particular implementation.\n\t\t\tif (event.source === global && event.data === 'dojo-queue-message') {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\tif (queue.length) {\n\t\t\t\t\texecuteTask(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tglobal.postMessage('dojo-queue-message', '*');\n\t\t};\n\t} else if (has('setimmediate')) {\n\t\tdestructor = global.clearImmediate;\n\t\tenqueue = function(item: QueueItem): any {\n\t\t\treturn setImmediate(executeTask.bind(null, item));\n\t\t};\n\t} else {\n\t\tdestructor = global.clearTimeout;\n\t\tenqueue = function(item: QueueItem): any {\n\t\t\treturn setTimeout(executeTask.bind(null, item), 0);\n\t\t};\n\t}\n\n\tfunction queueTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst id: any = enqueue(item);\n\n\t\treturn getQueueHandle(\n\t\t\titem,\n\t\t\tdestructor &&\n\t\t\t\tfunction() {\n\t\t\t\t\tdestructor(id);\n\t\t\t\t}\n\t\t);\n\t}\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks')\n\t\t? queueTask\n\t\t: function(callback: (...args: any[]) => any): Handle {\n\t\t\t\tcheckMicroTaskQueue();\n\t\t\t\treturn queueTask(callback);\n\t\t  };\n})();\n\n// When no mechanism for registering microtasks is exposed by the environment, microtasks will\n// be queued and then executed in a single macrotask before the other macrotasks are executed.\nif (!has('microtasks')) {\n\tlet isMicroTaskQueued = false;\n\n\tmicroTasks = [];\n\tcheckMicroTaskQueue = function(): void {\n\t\tif (!isMicroTaskQueued) {\n\t\t\tisMicroTaskQueued = true;\n\t\t\tqueueTask(function() {\n\t\t\t\tisMicroTaskQueued = false;\n\n\t\t\t\tif (microTasks.length) {\n\t\t\t\t\tlet item: QueueItem | undefined;\n\t\t\t\t\twhile ((item = microTasks.shift())) {\n\t\t\t\t\t\texecuteTask(item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * Schedules an animation task with `window.requestAnimationFrame` if it exists, or with `queueTask` otherwise.\n *\n * Since requestAnimationFrame's behavior does not match that expected from `queueTask`, it is not used there.\n * However, at times it makes more sense to delegate to requestAnimationFrame; hence the following method.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport const queueAnimationTask = (function() {\n\tif (!has('raf')) {\n\t\treturn queueTask;\n\t}\n\n\tfunction queueAnimationTask(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\t\tconst rafId: number = requestAnimationFrame(executeTask.bind(null, item));\n\n\t\treturn getQueueHandle(item, function() {\n\t\t\tcancelAnimationFrame(rafId);\n\t\t});\n\t}\n\n\t// TODO: Use aspect.before when it is available.\n\treturn has('microtasks')\n\t\t? queueAnimationTask\n\t\t: function(callback: (...args: any[]) => any): Handle {\n\t\t\t\tcheckMicroTaskQueue();\n\t\t\t\treturn queueAnimationTask(callback);\n\t\t  };\n})();\n\n/**\n * Schedules a callback to the microtask queue.\n *\n * Any callbacks registered with `queueMicroTask` will be executed before the next macrotask. If no native\n * mechanism for scheduling macrotasks is exposed, then any callbacks will be fired before any macrotask\n * registered with `queueTask` or `queueAnimationTask`.\n *\n * @param callback the function to be queued and later executed.\n * @returns An object with a `destroy` method that, when called, prevents the registered callback from executing.\n */\nexport let queueMicroTask = (function() {\n\tlet enqueue: (item: QueueItem) => void;\n\n\tif (has('host-node')) {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tglobal.process.nextTick(executeTask.bind(null, item));\n\t\t};\n\t} else if (has('es6-promise')) {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tglobal.Promise.resolve(item).then(executeTask);\n\t\t};\n\t} else if (has('dom-mutationobserver')) {\n\t\t/* tslint:disable-next-line:variable-name */\n\t\tconst HostMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\tconst node = document.createElement('div');\n\t\tconst queue: QueueItem[] = [];\n\t\tconst observer = new HostMutationObserver(function(): void {\n\t\t\twhile (queue.length > 0) {\n\t\t\t\tconst item = queue.shift();\n\t\t\t\tif (item && item.isActive && item.callback) {\n\t\t\t\t\titem.callback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(node, { attributes: true });\n\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tqueue.push(item);\n\t\t\tnode.setAttribute('queueStatus', '1');\n\t\t};\n\t} else {\n\t\tenqueue = function(item: QueueItem): void {\n\t\t\tcheckMicroTaskQueue();\n\t\t\tmicroTasks.push(item);\n\t\t};\n\t}\n\n\treturn function(callback: (...args: any[]) => any): Handle {\n\t\tconst item: QueueItem = {\n\t\t\tisActive: true,\n\t\t\tcallback: callback\n\t\t};\n\n\t\tenqueue(item);\n\n\t\treturn getQueueHandle(item);\n\t};\n})();\n\n\n\n// WEBPACK FOOTER //\n// queue.ts","import { Evented, EventObject } from '../core/Evented';\n\nexport type InjectorEventMap = {\n\tinvalidate: EventObject<'invalidate'>;\n};\n\nexport class Injector<T = any> extends Evented<InjectorEventMap> {\n\tprivate _payload: T;\n\tprivate _invalidator: undefined | (() => void);\n\n\tconstructor(payload: T) {\n\t\tsuper();\n\t\tthis._payload = payload;\n\t}\n\n\tpublic setInvalidator(invalidator: () => void) {\n\t\tthis._invalidator = invalidator;\n\t}\n\n\tpublic get(): T {\n\t\treturn this._payload;\n\t}\n\n\tpublic set(payload: T): void {\n\t\tthis._payload = payload;\n\t\tif (this._invalidator) {\n\t\t\tthis._invalidator();\n\t\t}\n\t}\n}\n\nexport default Injector;\n\n\n\n// WEBPACK FOOTER //\n// Injector.ts","import { Evented, EventObject } from '../core/Evented';\nimport Map from '../shim/Map';\nimport { NodeHandlerInterface } from './interfaces';\n\n/**\n * Enum to identify the type of event.\n * Listening to 'Projector' will notify when projector is created or updated\n * Listening to 'Widget' will notify when widget root is created or updated\n */\nexport enum NodeEventType {\n\tProjector = 'Projector',\n\tWidget = 'Widget'\n}\n\nexport type NodeHandlerEventMap = {\n\tProjector: EventObject<NodeEventType.Projector>;\n\tWidget: EventObject<NodeEventType.Widget>;\n};\n\nexport class NodeHandler extends Evented<NodeHandlerEventMap> implements NodeHandlerInterface {\n\tprivate _nodeMap = new Map<string, Element>();\n\n\tpublic get(key: string): Element | undefined {\n\t\treturn this._nodeMap.get(key);\n\t}\n\n\tpublic has(key: string): boolean {\n\t\treturn this._nodeMap.has(key);\n\t}\n\n\tpublic add(element: Element, key: string): void {\n\t\tthis._nodeMap.set(key, element);\n\t\tthis.emit({ type: key });\n\t}\n\n\tpublic addRoot(): void {\n\t\tthis.emit({ type: NodeEventType.Widget });\n\t}\n\n\tpublic addProjector(): void {\n\t\tthis.emit({ type: NodeEventType.Projector });\n\t}\n\n\tpublic clear(): void {\n\t\tthis._nodeMap.clear();\n\t}\n}\n\nexport default NodeHandler;\n\n\n\n// WEBPACK FOOTER //\n// NodeHandler.ts","import Promise from '../shim/Promise';\nimport Map from '../shim/Map';\nimport { Evented, EventObject } from '../core/Evented';\nimport {\n\tConstructor,\n\tInjectorFactory,\n\tInjectorItem,\n\tRegistryLabel,\n\tWidgetBaseConstructor,\n\tWidgetBaseInterface,\n\tESMDefaultWidgetBase,\n\tWidgetBaseConstructorFunction,\n\tESMDefaultWidgetBaseFunction\n} from './interfaces';\n\nexport type RegistryItem =\n\t| WidgetBaseConstructor\n\t| Promise<WidgetBaseConstructor>\n\t| WidgetBaseConstructorFunction\n\t| ESMDefaultWidgetBaseFunction;\n\n/**\n * Widget base type\n */\nexport const WIDGET_BASE_TYPE = '__widget_base_type';\n\nexport interface RegistryEventObject extends EventObject<RegistryLabel> {\n\taction: string;\n\titem: WidgetBaseConstructor | InjectorItem;\n}\n/**\n * Widget Registry Interface\n */\nexport interface RegistryInterface {\n\t/**\n\t * Define a WidgetRegistryItem against a label\n\t *\n\t * @param label The label of the widget to register\n\t * @param registryItem The registry item to define\n\t */\n\tdefine(label: RegistryLabel, registryItem: RegistryItem): void;\n\n\t/**\n\t * Return a RegistryItem for the given label, null if an entry doesn't exist\n\t *\n\t * @param widgetLabel The label of the widget to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tget<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;\n\n\t/**\n\t * Returns a boolean if an entry for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a widget registry item exists\n\t */\n\thas(label: RegistryLabel): boolean;\n\n\t/**\n\t * Define an Injector against a label\n\t *\n\t * @param label The label of the injector to register\n\t * @param registryItem The injector factory\n\t */\n\tdefineInjector(label: RegistryLabel, injectorFactory: InjectorFactory): void;\n\n\t/**\n\t * Return an Injector registry item for the given label, null if an entry doesn't exist\n\t *\n\t * @param label The label of the injector to return\n\t * @returns The RegistryItem for the widgetLabel, `null` if no entry exists\n\t */\n\tgetInjector<T>(label: RegistryLabel): InjectorItem<T> | null;\n\n\t/**\n\t * Returns a boolean if an injector for the label exists\n\t *\n\t * @param widgetLabel The label to search for\n\t * @returns boolean indicating if a injector registry item exists\n\t */\n\thasInjector(label: RegistryLabel): boolean;\n}\n\n/**\n * Checks is the item is a subclass of WidgetBase (or a WidgetBase)\n *\n * @param item the item to check\n * @returns true/false indicating if the item is a WidgetBaseConstructor\n */\nexport function isWidgetBaseConstructor<T extends WidgetBaseInterface>(item: any): item is Constructor<T> {\n\treturn Boolean(item && item._type === WIDGET_BASE_TYPE);\n}\n\nexport function isWidgetConstructorDefaultExport<T>(item: any): item is ESMDefaultWidgetBase<T> {\n\treturn Boolean(\n\t\titem &&\n\t\t\titem.hasOwnProperty('__esModule') &&\n\t\t\titem.hasOwnProperty('default') &&\n\t\t\tisWidgetBaseConstructor(item.default)\n\t);\n}\n\n/**\n * The Registry implementation\n */\nexport class Registry extends Evented<{}, RegistryLabel, RegistryEventObject> implements RegistryInterface {\n\t/**\n\t * internal map of labels and RegistryItem\n\t */\n\tprivate _widgetRegistry: Map<RegistryLabel, RegistryItem> | undefined;\n\n\tprivate _injectorRegistry: Map<RegistryLabel, InjectorItem> | undefined;\n\n\t/**\n\t * Emit loaded event for registry label\n\t */\n\tprivate emitLoadedEvent(widgetLabel: RegistryLabel, item: WidgetBaseConstructor | InjectorItem): void {\n\t\tthis.emit({\n\t\t\ttype: widgetLabel,\n\t\t\taction: 'loaded',\n\t\t\titem\n\t\t});\n\t}\n\n\tpublic define(label: RegistryLabel, item: RegistryItem): void {\n\t\tif (this._widgetRegistry === undefined) {\n\t\t\tthis._widgetRegistry = new Map();\n\t\t}\n\n\t\tif (this._widgetRegistry.has(label)) {\n\t\t\tthrow new Error(`widget has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tthis._widgetRegistry.set(label, item);\n\n\t\tif (item instanceof Promise) {\n\t\t\titem.then(\n\t\t\t\t(widgetCtor) => {\n\t\t\t\t\tthis._widgetRegistry!.set(label, widgetCtor);\n\t\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\t\treturn widgetCtor;\n\t\t\t\t},\n\t\t\t\t(error) => {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t);\n\t\t} else if (isWidgetBaseConstructor(item)) {\n\t\t\tthis.emitLoadedEvent(label, item);\n\t\t}\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injectorFactory: InjectorFactory): void {\n\t\tif (this._injectorRegistry === undefined) {\n\t\t\tthis._injectorRegistry = new Map();\n\t\t}\n\n\t\tif (this._injectorRegistry.has(label)) {\n\t\t\tthrow new Error(`injector has already been registered for '${label.toString()}'`);\n\t\t}\n\n\t\tconst invalidator = new Evented();\n\n\t\tconst injectorItem: InjectorItem = {\n\t\t\tinjector: injectorFactory(() => invalidator.emit({ type: 'invalidate' })),\n\t\t\tinvalidator\n\t\t};\n\n\t\tthis._injectorRegistry.set(label, injectorItem);\n\t\tthis.emitLoadedEvent(label, injectorItem);\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null {\n\t\tif (!this._widgetRegistry || !this.has(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst item = this._widgetRegistry.get(label);\n\n\t\tif (isWidgetBaseConstructor<T>(item)) {\n\t\t\treturn item;\n\t\t}\n\n\t\tif (item instanceof Promise) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst promise = (<WidgetBaseConstructorFunction>item)();\n\t\tthis._widgetRegistry.set(label, promise);\n\n\t\tpromise.then(\n\t\t\t(widgetCtor) => {\n\t\t\t\tif (isWidgetConstructorDefaultExport<T>(widgetCtor)) {\n\t\t\t\t\twidgetCtor = widgetCtor.default;\n\t\t\t\t}\n\n\t\t\t\tthis._widgetRegistry!.set(label, widgetCtor);\n\t\t\t\tthis.emitLoadedEvent(label, widgetCtor);\n\t\t\t\treturn widgetCtor;\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t);\n\n\t\treturn null;\n\t}\n\n\tpublic getInjector<T>(label: RegistryLabel): InjectorItem<T> | null {\n\t\tif (!this._injectorRegistry || !this.hasInjector(label)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._injectorRegistry.get(label)!;\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._widgetRegistry && this._widgetRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn Boolean(this._injectorRegistry && this._injectorRegistry.has(label));\n\t}\n}\n\nexport default Registry;\n\n\n\n// WEBPACK FOOTER //\n// Registry.ts","import { Map } from '../shim/Map';\nimport { Evented, EventObject } from '../core/Evented';\nimport { Constructor, InjectorFactory, InjectorItem, RegistryLabel, WidgetBaseInterface } from './interfaces';\nimport { Registry, RegistryEventObject, RegistryItem } from './Registry';\n\nexport type RegistryHandlerEventMap = {\n\tinvalidate: EventObject<'invalidate'>;\n};\n\nexport class RegistryHandler extends Evented<RegistryHandlerEventMap> {\n\tprivate _registry = new Registry();\n\tprivate _registryWidgetLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprivate _registryInjectorLabelMap: Map<Registry, RegistryLabel[]> = new Map();\n\tprotected baseRegistry?: Registry;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.own(this._registry);\n\t\tconst destroy = () => {\n\t\t\tif (this.baseRegistry) {\n\t\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t\t\tthis.baseRegistry = undefined;\n\t\t\t}\n\t\t};\n\t\tthis.own({ destroy });\n\t}\n\n\tpublic set base(baseRegistry: Registry) {\n\t\tif (this.baseRegistry) {\n\t\t\tthis._registryWidgetLabelMap.delete(this.baseRegistry);\n\t\t\tthis._registryInjectorLabelMap.delete(this.baseRegistry);\n\t\t}\n\t\tthis.baseRegistry = baseRegistry;\n\t}\n\n\tpublic define(label: RegistryLabel, widget: RegistryItem): void {\n\t\tthis._registry.define(label, widget);\n\t}\n\n\tpublic defineInjector(label: RegistryLabel, injector: InjectorFactory): void {\n\t\tthis._registry.defineInjector(label, injector);\n\t}\n\n\tpublic has(label: RegistryLabel): boolean {\n\t\treturn this._registry.has(label) || Boolean(this.baseRegistry && this.baseRegistry.has(label));\n\t}\n\n\tpublic hasInjector(label: RegistryLabel): boolean {\n\t\treturn this._registry.hasInjector(label) || Boolean(this.baseRegistry && this.baseRegistry.hasInjector(label));\n\t}\n\n\tpublic get<T extends WidgetBaseInterface = WidgetBaseInterface>(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean = false\n\t): Constructor<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'get', this._registryWidgetLabelMap);\n\t}\n\n\tpublic getInjector<T>(label: RegistryLabel, globalPrecedence: boolean = false): InjectorItem<T> | null {\n\t\treturn this._get(label, globalPrecedence, 'getInjector', this._registryInjectorLabelMap);\n\t}\n\n\tprivate _get(\n\t\tlabel: RegistryLabel,\n\t\tglobalPrecedence: boolean,\n\t\tgetFunctionName: 'getInjector' | 'get',\n\t\tlabelMap: Map<Registry, RegistryLabel[]>\n\t): any {\n\t\tconst registries = globalPrecedence ? [this.baseRegistry, this._registry] : [this._registry, this.baseRegistry];\n\t\tfor (let i = 0; i < registries.length; i++) {\n\t\t\tconst registry: any = registries[i];\n\t\t\tif (!registry) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst item = registry[getFunctionName](label);\n\t\t\tconst registeredLabels = labelMap.get(registry) || [];\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t} else if (registeredLabels.indexOf(label) === -1) {\n\t\t\t\tconst handle = registry.on(label, (event: RegistryEventObject) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tevent.action === 'loaded' &&\n\t\t\t\t\t\t(this as any)[getFunctionName](label, globalPrecedence) === event.item\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.emit({ type: 'invalidate' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.own(handle);\n\t\t\t\tlabelMap.set(registry, [...registeredLabels, label]);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default RegistryHandler;\n\n\n\n// WEBPACK FOOTER //\n// RegistryHandler.ts","import Map from '../shim/Map';\nimport WeakMap from '../shim/WeakMap';\nimport { v, VNODE, isVNode, isWNode } from './d';\nimport { auto } from './diff';\nimport {\n\tAfterRender,\n\tBeforeProperties,\n\tBeforeRender,\n\tDiffPropertyReaction,\n\tDNode,\n\tDefaultWidgetBaseInterface,\n\tLazyWidget,\n\tRender,\n\tWidgetMetaBase,\n\tWidgetMetaConstructor,\n\tWidgetBaseInterface,\n\tWidgetProperties,\n\tWNode,\n\tVNode,\n\tLazyDefine\n} from './interfaces';\nimport RegistryHandler from './RegistryHandler';\nimport NodeHandler from './NodeHandler';\nimport { isWidgetBaseConstructor, WIDGET_BASE_TYPE } from './Registry';\nimport { Handle } from '../core/Destroyable';\n\ninterface ReactionFunctionConfig {\n\tpropertyName: string;\n\treaction: DiffPropertyReaction;\n}\n\nexport interface WidgetData {\n\tonDetach: () => void;\n\tonAttach: () => void;\n\tdirty: boolean;\n\tnodeHandler: NodeHandler;\n\tinvalidate?: Function;\n\trendering: boolean;\n\tinputProperties: any;\n}\n\nexport type BoundFunctionData = { boundFunc: (...args: any[]) => any; scope: any };\n\nlet lazyWidgetId = 0;\nconst lazyWidgetIdMap = new WeakMap<LazyWidget, string>();\nconst decoratorMap = new Map<Function, Map<string, any[]>>();\nexport const widgetInstanceMap = new WeakMap<\n\tWidgetBase<WidgetProperties, DNode<DefaultWidgetBaseInterface>>,\n\tWidgetData\n>();\nconst boundAuto = auto.bind(null);\n\nexport const noBind = '__dojo_no_bind';\n\nfunction toTextVNode(data: any): VNode {\n\treturn {\n\t\ttag: '',\n\t\tproperties: {},\n\t\tchildren: undefined,\n\t\ttext: `${data}`,\n\t\ttype: VNODE\n\t};\n}\n\nfunction isLazyDefine(item: any): item is LazyDefine {\n\treturn Boolean(item && item.label);\n}\n\n/**\n * Main widget base for all widgets to extend\n */\nexport class WidgetBase<P = WidgetProperties, C extends DNode = DNode> implements WidgetBaseInterface<P, C> {\n\t/**\n\t * static identifier\n\t */\n\tstatic _type = WIDGET_BASE_TYPE;\n\n\t/**\n\t * children array\n\t */\n\tprivate _children: (C | null)[];\n\n\t/**\n\t * Indicates if it is the initial set properties cycle\n\t */\n\tprivate _initialProperties = true;\n\n\t/**\n\t * internal widget properties\n\t */\n\tprivate _properties: P & WidgetProperties & { [index: string]: any };\n\n\t/**\n\t * Array of property keys considered changed from the previous set properties\n\t */\n\tprivate _changedPropertyKeys: string[] = [];\n\n\t/**\n\t * map of decorators that are applied to this widget\n\t */\n\tprivate _decoratorCache: Map<string, any[]>;\n\n\tprivate _registry: RegistryHandler | undefined;\n\n\t/**\n\t * Map of functions properties for the bound function\n\t */\n\tprivate _bindFunctionPropertyMap: WeakMap<(...args: any[]) => any, BoundFunctionData> | undefined;\n\n\tprivate _metaMap: Map<WidgetMetaConstructor<any>, WidgetMetaBase> | undefined;\n\n\tprivate _boundRenderFunc: Render;\n\n\tprivate _boundInvalidate: () => void;\n\n\tprivate _nodeHandler: NodeHandler = new NodeHandler();\n\n\tprivate _handles: Handle[] = [];\n\n\t/**\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis._children = [];\n\t\tthis._decoratorCache = new Map<string, any[]>();\n\t\tthis._properties = <P>{};\n\t\tthis._boundRenderFunc = this.render.bind(this);\n\t\tthis._boundInvalidate = this.invalidate.bind(this);\n\n\t\twidgetInstanceMap.set(this, {\n\t\t\tdirty: true,\n\t\t\tonAttach: (): void => {\n\t\t\t\tthis.onAttach();\n\t\t\t},\n\t\t\tonDetach: (): void => {\n\t\t\t\tthis.onDetach();\n\t\t\t\tthis.destroy();\n\t\t\t},\n\t\t\tnodeHandler: this._nodeHandler,\n\t\t\trendering: false,\n\t\t\tinputProperties: {}\n\t\t});\n\n\t\tthis.own({\n\t\t\tdestroy: () => {\n\t\t\t\twidgetInstanceMap.delete(this);\n\t\t\t\tthis._nodeHandler.clear();\n\t\t\t\tthis._nodeHandler.destroy();\n\t\t\t}\n\t\t});\n\n\t\tthis._runAfterConstructors();\n\t}\n\n\tprotected meta<T extends WidgetMetaBase>(MetaType: WidgetMetaConstructor<T>): T {\n\t\tif (this._metaMap === undefined) {\n\t\t\tthis._metaMap = new Map<WidgetMetaConstructor<any>, WidgetMetaBase>();\n\t\t}\n\t\tlet cached = this._metaMap.get(MetaType);\n\t\tif (!cached) {\n\t\t\tcached = new MetaType({\n\t\t\t\tinvalidate: this._boundInvalidate,\n\t\t\t\tnodeHandler: this._nodeHandler,\n\t\t\t\tbind: this\n\t\t\t});\n\t\t\tthis.own(cached);\n\t\t\tthis._metaMap.set(MetaType, cached);\n\t\t}\n\n\t\treturn cached as T;\n\t}\n\n\tprotected onAttach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tprotected onDetach(): void {\n\t\t// Do nothing by default.\n\t}\n\n\tpublic get properties(): Readonly<P> & Readonly<WidgetProperties> {\n\t\treturn this._properties;\n\t}\n\n\tpublic get changedPropertyKeys(): string[] {\n\t\treturn [...this._changedPropertyKeys];\n\t}\n\n\tpublic __setProperties__(originalProperties: this['properties'], bind?: WidgetBaseInterface): void {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData) {\n\t\t\tinstanceData.inputProperties = originalProperties;\n\t\t}\n\t\tconst properties = this._runBeforeProperties(originalProperties);\n\t\tconst registeredDiffPropertyNames = this.getDecorator('registeredDiffProperty');\n\t\tconst changedPropertyKeys: string[] = [];\n\t\tconst propertyNames = Object.keys(properties);\n\n\t\tif (this._initialProperties === false || registeredDiffPropertyNames.length !== 0) {\n\t\t\tconst allProperties = [...propertyNames, ...Object.keys(this._properties)];\n\t\t\tconst checkedProperties: (string | number)[] = [];\n\t\t\tconst diffPropertyResults: any = {};\n\t\t\tlet runReactions = false;\n\n\t\t\tfor (let i = 0; i < allProperties.length; i++) {\n\t\t\t\tconst propertyName = allProperties[i];\n\t\t\t\tif (checkedProperties.indexOf(propertyName) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcheckedProperties.push(propertyName);\n\t\t\t\tconst previousProperty = this._properties[propertyName];\n\t\t\t\tconst newProperty = this._bindFunctionProperty(properties[propertyName], bind);\n\t\t\t\tif (registeredDiffPropertyNames.indexOf(propertyName) !== -1) {\n\t\t\t\t\trunReactions = true;\n\t\t\t\t\tconst diffFunctions = this.getDecorator(`diffProperty:${propertyName}`);\n\t\t\t\t\tfor (let i = 0; i < diffFunctions.length; i++) {\n\t\t\t\t\t\tconst result = diffFunctions[i](previousProperty, newProperty);\n\t\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst result = boundAuto(previousProperty, newProperty);\n\t\t\t\t\tif (result.changed && changedPropertyKeys.indexOf(propertyName) === -1) {\n\t\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t\t}\n\t\t\t\t\tif (propertyName in properties) {\n\t\t\t\t\t\tdiffPropertyResults[propertyName] = result.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (runReactions) {\n\t\t\t\tconst reactionFunctions: ReactionFunctionConfig[] = this.getDecorator('diffReaction');\n\t\t\t\tconst executedReactions: Function[] = [];\n\t\t\t\treactionFunctions.forEach(({ reaction, propertyName }) => {\n\t\t\t\t\tconst propertyChanged = changedPropertyKeys.indexOf(propertyName) !== -1;\n\t\t\t\t\tconst reactionRun = executedReactions.indexOf(reaction) !== -1;\n\t\t\t\t\tif (propertyChanged && !reactionRun) {\n\t\t\t\t\t\treaction.call(this, this._properties, diffPropertyResults);\n\t\t\t\t\t\texecutedReactions.push(reaction);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._properties = diffPropertyResults;\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t} else {\n\t\t\tthis._initialProperties = false;\n\t\t\tfor (let i = 0; i < propertyNames.length; i++) {\n\t\t\t\tconst propertyName = propertyNames[i];\n\t\t\t\tif (typeof properties[propertyName] === 'function') {\n\t\t\t\t\tproperties[propertyName] = this._bindFunctionProperty(properties[propertyName], bind);\n\t\t\t\t} else {\n\t\t\t\t\tchangedPropertyKeys.push(propertyName);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._changedPropertyKeys = changedPropertyKeys;\n\t\t\tthis._properties = { ...properties };\n\t\t}\n\n\t\tif (this._changedPropertyKeys.length > 0) {\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tpublic get children(): (C | null)[] {\n\t\treturn this._children;\n\t}\n\n\tpublic __setChildren__(children: (C | null)[]): void {\n\t\tif (this._children.length > 0 || children.length > 0) {\n\t\t\tthis._children = children;\n\t\t\tthis.invalidate();\n\t\t}\n\t}\n\n\tprivate _filterAndConvert(nodes: DNode[]): (WNode | VNode)[];\n\tprivate _filterAndConvert(nodes: DNode): WNode | VNode;\n\tprivate _filterAndConvert(nodes: DNode | DNode[]): (WNode | VNode) | (WNode | VNode)[];\n\tprivate _filterAndConvert(nodes: DNode | DNode[]): (WNode | VNode) | (WNode | VNode)[] {\n\t\tconst isArray = Array.isArray(nodes);\n\t\tconst filteredNodes = Array.isArray(nodes) ? nodes : [nodes];\n\t\tconst convertedNodes: (WNode | VNode)[] = [];\n\t\tfor (let i = 0; i < filteredNodes.length; i++) {\n\t\t\tconst node = filteredNodes[i];\n\t\t\tif (!node) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (typeof node === 'string') {\n\t\t\t\tconvertedNodes.push(toTextVNode(node));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (isVNode(node) && node.deferredPropertiesCallback) {\n\t\t\t\tconst properties = node.deferredPropertiesCallback(false);\n\t\t\t\tnode.originalProperties = node.properties;\n\t\t\t\tnode.properties = { ...properties, ...node.properties };\n\t\t\t}\n\t\t\tif (isWNode(node) && !isWidgetBaseConstructor(node.widgetConstructor)) {\n\t\t\t\tif (typeof node.widgetConstructor === 'function') {\n\t\t\t\t\tlet id = lazyWidgetIdMap.get(node.widgetConstructor);\n\t\t\t\t\tif (!id) {\n\t\t\t\t\t\tid = `__lazy_widget_${lazyWidgetId++}`;\n\t\t\t\t\t\tlazyWidgetIdMap.set(node.widgetConstructor, id);\n\t\t\t\t\t\tthis.registry.define(id, node.widgetConstructor);\n\t\t\t\t\t}\n\t\t\t\t\tnode.widgetConstructor = id;\n\t\t\t\t} else if (isLazyDefine(node.widgetConstructor)) {\n\t\t\t\t\tconst { label, registryItem } = node.widgetConstructor;\n\t\t\t\t\tif (!this.registry.has(label)) {\n\t\t\t\t\t\tthis.registry.define(label, registryItem);\n\t\t\t\t\t}\n\t\t\t\t\tnode.widgetConstructor = label;\n\t\t\t\t}\n\n\t\t\t\tnode.widgetConstructor =\n\t\t\t\t\tthis.registry.get<WidgetBase>(node.widgetConstructor) || node.widgetConstructor;\n\t\t\t}\n\t\t\tif (!node.bind) {\n\t\t\t\tnode.bind = this;\n\t\t\t}\n\t\t\tconvertedNodes.push(node);\n\t\t\tif (node.children && node.children.length) {\n\t\t\t\tnode.children = this._filterAndConvert(node.children);\n\t\t\t}\n\t\t}\n\t\treturn isArray ? convertedNodes : convertedNodes[0];\n\t}\n\n\tpublic __render__(): (WNode | VNode) | (WNode | VNode)[] {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData) {\n\t\t\tinstanceData.dirty = false;\n\t\t}\n\t\tconst render = this._runBeforeRenders();\n\t\tconst dNode = this._filterAndConvert(this._runAfterRenders(render()));\n\t\tthis._nodeHandler.clear();\n\t\treturn dNode;\n\t}\n\n\tpublic invalidate(): void {\n\t\tconst instanceData = widgetInstanceMap.get(this);\n\t\tif (instanceData && instanceData.invalidate) {\n\t\t\tinstanceData.invalidate();\n\t\t}\n\t}\n\n\tprotected render(): DNode | DNode[] {\n\t\treturn v('div', {}, this.children);\n\t}\n\n\t/**\n\t * Function to add decorators to WidgetBase\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @param value The value of the decorator\n\t */\n\tprotected addDecorator(decoratorKey: string, value: any): void {\n\t\tvalue = Array.isArray(value) ? value : [value];\n\t\tif (this.hasOwnProperty('constructor')) {\n\t\t\tlet decoratorList = decoratorMap.get(this.constructor);\n\t\t\tif (!decoratorList) {\n\t\t\t\tdecoratorList = new Map<string, any[]>();\n\t\t\t\tdecoratorMap.set(this.constructor, decoratorList);\n\t\t\t}\n\n\t\t\tlet specificDecoratorList = decoratorList.get(decoratorKey);\n\t\t\tif (!specificDecoratorList) {\n\t\t\t\tspecificDecoratorList = [];\n\t\t\t\tdecoratorList.set(decoratorKey, specificDecoratorList);\n\t\t\t}\n\t\t\tspecificDecoratorList.push(...value);\n\t\t} else {\n\t\t\tconst decorators = this.getDecorator(decoratorKey);\n\t\t\tthis._decoratorCache.set(decoratorKey, [...decorators, ...value]);\n\t\t}\n\t}\n\n\t/**\n\t * Function to build the list of decorators from the global decorator map.\n\t *\n\t * @param decoratorKey  The key of the decorator\n\t * @return An array of decorator values\n\t * @private\n\t */\n\tprivate _buildDecoratorList(decoratorKey: string): any[] {\n\t\tconst allDecorators = [];\n\n\t\tlet constructor = this.constructor;\n\n\t\twhile (constructor) {\n\t\t\tconst instanceMap = decoratorMap.get(constructor);\n\t\t\tif (instanceMap) {\n\t\t\t\tconst decorators = instanceMap.get(decoratorKey);\n\n\t\t\t\tif (decorators) {\n\t\t\t\t\tallDecorators.unshift(...decorators);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconstructor = Object.getPrototypeOf(constructor);\n\t\t}\n\n\t\treturn allDecorators;\n\t}\n\n\t/**\n\t * Function to retrieve decorator values\n\t *\n\t * @param decoratorKey The key of the decorator\n\t * @returns An array of decorator values\n\t */\n\tprotected getDecorator(decoratorKey: string): any[] {\n\t\tlet allDecorators = this._decoratorCache.get(decoratorKey);\n\n\t\tif (allDecorators !== undefined) {\n\t\t\treturn allDecorators;\n\t\t}\n\n\t\tallDecorators = this._buildDecoratorList(decoratorKey);\n\n\t\tthis._decoratorCache.set(decoratorKey, allDecorators);\n\t\treturn allDecorators;\n\t}\n\n\t/**\n\t * Binds unbound property functions to the specified `bind` property\n\t *\n\t * @param properties properties to check for functions\n\t */\n\tprivate _bindFunctionProperty(property: any, bind: any): any {\n\t\tif (typeof property === 'function' && !property[noBind] && isWidgetBaseConstructor(property) === false) {\n\t\t\tif (this._bindFunctionPropertyMap === undefined) {\n\t\t\t\tthis._bindFunctionPropertyMap = new WeakMap<\n\t\t\t\t\t(...args: any[]) => any,\n\t\t\t\t\t{ boundFunc: (...args: any[]) => any; scope: any }\n\t\t\t\t>();\n\t\t\t}\n\t\t\tconst bindInfo: Partial<BoundFunctionData> = this._bindFunctionPropertyMap.get(property) || {};\n\t\t\tlet { boundFunc, scope } = bindInfo;\n\n\t\t\tif (boundFunc === undefined || scope !== bind) {\n\t\t\t\tboundFunc = property.bind(bind) as (...args: any[]) => any;\n\t\t\t\tthis._bindFunctionPropertyMap.set(property, { boundFunc, scope: bind });\n\t\t\t}\n\t\t\treturn boundFunc;\n\t\t}\n\t\treturn property;\n\t}\n\n\tpublic get registry(): RegistryHandler {\n\t\tif (this._registry === undefined) {\n\t\t\tthis._registry = new RegistryHandler();\n\t\t\tthis.own(this._registry);\n\t\t\tthis.own(this._registry.on('invalidate', this._boundInvalidate));\n\t\t}\n\t\treturn this._registry;\n\t}\n\n\tprivate _runBeforeProperties(properties: any) {\n\t\tconst beforeProperties: BeforeProperties[] = this.getDecorator('beforeProperties');\n\t\tif (beforeProperties.length > 0) {\n\t\t\treturn beforeProperties.reduce(\n\t\t\t\t(properties, beforePropertiesFunction) => {\n\t\t\t\t\treturn { ...properties, ...beforePropertiesFunction.call(this, properties) };\n\t\t\t\t},\n\t\t\t\t{ ...properties }\n\t\t\t);\n\t\t}\n\t\treturn properties;\n\t}\n\n\t/**\n\t * Run all registered before renders and return the updated render method\n\t */\n\tprivate _runBeforeRenders(): Render {\n\t\tconst beforeRenders = this.getDecorator('beforeRender');\n\n\t\tif (beforeRenders.length > 0) {\n\t\t\treturn beforeRenders.reduce((render: Render, beforeRenderFunction: BeforeRender) => {\n\t\t\t\tconst updatedRender = beforeRenderFunction.call(this, render, this._properties, this._children);\n\t\t\t\tif (!updatedRender) {\n\t\t\t\t\tconsole.warn('Render function not returned from beforeRender, using previous render');\n\t\t\t\t\treturn render;\n\t\t\t\t}\n\t\t\t\treturn updatedRender;\n\t\t\t}, this._boundRenderFunc);\n\t\t}\n\t\treturn this._boundRenderFunc;\n\t}\n\n\t/**\n\t * Run all registered after renders and return the decorated DNodes\n\t *\n\t * @param dNode The DNodes to run through the after renders\n\t */\n\tprivate _runAfterRenders(dNode: DNode | DNode[]): DNode | DNode[] {\n\t\tconst afterRenders = this.getDecorator('afterRender');\n\n\t\tif (afterRenders.length > 0) {\n\t\t\tdNode = afterRenders.reduce((dNode: DNode | DNode[], afterRenderFunction: AfterRender) => {\n\t\t\t\treturn afterRenderFunction.call(this, dNode);\n\t\t\t}, dNode);\n\t\t}\n\n\t\tif (this._metaMap !== undefined) {\n\t\t\tthis._metaMap.forEach((meta) => {\n\t\t\t\tmeta.afterRender();\n\t\t\t});\n\t\t}\n\n\t\treturn dNode;\n\t}\n\n\tprivate _runAfterConstructors(): void {\n\t\tconst afterConstructors = this.getDecorator('afterConstructor');\n\n\t\tif (afterConstructors.length > 0) {\n\t\t\tafterConstructors.forEach((afterConstructor) => afterConstructor.call(this));\n\t\t}\n\t}\n\n\tprotected own(handle: Handle): void {\n\t\tthis._handles.push(handle);\n\t}\n\n\tprotected destroy() {\n\t\twhile (this._handles.length > 0) {\n\t\t\tconst handle = this._handles.pop();\n\t\t\tif (handle) {\n\t\t\t\thandle.destroy();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default WidgetBase;\n\n\n\n// WEBPACK FOOTER //\n// WidgetBase.ts","import { VNodeProperties } from './../interfaces';\n\nlet browserSpecificTransitionEndEventName = '';\nlet browserSpecificAnimationEndEventName = '';\n\nfunction determineBrowserStyleNames(element: HTMLElement) {\n\tif ('WebkitTransition' in element.style) {\n\t\tbrowserSpecificTransitionEndEventName = 'webkitTransitionEnd';\n\t\tbrowserSpecificAnimationEndEventName = 'webkitAnimationEnd';\n\t} else if ('transition' in element.style || 'MozTransition' in element.style) {\n\t\tbrowserSpecificTransitionEndEventName = 'transitionend';\n\t\tbrowserSpecificAnimationEndEventName = 'animationend';\n\t} else {\n\t\tthrow new Error('Your browser is not supported');\n\t}\n}\n\nfunction initialize(element: HTMLElement) {\n\tif (browserSpecificAnimationEndEventName === '') {\n\t\tdetermineBrowserStyleNames(element);\n\t}\n}\n\nfunction runAndCleanUp(element: HTMLElement, startAnimation: () => void, finishAnimation: () => void) {\n\tinitialize(element);\n\n\tlet finished = false;\n\n\tlet transitionEnd = function() {\n\t\tif (!finished) {\n\t\t\tfinished = true;\n\t\t\telement.removeEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n\t\t\telement.removeEventListener(browserSpecificAnimationEndEventName, transitionEnd);\n\n\t\t\tfinishAnimation();\n\t\t}\n\t};\n\n\tstartAnimation();\n\n\telement.addEventListener(browserSpecificAnimationEndEventName, transitionEnd);\n\telement.addEventListener(browserSpecificTransitionEndEventName, transitionEnd);\n}\n\nfunction exit(node: HTMLElement, properties: VNodeProperties, exitAnimation: string, removeNode: () => void) {\n\tconst activeClass = properties.exitAnimationActive || `${exitAnimation}-active`;\n\n\trunAndCleanUp(\n\t\tnode,\n\t\t() => {\n\t\t\tnode.classList.add(exitAnimation);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tnode.classList.add(activeClass);\n\t\t\t});\n\t\t},\n\t\t() => {\n\t\t\tremoveNode();\n\t\t}\n\t);\n}\n\nfunction enter(node: HTMLElement, properties: VNodeProperties, enterAnimation: string) {\n\tconst activeClass = properties.enterAnimationActive || `${enterAnimation}-active`;\n\n\trunAndCleanUp(\n\t\tnode,\n\t\t() => {\n\t\t\tnode.classList.add(enterAnimation);\n\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tnode.classList.add(activeClass);\n\t\t\t});\n\t\t},\n\t\t() => {\n\t\t\tnode.classList.remove(enterAnimation);\n\t\t\tnode.classList.remove(activeClass);\n\t\t}\n\t);\n}\n\nexport default {\n\tenter,\n\texit\n};\n\n\n\n// WEBPACK FOOTER //\n// cssTransitions.ts","import {\n\tConstructor,\n\tDefaultWidgetBaseInterface,\n\tDeferredVirtualProperties,\n\tDNode,\n\tVNode,\n\tRegistryLabel,\n\tVNodeProperties,\n\tWidgetBaseInterface,\n\tWNode,\n\tDomOptions,\n\tRenderResult,\n\tDomVNode,\n\tLazyWidget,\n\tLazyDefine\n} from './interfaces';\n\n/**\n * The identifier for a WNode type\n */\nexport const WNODE = '__WNODE_TYPE';\n\n/**\n * The identifier for a VNode type\n */\nexport const VNODE = '__VNODE_TYPE';\n\n/**\n * The identifier for a VNode type created using dom()\n */\nexport const DOMVNODE = '__DOMVNODE_TYPE';\n\n/**\n * Helper function that returns true if the `DNode` is a `WNode` using the `type` property\n */\nexport function isWNode<W extends WidgetBaseInterface = DefaultWidgetBaseInterface>(\n\tchild: DNode<W> | any\n): child is WNode<W> {\n\treturn Boolean(child && typeof child !== 'string' && child.type === WNODE);\n}\n\n/**\n * Helper function that returns true if the `DNode` is a `VNode` using the `type` property\n */\nexport function isVNode(child: DNode): child is VNode {\n\treturn Boolean(child && typeof child !== 'string' && (child.type === VNODE || child.type === DOMVNODE));\n}\n\n/**\n * Helper function that returns true if the `DNode` is a `VNode` created with `dom()` using the `type` property\n */\nexport function isDomVNode(child: DNode): child is DomVNode {\n\treturn Boolean(child && typeof child !== 'string' && child.type === DOMVNODE);\n}\n\nexport function isElementNode(value: any): value is Element {\n\treturn !!value.tagName;\n}\n\n/**\n * Interface for the decorate modifier\n */\nexport interface Modifier<T extends DNode> {\n\t(dNode: T, breaker: () => void): void;\n}\n\n/**\n * The predicate function for decorate\n */\nexport interface Predicate<T extends DNode> {\n\t(dNode: DNode): dNode is T;\n}\n\n/**\n * Decorator options\n */\nexport interface DecorateOptions<T extends DNode> {\n\tmodifier: Modifier<T>;\n\tpredicate?: Predicate<T>;\n\tshallow?: boolean;\n}\n\n/**\n * Generic decorate function for DNodes. The nodes are modified in place based on the provided predicate\n * and modifier functions.\n *\n * The children of each node are flattened and added to the array for decoration.\n *\n * If no predicate is supplied then the modifier will be executed on all nodes. A `breaker` function is passed to the\n * modifier which will drain the nodes array and exit the decoration.\n *\n * When the `shallow` options is set to `true` the only the top node or nodes will be decorated (only supported using\n * `DecorateOptions`).\n */\nexport function decorate<T extends DNode>(dNodes: DNode, options: DecorateOptions<T>): DNode;\nexport function decorate<T extends DNode>(dNodes: DNode[], options: DecorateOptions<T>): DNode[];\nexport function decorate<T extends DNode>(dNodes: DNode | DNode[], options: DecorateOptions<T>): DNode | DNode[];\nexport function decorate<T extends DNode>(dNodes: DNode, modifier: Modifier<T>, predicate: Predicate<T>): DNode;\nexport function decorate<T extends DNode>(dNodes: DNode[], modifier: Modifier<T>, predicate: Predicate<T>): DNode[];\nexport function decorate<T extends DNode>(\n\tdNodes: RenderResult,\n\tmodifier: Modifier<T>,\n\tpredicate: Predicate<T>\n): RenderResult;\nexport function decorate(dNodes: DNode, modifier: Modifier<DNode>): DNode;\nexport function decorate(dNodes: DNode[], modifier: Modifier<DNode>): DNode[];\nexport function decorate(dNodes: RenderResult, modifier: Modifier<DNode>): RenderResult;\nexport function decorate(\n\tdNodes: DNode | DNode[],\n\toptionsOrModifier: Modifier<DNode> | DecorateOptions<DNode>,\n\tpredicate?: Predicate<DNode>\n): DNode | DNode[] {\n\tlet shallow = false;\n\tlet modifier;\n\tif (typeof optionsOrModifier === 'function') {\n\t\tmodifier = optionsOrModifier;\n\t} else {\n\t\tmodifier = optionsOrModifier.modifier;\n\t\tpredicate = optionsOrModifier.predicate;\n\t\tshallow = optionsOrModifier.shallow || false;\n\t}\n\n\tlet nodes = Array.isArray(dNodes) ? [...dNodes] : [dNodes];\n\tfunction breaker() {\n\t\tnodes = [];\n\t}\n\twhile (nodes.length) {\n\t\tconst node = nodes.shift();\n\t\tif (node) {\n\t\t\tif (!shallow && (isWNode(node) || isVNode(node)) && node.children) {\n\t\t\t\tnodes = [...nodes, ...node.children];\n\t\t\t}\n\t\t\tif (!predicate || predicate(node)) {\n\t\t\t\tmodifier(node, breaker);\n\t\t\t}\n\t\t}\n\t}\n\treturn dNodes;\n}\n\n/**\n * Wrapper function for calls to create a widget.\n */\nexport function w<W extends WidgetBaseInterface>(\n\tnode: WNode<W>,\n\tproperties: Partial<W['properties']>,\n\tchildren?: W['children']\n): WNode<W>;\nexport function w<W extends WidgetBaseInterface>(\n\twidgetConstructor: Constructor<W> | RegistryLabel | LazyWidget<W> | LazyDefine<W>,\n\tproperties: W['properties'],\n\tchildren?: W['children']\n): WNode<W>;\nexport function w<W extends WidgetBaseInterface>(\n\twidgetConstructorOrNode: Constructor<W> | RegistryLabel | WNode<W> | LazyWidget<W> | LazyDefine<W>,\n\tproperties: W['properties'],\n\tchildren?: W['children']\n): WNode<W> {\n\tif (isWNode(widgetConstructorOrNode)) {\n\t\tproperties = { ...(widgetConstructorOrNode.properties as any), ...(properties as any) };\n\t\tchildren = children ? children : widgetConstructorOrNode.children;\n\t\twidgetConstructorOrNode = widgetConstructorOrNode.widgetConstructor;\n\t}\n\n\treturn {\n\t\tchildren: children || [],\n\t\twidgetConstructor: widgetConstructorOrNode,\n\t\tproperties,\n\t\ttype: WNODE\n\t};\n}\n\n/**\n * Wrapper function for calls to create VNodes.\n */\nexport function v(node: VNode, properties: VNodeProperties, children: undefined | DNode[]): VNode;\nexport function v(node: VNode, properties: VNodeProperties): VNode;\nexport function v(tag: string, children: undefined | DNode[]): VNode;\nexport function v(tag: string, properties: DeferredVirtualProperties | VNodeProperties, children?: DNode[]): VNode;\nexport function v(tag: string): VNode;\nexport function v(\n\ttag: string | VNode,\n\tpropertiesOrChildren: VNodeProperties | DeferredVirtualProperties | DNode[] = {},\n\tchildren: undefined | DNode[] = undefined\n): VNode {\n\tlet properties: VNodeProperties | DeferredVirtualProperties = propertiesOrChildren;\n\tlet deferredPropertiesCallback;\n\n\tif (Array.isArray(propertiesOrChildren)) {\n\t\tchildren = propertiesOrChildren;\n\t\tproperties = {};\n\t}\n\n\tif (typeof properties === 'function') {\n\t\tdeferredPropertiesCallback = properties;\n\t\tproperties = {};\n\t}\n\n\tif (isVNode(tag)) {\n\t\tlet { classes = [], styles = {}, ...newProperties } = properties;\n\t\tlet { classes: nodeClasses = [], styles: nodeStyles = {}, ...nodeProperties } = tag.properties;\n\t\tnodeClasses = Array.isArray(nodeClasses) ? nodeClasses : [nodeClasses];\n\t\tclasses = Array.isArray(classes) ? classes : [classes];\n\t\tstyles = { ...nodeStyles, ...styles };\n\t\tproperties = { ...nodeProperties, ...newProperties, classes: [...nodeClasses, ...classes], styles };\n\t\tchildren = children ? children : tag.children;\n\t\ttag = tag.tag;\n\t}\n\n\treturn {\n\t\ttag,\n\t\tdeferredPropertiesCallback,\n\t\toriginalProperties: {},\n\t\tchildren,\n\t\tproperties,\n\t\ttype: VNODE\n\t};\n}\n\n/**\n * Create a VNode for an existing DOM Node.\n */\nexport function dom(\n\t{ node, attrs = {}, props = {}, on = {}, diffType = 'none', onAttach }: DomOptions,\n\tchildren?: DNode[]\n): DomVNode {\n\treturn {\n\t\ttag: isElementNode(node) ? node.tagName.toLowerCase() : '',\n\t\tproperties: props,\n\t\tattributes: attrs,\n\t\tevents: on,\n\t\tchildren,\n\t\ttype: DOMVNODE,\n\t\tdomNode: node,\n\t\ttext: isElementNode(node) ? undefined : node.data,\n\t\tdiffType,\n\t\tonAttach\n\t};\n}\n\n\n\n// WEBPACK FOOTER //\n// d.ts","import { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\n\nexport function alwaysRender() {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase) {\n\t\t\tthis.invalidate();\n\t\t})(target);\n\t});\n}\n\nexport default alwaysRender;\n\n\n\n// WEBPACK FOOTER //\n// alwaysRender.ts","import { handleDecorator } from './handleDecorator';\nimport { BeforeProperties } from './../interfaces';\n\n/**\n * Decorator that adds the function passed of target method to be run\n * in the `beforeProperties` lifecycle.\n */\nexport function beforeProperties(method: BeforeProperties): (target: any) => void;\nexport function beforeProperties(): (target: any, propertyKey: string) => void;\nexport function beforeProperties(method?: BeforeProperties) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('beforeProperties', propertyKey ? target[propertyKey] : method);\n\t});\n}\n\nexport default beforeProperties;\n\n\n\n// WEBPACK FOOTER //\n// beforeProperties.ts","import { handleDecorator } from './handleDecorator';\nimport { DiffPropertyFunction } from './../interfaces';\nimport { auto } from './../diff';\n\n/**\n * Decorator that can be used to register a function as a specific property diff\n *\n * @param propertyName  The name of the property of which the diff function is applied\n * @param diffType      The diff type, default is DiffType.AUTO.\n * @param diffFunction  A diff function to run if diffType if DiffType.CUSTOM\n */\nexport function diffProperty(\n\tpropertyName: string,\n\tdiffFunction: DiffPropertyFunction = auto,\n\treactionFunction?: Function\n) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator(`diffProperty:${propertyName}`, diffFunction.bind(null));\n\t\ttarget.addDecorator('registeredDiffProperty', propertyName);\n\t\tif (reactionFunction || propertyKey) {\n\t\t\ttarget.addDecorator('diffReaction', {\n\t\t\t\tpropertyName,\n\t\t\t\treaction: propertyKey ? target[propertyKey] : reactionFunction\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default diffProperty;\n\n\n\n// WEBPACK FOOTER //\n// diffProperty.ts","export type DecoratorHandler = (target: any, propertyKey?: string) => void;\n\n/**\n * Generic decorator handler to take care of whether or not the decorator was called at the class level\n * or the method level.\n *\n * @param handler\n */\nexport function handleDecorator(handler: DecoratorHandler) {\n\treturn function(target: any, propertyKey?: string, descriptor?: PropertyDescriptor) {\n\t\tif (typeof target === 'function') {\n\t\t\thandler(target.prototype, undefined);\n\t\t} else {\n\t\t\thandler(target, propertyKey);\n\t\t}\n\t};\n}\n\nexport default handleDecorator;\n\n\n\n// WEBPACK FOOTER //\n// handleDecorator.ts","import WeakMap from '../../shim/WeakMap';\nimport { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './handleDecorator';\nimport { beforeProperties } from './beforeProperties';\nimport { InjectorItem, RegistryLabel } from './../interfaces';\n\n/**\n * Map of instances against registered injectors.\n */\nconst registeredInjectorsMap: WeakMap<WidgetBase, InjectorItem[]> = new WeakMap();\n\n/**\n * Defines the contract requires for the get properties function\n * used to map the injected properties.\n */\nexport interface GetProperties<T = any> {\n\t(payload: any, properties: T): T;\n}\n\n/**\n * Defines the inject configuration required for use of the `inject` decorator\n */\nexport interface InjectConfig {\n\t/**\n\t * The label of the registry injector\n\t */\n\tname: RegistryLabel;\n\n\t/**\n\t * Function that returns propertues to inject using the passed properties\n\t * and the injected payload.\n\t */\n\tgetProperties: GetProperties;\n}\n\n/**\n * Decorator retrieves an injector from an available registry using the name and\n * calls the `getProperties` function with the payload from the injector\n * and current properties with the the injected properties returned.\n *\n * @param InjectConfig the inject configuration\n */\nexport function inject({ name, getProperties }: InjectConfig) {\n\treturn handleDecorator((target, propertyKey) => {\n\t\tbeforeProperties(function(this: WidgetBase & { own: Function }, properties: any) {\n\t\t\tconst injectorItem = this.registry.getInjector(name);\n\t\t\tif (injectorItem) {\n\t\t\t\tconst { injector, invalidator } = injectorItem;\n\t\t\t\tconst registeredInjectors = registeredInjectorsMap.get(this) || [];\n\t\t\t\tif (registeredInjectors.length === 0) {\n\t\t\t\t\tregisteredInjectorsMap.set(this, registeredInjectors);\n\t\t\t\t}\n\t\t\t\tif (registeredInjectors.indexOf(injectorItem) === -1) {\n\t\t\t\t\tthis.own(\n\t\t\t\t\t\tinvalidator.on('invalidate', () => {\n\t\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tregisteredInjectors.push(injectorItem);\n\t\t\t\t}\n\t\t\t\treturn getProperties(injector(), properties);\n\t\t\t}\n\t\t})(target);\n\t});\n}\n\nexport default inject;\n\n\n\n// WEBPACK FOOTER //\n// inject.ts","import { PropertyChangeRecord } from './interfaces';\nimport { WIDGET_BASE_TYPE } from './Registry';\n\nfunction isObjectOrArray(value: any): boolean {\n\treturn Object.prototype.toString.call(value) === '[object Object]' || Array.isArray(value);\n}\n\nexport function always(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: true,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function ignore(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: false,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function reference(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\treturn {\n\t\tchanged: previousProperty !== newProperty,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function shallow(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet changed = false;\n\n\tconst validOldProperty = previousProperty && isObjectOrArray(previousProperty);\n\tconst validNewProperty = newProperty && isObjectOrArray(newProperty);\n\n\tif (!validOldProperty || !validNewProperty) {\n\t\treturn {\n\t\t\tchanged: true,\n\t\t\tvalue: newProperty\n\t\t};\n\t}\n\n\tconst previousKeys = Object.keys(previousProperty);\n\tconst newKeys = Object.keys(newProperty);\n\n\tif (previousKeys.length !== newKeys.length) {\n\t\tchanged = true;\n\t} else {\n\t\tchanged = newKeys.some((key) => {\n\t\t\treturn newProperty[key] !== previousProperty[key];\n\t\t});\n\t}\n\treturn {\n\t\tchanged,\n\t\tvalue: newProperty\n\t};\n}\n\nexport function auto(previousProperty: any, newProperty: any): PropertyChangeRecord {\n\tlet result;\n\tif (typeof newProperty === 'function') {\n\t\tif (newProperty._type === WIDGET_BASE_TYPE) {\n\t\t\tresult = reference(previousProperty, newProperty);\n\t\t} else {\n\t\t\tresult = ignore(previousProperty, newProperty);\n\t\t}\n\t} else if (isObjectOrArray(newProperty)) {\n\t\tresult = shallow(previousProperty, newProperty);\n\t} else {\n\t\tresult = reference(previousProperty, newProperty);\n\t}\n\treturn result;\n}\n\n\n\n// WEBPACK FOOTER //\n// diff.ts","import { Constructor, WidgetProperties, SupportedClassName } from './../interfaces';\nimport { Registry } from './../Registry';\nimport { Injector } from './../Injector';\nimport { inject } from './../decorators/inject';\nimport { WidgetBase } from './../WidgetBase';\nimport { handleDecorator } from './../decorators/handleDecorator';\nimport { diffProperty } from './../decorators/diffProperty';\nimport { shallow } from './../diff';\n\n/**\n * A lookup object for available class names\n */\nexport type ClassNames = {\n\t[key: string]: string;\n};\n\n/**\n * A lookup object for available widget classes names\n */\nexport interface Theme {\n\t[key: string]: object;\n}\n\n/**\n * Properties required for the Themed mixin\n */\nexport interface ThemedProperties<T = ClassNames> extends WidgetProperties {\n\ttheme?: Theme;\n\textraClasses?: { [P in keyof T]?: string };\n}\n\nconst THEME_KEY = ' _key';\n\nexport const INJECTED_THEME_KEY = '__theme_injector';\n\n/**\n * Interface for the ThemedMixin\n */\nexport interface ThemedMixin<T = ClassNames> {\n\ttheme(classes: SupportedClassName): SupportedClassName;\n\ttheme(classes: SupportedClassName[]): SupportedClassName[];\n\tproperties: ThemedProperties<T>;\n}\n\n/**\n * Decorator for base css classes\n */\nexport function theme(theme: {}) {\n\treturn handleDecorator((target) => {\n\t\ttarget.addDecorator('baseThemeClasses', theme);\n\t});\n}\n\n/**\n * Creates a reverse lookup for the classes passed in via the `theme` function.\n *\n * @param classes The baseClasses object\n * @requires\n */\nfunction createThemeClassesLookup(classes: ClassNames[]): ClassNames {\n\treturn classes.reduce(\n\t\t(currentClassNames, baseClass) => {\n\t\t\tObject.keys(baseClass).forEach((key: string) => {\n\t\t\t\tcurrentClassNames[baseClass[key]] = key;\n\t\t\t});\n\t\t\treturn currentClassNames;\n\t\t},\n\t\t<ClassNames>{}\n\t);\n}\n\n/**\n * Convenience function that is given a theme and an optional registry, the theme\n * injector is defined against the registry, returning the theme.\n *\n * @param theme the theme to set\n * @param themeRegistry registry to define the theme injector against. Defaults\n * to the global registry\n *\n * @returns the theme injector used to set the theme\n */\nexport function registerThemeInjector(theme: any, themeRegistry: Registry): Injector {\n\tconst themeInjector = new Injector(theme);\n\tthemeRegistry.defineInjector(INJECTED_THEME_KEY, (invalidator) => {\n\t\tthemeInjector.setInvalidator(invalidator);\n\t\treturn () => themeInjector.get();\n\t});\n\treturn themeInjector;\n}\n\n/**\n * Function that returns a class decorated with with Themed functionality\n */\n\nexport function ThemedMixin<E, T extends Constructor<WidgetBase<ThemedProperties<E>>>>(\n\tBase: T\n): Constructor<ThemedMixin<E>> & T {\n\t@inject({\n\t\tname: INJECTED_THEME_KEY,\n\t\tgetProperties: (theme: Theme, properties: ThemedProperties): ThemedProperties => {\n\t\t\tif (!properties.theme) {\n\t\t\t\treturn { theme };\n\t\t\t}\n\t\t\treturn {};\n\t\t}\n\t})\n\tabstract class Themed extends Base {\n\t\tpublic abstract properties: ThemedProperties<E>;\n\n\t\t/**\n\t\t * The Themed baseClasses\n\t\t */\n\t\tprivate _registeredBaseTheme: ClassNames | undefined;\n\n\t\t/**\n\t\t * Registered base theme keys\n\t\t */\n\t\tprivate _registeredBaseThemeKeys: string[] = [];\n\n\t\t/**\n\t\t * Reverse lookup of the theme classes\n\t\t */\n\t\tprivate _baseThemeClassesReverseLookup: ClassNames | undefined;\n\n\t\t/**\n\t\t * Indicates if classes meta data need to be calculated.\n\t\t */\n\t\tprivate _recalculateClasses = true;\n\n\t\t/**\n\t\t * Loaded theme\n\t\t */\n\t\tprivate _theme: ClassNames = {};\n\n\t\tpublic theme(classes: SupportedClassName): SupportedClassName;\n\t\tpublic theme(classes: SupportedClassName[]): SupportedClassName[];\n\t\tpublic theme(classes: SupportedClassName | SupportedClassName[]): SupportedClassName | SupportedClassName[] {\n\t\t\tif (this._recalculateClasses) {\n\t\t\t\tthis._recalculateThemeClasses();\n\t\t\t}\n\t\t\tif (Array.isArray(classes)) {\n\t\t\t\treturn classes.map((className) => this._getThemeClass(className));\n\t\t\t}\n\t\t\treturn this._getThemeClass(classes);\n\t\t}\n\n\t\t/**\n\t\t * Function fired when `theme` or `extraClasses` are changed.\n\t\t */\n\t\t@diffProperty('theme', shallow)\n\t\t@diffProperty('extraClasses', shallow)\n\t\tprotected onPropertiesChanged() {\n\t\t\tthis._recalculateClasses = true;\n\t\t}\n\n\t\tprivate _getThemeClass(className: SupportedClassName): SupportedClassName {\n\t\t\tif (className === undefined || className === null) {\n\t\t\t\treturn className;\n\t\t\t}\n\n\t\t\tconst extraClasses = this.properties.extraClasses || ({} as any);\n\t\t\tconst themeClassName = this._baseThemeClassesReverseLookup![className];\n\t\t\tlet resultClassNames: string[] = [];\n\t\t\tif (!themeClassName) {\n\t\t\t\tconsole.warn(`Class name: '${className}' not found in theme`);\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif (extraClasses[themeClassName]) {\n\t\t\t\tresultClassNames.push(extraClasses[themeClassName]);\n\t\t\t}\n\n\t\t\tif (this._theme[themeClassName]) {\n\t\t\t\tresultClassNames.push(this._theme[themeClassName]);\n\t\t\t} else {\n\t\t\t\tresultClassNames.push(this._registeredBaseTheme![themeClassName]);\n\t\t\t}\n\t\t\treturn resultClassNames.join(' ');\n\t\t}\n\n\t\tprivate _recalculateThemeClasses() {\n\t\t\tconst { theme = {} } = this.properties;\n\t\t\tif (!this._registeredBaseTheme) {\n\t\t\t\tconst baseThemes = this.getDecorator('baseThemeClasses');\n\t\t\t\tif (baseThemes.length === 0) {\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t'A base theme has not been provided to this widget. Please use the @theme decorator to add a theme.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis._registeredBaseTheme = baseThemes.reduce((finalBaseTheme, baseTheme) => {\n\t\t\t\t\tconst { [THEME_KEY]: key, ...classes } = baseTheme;\n\t\t\t\t\tthis._registeredBaseThemeKeys.push(key);\n\t\t\t\t\treturn { ...finalBaseTheme, ...classes };\n\t\t\t\t}, {});\n\t\t\t\tthis._baseThemeClassesReverseLookup = createThemeClassesLookup(baseThemes);\n\t\t\t}\n\n\t\t\tthis._theme = this._registeredBaseThemeKeys.reduce((baseTheme, themeKey) => {\n\t\t\t\treturn { ...baseTheme, ...theme[themeKey] };\n\t\t\t}, {});\n\n\t\t\tthis._recalculateClasses = false;\n\t\t}\n\t}\n\n\treturn Themed;\n}\n\nexport default ThemedMixin;\n\n\n\n// WEBPACK FOOTER //\n// Themed.ts","import global from '../shim/global';\nimport has from '../has/has';\nimport { WeakMap } from '../shim/WeakMap';\nimport {\n\tWNode,\n\tVNode,\n\tDNode,\n\tVNodeProperties,\n\tWidgetBaseConstructor,\n\tTransitionStrategy,\n\tDomVNode\n} from './interfaces';\nimport transitionStrategy from './animations/cssTransitions';\nimport { isVNode, isWNode, WNODE, v, isDomVNode, w } from './d';\nimport { Registry, isWidgetBaseConstructor } from './Registry';\nimport { WidgetBase, widgetInstanceMap } from './WidgetBase';\n\nexport interface BaseNodeWrapper {\n\tnode: WNode | VNode;\n\tdomNode?: Node;\n\tchildrenWrappers?: DNodeWrapper[];\n\tdepth: number;\n\trequiresInsertBefore?: boolean;\n\thasPreviousSiblings?: boolean;\n\thasParentWNode?: boolean;\n\tnamespace?: string;\n\thasAnimations?: boolean;\n}\n\nexport interface WNodeWrapper extends BaseNodeWrapper {\n\tnode: WNode;\n\tinstance?: WidgetBase;\n\tmergeNodes?: Node[];\n\tnodeHandlerCalled?: boolean;\n}\n\nexport interface VNodeWrapper extends BaseNodeWrapper {\n\tnode: VNode | DomVNode;\n\tmerged?: boolean;\n\tdecoratedDeferredProperties?: VNodeProperties;\n\tinserted?: boolean;\n}\n\nexport type DNodeWrapper = VNodeWrapper | WNodeWrapper;\n\nexport interface MountOptions {\n\tsync: boolean;\n\tmerge: boolean;\n\ttransition: TransitionStrategy;\n\tdomNode: HTMLElement;\n\tregistry: Registry | null;\n}\n\nexport interface Renderer {\n\tinvalidate(): void;\n\tmount(mountOptions?: Partial<MountOptions>): void;\n}\n\ninterface ProcessItem {\n\tcurrent?: (WNodeWrapper | VNodeWrapper)[];\n\tnext?: (WNodeWrapper | VNodeWrapper)[];\n\tmeta: ProcessMeta;\n}\n\ninterface ProcessResult {\n\titem?: ProcessItem;\n\twidget?: AttachApplication | DetachApplication;\n\tdom?: ApplicationInstruction;\n}\n\ninterface ProcessMeta {\n\tmergeNodes?: Node[];\n\toldIndex?: number;\n\tnewIndex?: number;\n}\n\ninterface InvalidationQueueItem {\n\tinstance: WidgetBase;\n\tdepth: number;\n}\n\ninterface Instruction {\n\tcurrent: undefined | DNodeWrapper;\n\tnext: undefined | DNodeWrapper;\n}\n\ninterface CreateWidgetInstruction {\n\tnext: WNodeWrapper;\n}\n\ninterface UpdateWidgetInstruction {\n\tcurrent: WNodeWrapper;\n\tnext: WNodeWrapper;\n}\n\ninterface RemoveWidgetInstruction {\n\tcurrent: WNodeWrapper;\n}\n\ninterface CreateDomInstruction {\n\tnext: VNodeWrapper;\n}\n\ninterface UpdateDomInstruction {\n\tcurrent: VNodeWrapper;\n\tnext: VNodeWrapper;\n}\n\ninterface RemoveDomInstruction {\n\tcurrent: VNodeWrapper;\n}\n\ninterface AttachApplication {\n\ttype: 'attach';\n\tinstance: WidgetBase;\n\tattached: boolean;\n}\n\ninterface DetachApplication {\n\ttype: 'detach';\n\tcurrent: WNodeWrapper;\n}\n\ninterface CreateDomApplication {\n\ttype: 'create';\n\tcurrent?: VNodeWrapper;\n\tnext: VNodeWrapper;\n\tparentDomNode: Node;\n}\n\ninterface DeleteDomApplication {\n\ttype: 'delete';\n\tcurrent: VNodeWrapper;\n}\n\ninterface UpdateDomApplication {\n\ttype: 'update';\n\tcurrent: VNodeWrapper;\n\tnext: VNodeWrapper;\n}\n\ninterface PreviousProperties {\n\tproperties: any;\n\tattributes?: any;\n\tevents?: any;\n}\n\ntype ApplicationInstruction =\n\t| CreateDomApplication\n\t| UpdateDomApplication\n\t| DeleteDomApplication\n\t| AttachApplication\n\t| DetachApplication;\n\nconst EMPTY_ARRAY: DNodeWrapper[] = [];\nconst nodeOperations = ['focus', 'blur', 'scrollIntoView', 'click'];\nconst NAMESPACE_W3 = 'http://www.w3.org/';\nconst NAMESPACE_SVG = NAMESPACE_W3 + '2000/svg';\nconst NAMESPACE_XLINK = NAMESPACE_W3 + '1999/xlink';\n\nfunction isWNodeWrapper(child: DNodeWrapper): child is WNodeWrapper {\n\treturn child && isWNode(child.node);\n}\n\nfunction isVNodeWrapper(child?: DNodeWrapper | null): child is VNodeWrapper {\n\treturn !!child && isVNode(child.node);\n}\n\nfunction isAttachApplication(value: any): value is AttachApplication | DetachApplication {\n\treturn !!value.type;\n}\n\nfunction updateAttributes(\n\tdomNode: Element,\n\tpreviousAttributes: { [index: string]: string | undefined },\n\tattributes: { [index: string]: string | undefined },\n\tnamespace?: string\n) {\n\tconst attrNames = Object.keys(attributes);\n\tconst attrCount = attrNames.length;\n\tfor (let i = 0; i < attrCount; i++) {\n\t\tconst attrName = attrNames[i];\n\t\tconst attrValue = attributes[attrName];\n\t\tconst previousAttrValue = previousAttributes[attrName];\n\t\tif (attrValue !== previousAttrValue) {\n\t\t\tupdateAttribute(domNode, attrName, attrValue, namespace);\n\t\t}\n\t}\n}\n\nfunction buildPreviousProperties(domNode: any, current: VNodeWrapper, next: VNodeWrapper) {\n\tconst {\n\t\tnode: { diffType, properties, attributes }\n\t} = current;\n\tif (!diffType || diffType === 'vdom') {\n\t\treturn {\n\t\t\tproperties: current.node.properties,\n\t\t\tattributes: current.node.attributes,\n\t\t\tevents: current.node.events\n\t\t};\n\t} else if (diffType === 'none') {\n\t\treturn { properties: {}, attributes: current.node.attributes ? {} : undefined, events: current.node.events };\n\t}\n\tlet newProperties: any = {\n\t\tproperties: {}\n\t};\n\tif (attributes) {\n\t\tnewProperties.attributes = {};\n\t\tnewProperties.events = current.node.events;\n\t\tObject.keys(properties).forEach((propName) => {\n\t\t\tnewProperties.properties[propName] = domNode[propName];\n\t\t});\n\t\tObject.keys(attributes).forEach((attrName) => {\n\t\t\tnewProperties.attributes[attrName] = domNode.getAttribute(attrName);\n\t\t});\n\t\treturn newProperties;\n\t}\n\tnewProperties.properties = Object.keys(properties).reduce(\n\t\t(props, property) => {\n\t\t\tprops[property] = domNode.getAttribute(property) || domNode[property];\n\t\t\treturn props;\n\t\t},\n\t\t{} as any\n\t);\n\treturn newProperties;\n}\n\nfunction checkDistinguishable(wrappers: DNodeWrapper[], index: number, parentWNodeWrapper?: WNodeWrapper) {\n\tconst wrapperToCheck = wrappers[index];\n\tif (isVNodeWrapper(wrapperToCheck) && !wrapperToCheck.node.tag) {\n\t\treturn;\n\t}\n\tconst { key } = wrapperToCheck.node.properties;\n\tlet parentName = 'unknown';\n\tif (parentWNodeWrapper) {\n\t\tconst {\n\t\t\tnode: { widgetConstructor }\n\t\t} = parentWNodeWrapper;\n\t\tparentName = (widgetConstructor as any).name || 'unknown';\n\t}\n\n\tif (key === undefined || key === null) {\n\t\tfor (let i = 0; i < wrappers.length; i++) {\n\t\t\tif (i !== index) {\n\t\t\t\tconst wrapper = wrappers[i];\n\t\t\t\tif (same(wrapper, wrapperToCheck)) {\n\t\t\t\t\tlet nodeIdentifier: string;\n\t\t\t\t\tif (isWNodeWrapper(wrapper)) {\n\t\t\t\t\t\tnodeIdentifier = (wrapper.node.widgetConstructor as any).name || 'unknown';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodeIdentifier = wrapper.node.tag;\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`A widget (${parentName}) has had a child added or removed, but they were not able to uniquely identified. It is recommended to provide a unique 'key' property when using the same widget or element (${nodeIdentifier}) multiple times as siblings`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction same(dnode1: DNodeWrapper, dnode2: DNodeWrapper): boolean {\n\tif (isVNodeWrapper(dnode1) && isVNodeWrapper(dnode2)) {\n\t\tif (isDomVNode(dnode1.node) && isDomVNode(dnode2.node)) {\n\t\t\tif (dnode1.node.domNode !== dnode2.node.domNode) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\tif (dnode1.node.tag !== dnode2.node.tag) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.node.properties.key !== dnode2.node.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t} else if (isWNodeWrapper(dnode1) && isWNodeWrapper(dnode2)) {\n\t\tif (dnode1.instance === undefined && typeof dnode2.node.widgetConstructor === 'string') {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.node.widgetConstructor !== dnode2.node.widgetConstructor) {\n\t\t\treturn false;\n\t\t}\n\t\tif (dnode1.node.properties.key !== dnode2.node.properties.key) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction findIndexOfChild(children: DNodeWrapper[], sameAs: DNodeWrapper, start: number) {\n\tfor (let i = start; i < children.length; i++) {\n\t\tif (same(children[i], sameAs)) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction createClassPropValue(classes: string | string[] = []) {\n\tclasses = Array.isArray(classes) ? classes : [classes];\n\treturn classes.join(' ').trim();\n}\n\nfunction updateAttribute(domNode: Element, attrName: string, attrValue: string | undefined, namespace?: string) {\n\tif (namespace === NAMESPACE_SVG && attrName === 'href' && attrValue) {\n\t\tdomNode.setAttributeNS(NAMESPACE_XLINK, attrName, attrValue);\n\t} else if ((attrName === 'role' && attrValue === '') || attrValue === undefined) {\n\t\tdomNode.removeAttribute(attrName);\n\t} else {\n\t\tdomNode.setAttribute(attrName, attrValue);\n\t}\n}\n\nfunction runEnterAnimation(next: VNodeWrapper, transitions: TransitionStrategy) {\n\tconst {\n\t\tdomNode,\n\t\tnode: { properties },\n\t\tnode: {\n\t\t\tproperties: { enterAnimation }\n\t\t}\n\t} = next;\n\tif (enterAnimation) {\n\t\tif (typeof enterAnimation === 'function') {\n\t\t\treturn enterAnimation(domNode as Element, properties);\n\t\t}\n\t\ttransitions.enter(domNode as Element, properties, enterAnimation);\n\t}\n}\n\nfunction runExitAnimation(current: VNodeWrapper, transitions: TransitionStrategy) {\n\tconst {\n\t\tdomNode,\n\t\tnode: { properties },\n\t\tnode: {\n\t\t\tproperties: { exitAnimation }\n\t\t}\n\t} = current;\n\tconst removeDomNode = () => {\n\t\tdomNode && domNode.parentNode && domNode.parentNode.removeChild(domNode);\n\t\tcurrent.domNode = undefined;\n\t};\n\tif (typeof exitAnimation === 'function') {\n\t\treturn exitAnimation(domNode as Element, removeDomNode, properties);\n\t}\n\ttransitions.exit(domNode as Element, properties, exitAnimation as string, removeDomNode);\n}\n\nfunction arrayFrom(arr: any) {\n\treturn Array.prototype.slice.call(arr);\n}\n\nfunction wrapVNodes(nodes: VNode) {\n\treturn class extends WidgetBase {\n\t\tprotected render() {\n\t\t\treturn nodes;\n\t\t}\n\t};\n}\n\nexport function renderer(renderer: () => WNode | VNode): Renderer {\n\tlet _mountOptions: MountOptions = {\n\t\tsync: false,\n\t\tmerge: true,\n\t\ttransition: transitionStrategy,\n\t\tdomNode: global.document.body,\n\t\tregistry: null\n\t};\n\tlet _invalidationQueue: InvalidationQueueItem[] = [];\n\tlet _processQueue: (ProcessItem | DetachApplication | AttachApplication)[] = [];\n\tlet _applicationQueue: ApplicationInstruction[] = [];\n\tlet _eventMap = new WeakMap<Function, EventListener>();\n\tlet _instanceToWrapperMap = new WeakMap<WidgetBase, WNodeWrapper>();\n\tlet _parentWrapperMap = new WeakMap<DNodeWrapper, DNodeWrapper>();\n\tlet _wrapperSiblingMap = new WeakMap<DNodeWrapper, DNodeWrapper>();\n\tlet _renderScheduled: number | undefined;\n\tlet _afterRenderCallbacks: Function[] = [];\n\tlet _deferredRenderCallbacks: Function[] = [];\n\tlet parentInvalidate: () => void;\n\n\tfunction nodeOperation(\n\t\tpropName: string,\n\t\tpropValue: (() => boolean) | boolean,\n\t\tpreviousValue: boolean,\n\t\tdomNode: HTMLElement & { [index: string]: any }\n\t): void {\n\t\tlet result = propValue && !previousValue;\n\t\tif (typeof propValue === 'function') {\n\t\t\tresult = propValue();\n\t\t}\n\t\tif (result === true) {\n\t\t\t_afterRenderCallbacks.push(() => {\n\t\t\t\tdomNode[propName]();\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction updateEvent(\n\t\tdomNode: Node,\n\t\teventName: string,\n\t\tcurrentValue: Function,\n\t\tbind: any,\n\t\tpreviousValue?: Function\n\t) {\n\t\tif (previousValue) {\n\t\t\tconst previousEvent = _eventMap.get(previousValue);\n\t\t\tdomNode.removeEventListener(eventName, previousEvent);\n\t\t}\n\n\t\tlet callback = currentValue.bind(bind);\n\n\t\tif (eventName === 'input') {\n\t\t\tcallback = function(this: any, evt: Event) {\n\t\t\t\tcurrentValue.call(this, evt);\n\t\t\t\t(evt.target as any)['oninput-value'] = (evt.target as HTMLInputElement).value;\n\t\t\t}.bind(bind);\n\t\t}\n\n\t\tdomNode.addEventListener(eventName, callback);\n\t\t_eventMap.set(currentValue, callback);\n\t}\n\n\tfunction removeOrphanedEvents(\n\t\tdomNode: Element,\n\t\tpreviousProperties: VNodeProperties,\n\t\tproperties: VNodeProperties,\n\t\tonlyEvents: boolean = false\n\t) {\n\t\tObject.keys(previousProperties).forEach((propName) => {\n\t\t\tconst isEvent = propName.substr(0, 2) === 'on' || onlyEvents;\n\t\t\tconst eventName = onlyEvents ? propName : propName.substr(2);\n\t\t\tif (isEvent && !properties[propName]) {\n\t\t\t\tconst eventCallback = _eventMap.get(previousProperties[propName]);\n\t\t\t\tif (eventCallback) {\n\t\t\t\t\tdomNode.removeEventListener(eventName, eventCallback);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction renderedToWrapper(\n\t\trendered: DNode[],\n\t\tparent: DNodeWrapper,\n\t\tcurrentParent: DNodeWrapper | null\n\t): DNodeWrapper[] {\n\t\tconst wrappedRendered: DNodeWrapper[] = [];\n\t\tconst hasParentWNode = isWNodeWrapper(parent);\n\t\tconst currentParentLength = isVNodeWrapper(currentParent) && (currentParent.childrenWrappers || []).length > 1;\n\t\tconst requiresInsertBefore =\n\t\t\t((parent.requiresInsertBefore || parent.hasPreviousSiblings !== false) && hasParentWNode) ||\n\t\t\tcurrentParentLength;\n\t\tlet previousItem: DNodeWrapper | undefined;\n\t\tfor (let i = 0; i < rendered.length; i++) {\n\t\t\tconst renderedItem = rendered[i];\n\t\t\tconst wrapper = {\n\t\t\t\tnode: renderedItem,\n\t\t\t\tdepth: parent.depth + 1,\n\t\t\t\trequiresInsertBefore,\n\t\t\t\thasParentWNode,\n\t\t\t\tnamespace: parent.namespace\n\t\t\t} as DNodeWrapper;\n\t\t\tif (isVNode(renderedItem) && renderedItem.properties.exitAnimation) {\n\t\t\t\tparent.hasAnimations = true;\n\t\t\t\tlet nextParent = _parentWrapperMap.get(parent);\n\t\t\t\twhile (nextParent) {\n\t\t\t\t\tif (nextParent.hasAnimations) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tnextParent.hasAnimations = true;\n\t\t\t\t\tnextParent = _parentWrapperMap.get(nextParent);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_parentWrapperMap.set(wrapper, parent);\n\t\t\tif (previousItem) {\n\t\t\t\t_wrapperSiblingMap.set(previousItem, wrapper);\n\t\t\t}\n\t\t\twrappedRendered.push(wrapper);\n\t\t\tpreviousItem = wrapper;\n\t\t}\n\t\treturn wrappedRendered;\n\t}\n\n\tfunction findParentWNodeWrapper(currentNode: DNodeWrapper): WNodeWrapper | undefined {\n\t\tlet parentWNodeWrapper: WNodeWrapper | undefined;\n\t\tlet parentWrapper = _parentWrapperMap.get(currentNode);\n\n\t\twhile (!parentWNodeWrapper && parentWrapper) {\n\t\t\tif (!parentWNodeWrapper && isWNodeWrapper(parentWrapper)) {\n\t\t\t\tparentWNodeWrapper = parentWrapper;\n\t\t\t}\n\t\t\tparentWrapper = _parentWrapperMap.get(parentWrapper);\n\t\t}\n\t\treturn parentWNodeWrapper;\n\t}\n\n\tfunction findParentDomNode(currentNode: DNodeWrapper): Node | undefined {\n\t\tlet parentDomNode: Node | undefined;\n\t\tlet parentWrapper = _parentWrapperMap.get(currentNode);\n\n\t\twhile (!parentDomNode && parentWrapper) {\n\t\t\tif (!parentDomNode && isVNodeWrapper(parentWrapper) && parentWrapper.domNode) {\n\t\t\t\tparentDomNode = parentWrapper.domNode;\n\t\t\t}\n\t\t\tparentWrapper = _parentWrapperMap.get(parentWrapper);\n\t\t}\n\t\treturn parentDomNode;\n\t}\n\n\tfunction runDeferredProperties(next: VNodeWrapper) {\n\t\tif (next.node.deferredPropertiesCallback) {\n\t\t\tconst properties = next.node.properties;\n\t\t\tnext.node.properties = { ...next.node.deferredPropertiesCallback(true), ...next.node.originalProperties };\n\t\t\t_afterRenderCallbacks.push(() => {\n\t\t\t\tprocessProperties(next, { properties });\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction findInsertBefore(next: DNodeWrapper) {\n\t\tlet insertBefore: Node | null = null;\n\t\tlet searchNode: DNodeWrapper | undefined = next;\n\t\twhile (!insertBefore) {\n\t\t\tconst nextSibling = _wrapperSiblingMap.get(searchNode);\n\t\t\tif (nextSibling) {\n\t\t\t\tif (isVNodeWrapper(nextSibling)) {\n\t\t\t\t\tif (nextSibling.domNode && nextSibling.domNode.parentNode) {\n\t\t\t\t\t\tinsertBefore = nextSibling.domNode;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsearchNode = nextSibling;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (nextSibling.domNode && nextSibling.domNode.parentNode) {\n\t\t\t\t\tinsertBefore = nextSibling.domNode;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsearchNode = nextSibling;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsearchNode = _parentWrapperMap.get(searchNode);\n\t\t\tif (!searchNode || isVNodeWrapper(searchNode)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn insertBefore;\n\t}\n\n\tfunction setProperties(\n\t\tdomNode: HTMLElement,\n\t\tcurrentProperties: VNodeProperties = {},\n\t\tnextWrapper: VNodeWrapper,\n\t\tincludesEventsAndAttributes = true\n\t): void {\n\t\tconst propNames = Object.keys(nextWrapper.node.properties);\n\t\tconst propCount = propNames.length;\n\t\tif (propNames.indexOf('classes') === -1 && currentProperties.classes) {\n\t\t\tdomNode.removeAttribute('class');\n\t\t}\n\n\t\tincludesEventsAndAttributes && removeOrphanedEvents(domNode, currentProperties, nextWrapper.node.properties);\n\n\t\tfor (let i = 0; i < propCount; i++) {\n\t\t\tconst propName = propNames[i];\n\t\t\tlet propValue = nextWrapper.node.properties[propName];\n\t\t\tconst previousValue = currentProperties[propName];\n\t\t\tif (propName === 'classes') {\n\t\t\t\tconst previousClassString = createClassPropValue(previousValue);\n\t\t\t\tlet currentClassString = createClassPropValue(propValue);\n\t\t\t\tif (previousClassString !== currentClassString) {\n\t\t\t\t\tif (currentClassString) {\n\t\t\t\t\t\tif (nextWrapper.merged) {\n\t\t\t\t\t\t\tconst domClasses = (domNode.getAttribute('class') || '').split(' ');\n\t\t\t\t\t\t\tfor (let i = 0; i < domClasses.length; i++) {\n\t\t\t\t\t\t\t\tif (currentClassString.indexOf(domClasses[i]) === -1) {\n\t\t\t\t\t\t\t\t\tcurrentClassString = `${domClasses[i]} ${currentClassString}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdomNode.setAttribute('class', currentClassString);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdomNode.removeAttribute('class');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (nodeOperations.indexOf(propName) !== -1) {\n\t\t\t\tnodeOperation(propName, propValue, previousValue, domNode);\n\t\t\t} else if (propName === 'styles') {\n\t\t\t\tconst styleNames = Object.keys(propValue);\n\t\t\t\tconst styleCount = styleNames.length;\n\t\t\t\tfor (let j = 0; j < styleCount; j++) {\n\t\t\t\t\tconst styleName = styleNames[j];\n\t\t\t\t\tconst newStyleValue = propValue[styleName];\n\t\t\t\t\tconst oldStyleValue = previousValue && previousValue[styleName];\n\t\t\t\t\tif (newStyleValue === oldStyleValue) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t(domNode.style as any)[styleName] = newStyleValue || '';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!propValue && typeof previousValue === 'string') {\n\t\t\t\t\tpropValue = '';\n\t\t\t\t}\n\t\t\t\tif (propName === 'value') {\n\t\t\t\t\tconst domValue = (domNode as any)[propName];\n\t\t\t\t\tif (\n\t\t\t\t\t\tdomValue !== propValue &&\n\t\t\t\t\t\t((domNode as any)['oninput-value']\n\t\t\t\t\t\t\t? domValue === (domNode as any)['oninput-value']\n\t\t\t\t\t\t\t: propValue !== previousValue)\n\t\t\t\t\t) {\n\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t\t(domNode as any)['oninput-value'] = undefined;\n\t\t\t\t\t}\n\t\t\t\t} else if (propName !== 'key' && propValue !== previousValue) {\n\t\t\t\t\tconst type = typeof propValue;\n\t\t\t\t\tif (type === 'function' && propName.lastIndexOf('on', 0) === 0 && includesEventsAndAttributes) {\n\t\t\t\t\t\tupdateEvent(domNode, propName.substr(2), propValue, nextWrapper.node.bind, previousValue);\n\t\t\t\t\t} else if (type === 'string' && propName !== 'innerHTML' && includesEventsAndAttributes) {\n\t\t\t\t\t\tupdateAttribute(domNode, propName, propValue, nextWrapper.namespace);\n\t\t\t\t\t} else if (propName === 'scrollLeft' || propName === 'scrollTop') {\n\t\t\t\t\t\tif ((domNode as any)[propName] !== propValue) {\n\t\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(domNode as any)[propName] = propValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction runDeferredRenderCallbacks() {\n\t\tconst { sync } = _mountOptions;\n\t\tconst callbacks = _deferredRenderCallbacks;\n\t\t_deferredRenderCallbacks = [];\n\t\tif (callbacks.length) {\n\t\t\tconst run = () => {\n\t\t\t\tlet callback: Function | undefined;\n\t\t\t\twhile ((callback = callbacks.shift())) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (sync) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tglobal.requestAnimationFrame(run);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction runAfterRenderCallbacks() {\n\t\tconst { sync } = _mountOptions;\n\t\tconst callbacks = _afterRenderCallbacks;\n\t\t_afterRenderCallbacks = [];\n\t\tif (callbacks.length) {\n\t\t\tconst run = () => {\n\t\t\t\tlet callback: Function | undefined;\n\t\t\t\twhile ((callback = callbacks.shift())) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (sync) {\n\t\t\t\trun();\n\t\t\t} else {\n\t\t\t\tif (global.requestIdleCallback) {\n\t\t\t\t\tglobal.requestIdleCallback(run);\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(run);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction processProperties(next: VNodeWrapper, previousProperties: PreviousProperties) {\n\t\tif (next.node.attributes && next.node.events) {\n\t\t\tupdateAttributes(\n\t\t\t\tnext.domNode as HTMLElement,\n\t\t\t\tpreviousProperties.attributes || {},\n\t\t\t\tnext.node.attributes,\n\t\t\t\tnext.namespace\n\t\t\t);\n\t\t\tsetProperties(next.domNode as HTMLElement, previousProperties.properties, next, false);\n\t\t\tconst events = next.node.events || {};\n\t\t\tif (previousProperties.events) {\n\t\t\t\tremoveOrphanedEvents(\n\t\t\t\t\tnext.domNode as HTMLElement,\n\t\t\t\t\tpreviousProperties.events || {},\n\t\t\t\t\tnext.node.events,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t}\n\t\t\tpreviousProperties.events = previousProperties.events || {};\n\t\t\tObject.keys(events).forEach((event) => {\n\t\t\t\tupdateEvent(\n\t\t\t\t\tnext.domNode as HTMLElement,\n\t\t\t\t\tevent,\n\t\t\t\t\tevents[event],\n\t\t\t\t\tnext.node.bind,\n\t\t\t\t\tpreviousProperties.events[event]\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\tsetProperties(next.domNode as HTMLElement, previousProperties.properties, next);\n\t\t}\n\t}\n\n\tfunction mount(mountOptions: Partial<MountOptions> = {}) {\n\t\t_mountOptions = { ..._mountOptions, ...mountOptions };\n\t\tconst { domNode } = _mountOptions;\n\t\tlet renderResult = renderer();\n\t\tif (isVNode(renderResult)) {\n\t\t\trenderResult = w(wrapVNodes(renderResult), {});\n\t\t}\n\t\tconst nextWrapper = {\n\t\t\tnode: renderResult,\n\t\t\tdepth: 1\n\t\t};\n\t\t_parentWrapperMap.set(nextWrapper, { depth: 0, domNode, node: v('fake') });\n\t\t_processQueue.push({\n\t\t\tcurrent: [],\n\t\t\tnext: [nextWrapper],\n\t\t\tmeta: { mergeNodes: arrayFrom(domNode.childNodes) }\n\t\t});\n\t\t_runProcessQueue();\n\t\t_mountOptions.merge = false;\n\t\t_runDomInstructionQueue();\n\t\t_runCallbacks();\n\t}\n\n\tfunction invalidate() {\n\t\tparentInvalidate && parentInvalidate();\n\t}\n\n\tfunction _schedule(): void {\n\t\tconst { sync } = _mountOptions;\n\t\tif (sync) {\n\t\t\t_runInvalidationQueue();\n\t\t} else if (!_renderScheduled) {\n\t\t\t_renderScheduled = global.requestAnimationFrame(() => {\n\t\t\t\t_runInvalidationQueue();\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction _runInvalidationQueue() {\n\t\t_renderScheduled = undefined;\n\t\tconst invalidationQueue = [..._invalidationQueue];\n\t\tconst previouslyRendered = [];\n\t\t_invalidationQueue = [];\n\t\tinvalidationQueue.sort((a, b) => b.depth - a.depth);\n\t\tlet item: InvalidationQueueItem | undefined;\n\t\twhile ((item = invalidationQueue.pop())) {\n\t\t\tlet { instance } = item;\n\t\t\tif (previouslyRendered.indexOf(instance) === -1 && _instanceToWrapperMap.has(instance!)) {\n\t\t\t\tpreviouslyRendered.push(instance);\n\t\t\t\tconst current = _instanceToWrapperMap.get(instance)!;\n\t\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\t\tconst parent = _parentWrapperMap.get(current);\n\t\t\t\tconst sibling = _wrapperSiblingMap.get(current);\n\t\t\t\tconst { constructor, children } = instance;\n\t\t\t\tconst next = {\n\t\t\t\t\tnode: {\n\t\t\t\t\t\ttype: WNODE,\n\t\t\t\t\t\twidgetConstructor: constructor as WidgetBaseConstructor,\n\t\t\t\t\t\tproperties: instanceData.inputProperties,\n\t\t\t\t\t\tchildren: children,\n\t\t\t\t\t\tbind: current.node.bind\n\t\t\t\t\t},\n\t\t\t\t\tinstance,\n\t\t\t\t\tdepth: current.depth\n\t\t\t\t};\n\n\t\t\t\tparent && _parentWrapperMap.set(next, parent);\n\t\t\t\tsibling && _wrapperSiblingMap.set(next, sibling);\n\t\t\t\tconst { item } = _updateWidget({ current, next });\n\t\t\t\tif (item) {\n\t\t\t\t\t_processQueue.push(item);\n\t\t\t\t\tinstance && _instanceToWrapperMap.set(instance, next);\n\t\t\t\t\t_runProcessQueue();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_runDomInstructionQueue();\n\t\t_runCallbacks();\n\t}\n\n\tfunction _runProcessQueue() {\n\t\tlet item: DetachApplication | AttachApplication | ProcessItem | undefined;\n\t\twhile ((item = _processQueue.pop())) {\n\t\t\tif (isAttachApplication(item)) {\n\t\t\t\t_applicationQueue.push(item);\n\t\t\t} else {\n\t\t\t\tconst { current, next, meta } = item;\n\t\t\t\t_process(current || EMPTY_ARRAY, next || EMPTY_ARRAY, meta);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _runDomInstructionQueue(): void {\n\t\t_applicationQueue.reverse();\n\t\tlet item: ApplicationInstruction | undefined;\n\t\twhile ((item = _applicationQueue.pop())) {\n\t\t\tif (item.type === 'create') {\n\t\t\t\tconst {\n\t\t\t\t\tparentDomNode,\n\t\t\t\t\tnext,\n\t\t\t\t\tnext: {\n\t\t\t\t\t\tdomNode,\n\t\t\t\t\t\tmerged,\n\t\t\t\t\t\trequiresInsertBefore,\n\t\t\t\t\t\tnode: { properties }\n\t\t\t\t\t}\n\t\t\t\t} = item;\n\n\t\t\t\tprocessProperties(next, { properties: {} });\n\t\t\t\trunDeferredProperties(next);\n\t\t\t\tif (!merged) {\n\t\t\t\t\tlet insertBefore: any;\n\t\t\t\t\tif (requiresInsertBefore) {\n\t\t\t\t\t\tinsertBefore = findInsertBefore(next);\n\t\t\t\t\t}\n\t\t\t\t\tparentDomNode.insertBefore(domNode!, insertBefore);\n\t\t\t\t\tif (isDomVNode(next.node) && next.node.onAttach) {\n\t\t\t\t\t\tnext.node.onAttach();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trunEnterAnimation(next, _mountOptions.transition);\n\t\t\t\tconst instanceData = widgetInstanceMap.get(next.node.bind as WidgetBase);\n\t\t\t\tif (properties.key != null && instanceData) {\n\t\t\t\t\tinstanceData.nodeHandler.add(domNode as HTMLElement, `${properties.key}`);\n\t\t\t\t}\n\t\t\t\titem.next.inserted = true;\n\t\t\t} else if (item.type === 'update') {\n\t\t\t\tconst {\n\t\t\t\t\tnext,\n\t\t\t\t\tnext: { domNode, node },\n\t\t\t\t\tcurrent\n\t\t\t\t} = item;\n\t\t\t\tconst parent = _parentWrapperMap.get(next);\n\t\t\t\tif (parent && isWNodeWrapper(parent) && parent.instance) {\n\t\t\t\t\tconst instanceData = widgetInstanceMap.get(parent.instance);\n\t\t\t\t\tinstanceData && instanceData.nodeHandler.addRoot();\n\t\t\t\t}\n\n\t\t\t\tconst previousProperties = buildPreviousProperties(domNode, current, next);\n\t\t\t\tconst instanceData = widgetInstanceMap.get(next.node.bind as WidgetBase);\n\n\t\t\t\tprocessProperties(next, previousProperties);\n\t\t\t\trunDeferredProperties(next);\n\n\t\t\t\tif (instanceData && node.properties.key != null) {\n\t\t\t\t\tinstanceData.nodeHandler.add(next.domNode as HTMLElement, `${node.properties.key}`);\n\t\t\t\t}\n\t\t\t} else if (item.type === 'delete') {\n\t\t\t\tconst { current } = item;\n\t\t\t\tif (current.node.properties.exitAnimation) {\n\t\t\t\t\trunExitAnimation(current, _mountOptions.transition);\n\t\t\t\t} else {\n\t\t\t\t\tcurrent.domNode!.parentNode!.removeChild(current.domNode!);\n\t\t\t\t\tcurrent.domNode = undefined;\n\t\t\t\t}\n\t\t\t} else if (item.type === 'attach') {\n\t\t\t\tconst { instance, attached } = item;\n\t\t\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\t\t\tinstanceData.nodeHandler.addRoot();\n\t\t\t\tattached && instanceData.onAttach();\n\t\t\t} else if (item.type === 'detach') {\n\t\t\t\tif (item.current.instance) {\n\t\t\t\t\tconst instanceData = widgetInstanceMap.get(item.current.instance);\n\t\t\t\t\tinstanceData && instanceData.onDetach();\n\t\t\t\t}\n\t\t\t\titem.current.domNode = undefined;\n\t\t\t\titem.current.node.bind = undefined;\n\t\t\t\titem.current.instance = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _runCallbacks() {\n\t\trunAfterRenderCallbacks();\n\t\trunDeferredRenderCallbacks();\n\t}\n\n\tfunction _processMergeNodes(next: DNodeWrapper, mergeNodes: Node[]) {\n\t\tconst { merge } = _mountOptions;\n\t\tif (merge && mergeNodes.length) {\n\t\t\tif (isVNodeWrapper(next)) {\n\t\t\t\tlet {\n\t\t\t\t\tnode: { tag }\n\t\t\t\t} = next;\n\t\t\t\tfor (let i = 0; i < mergeNodes.length; i++) {\n\t\t\t\t\tconst domElement = mergeNodes[i] as Element;\n\t\t\t\t\tif (tag.toUpperCase() === (domElement.tagName || '')) {\n\t\t\t\t\t\tmergeNodes.splice(i, 1);\n\t\t\t\t\t\tnext.domNode = domElement;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnext.mergeNodes = mergeNodes;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction registerDistinguishableCallback(childNodes: DNodeWrapper[], index: number) {\n\t\t_afterRenderCallbacks.push(() => {\n\t\t\tconst parentWNodeWrapper = findParentWNodeWrapper(childNodes[index]);\n\t\t\tcheckDistinguishable(childNodes, index, parentWNodeWrapper);\n\t\t});\n\t}\n\n\tfunction _process(current: DNodeWrapper[], next: DNodeWrapper[], meta: ProcessMeta = {}): void {\n\t\tlet { mergeNodes = [], oldIndex = 0, newIndex = 0 } = meta;\n\t\tconst currentLength = current.length;\n\t\tconst nextLength = next.length;\n\t\tconst hasPreviousSiblings = currentLength > 1 || (currentLength > 0 && currentLength < nextLength);\n\t\tconst instructions: Instruction[] = [];\n\t\tif (newIndex < nextLength) {\n\t\t\tlet currentWrapper = oldIndex < currentLength ? current[oldIndex] : undefined;\n\t\t\tconst nextWrapper = next[newIndex];\n\t\t\tnextWrapper.hasPreviousSiblings = hasPreviousSiblings;\n\n\t\t\t_processMergeNodes(nextWrapper, mergeNodes);\n\n\t\t\tif (currentWrapper && same(currentWrapper, nextWrapper)) {\n\t\t\t\toldIndex++;\n\t\t\t\tnewIndex++;\n\t\t\t\tif (isVNodeWrapper(currentWrapper) && isVNodeWrapper(nextWrapper)) {\n\t\t\t\t\tnextWrapper.inserted = currentWrapper.inserted;\n\t\t\t\t}\n\t\t\t\tinstructions.push({ current: currentWrapper, next: nextWrapper });\n\t\t\t} else if (!currentWrapper || findIndexOfChild(current, nextWrapper, oldIndex + 1) === -1) {\n\t\t\t\thas('dojo-debug') && current.length && registerDistinguishableCallback(next, newIndex);\n\t\t\t\tinstructions.push({ current: undefined, next: nextWrapper });\n\t\t\t\tnewIndex++;\n\t\t\t} else if (findIndexOfChild(next, currentWrapper, newIndex + 1) === -1) {\n\t\t\t\thas('dojo-debug') && registerDistinguishableCallback(current, oldIndex);\n\t\t\t\tinstructions.push({ current: currentWrapper, next: undefined });\n\t\t\t\toldIndex++;\n\t\t\t} else {\n\t\t\t\thas('dojo-debug') && registerDistinguishableCallback(next, newIndex);\n\t\t\t\thas('dojo-debug') && registerDistinguishableCallback(current, oldIndex);\n\t\t\t\tinstructions.push({ current: currentWrapper, next: undefined });\n\t\t\t\tinstructions.push({ current: undefined, next: nextWrapper });\n\t\t\t\toldIndex++;\n\t\t\t\tnewIndex++;\n\t\t\t}\n\t\t}\n\n\t\tif (newIndex < nextLength) {\n\t\t\t_processQueue.push({ current, next, meta: { mergeNodes, oldIndex, newIndex } });\n\t\t}\n\n\t\tif (currentLength > oldIndex && newIndex >= nextLength) {\n\t\t\tfor (let i = oldIndex; i < currentLength; i++) {\n\t\t\t\thas('dojo-debug') && registerDistinguishableCallback(current, i);\n\t\t\t\tinstructions.push({ current: current[i], next: undefined });\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < instructions.length; i++) {\n\t\t\tconst { item, dom, widget } = _processOne(instructions[i]);\n\t\t\twidget && _processQueue.push(widget);\n\t\t\titem && _processQueue.push(item);\n\t\t\tdom && _applicationQueue.push(dom);\n\t\t}\n\t}\n\n\tfunction _processOne({ current, next }: Instruction): ProcessResult {\n\t\tif (current !== next) {\n\t\t\tif (!current && next) {\n\t\t\t\tif (isVNodeWrapper(next)) {\n\t\t\t\t\treturn _createDom({ next });\n\t\t\t\t} else {\n\t\t\t\t\treturn _createWidget({ next });\n\t\t\t\t}\n\t\t\t} else if (current && next) {\n\t\t\t\tif (isVNodeWrapper(current) && isVNodeWrapper(next)) {\n\t\t\t\t\treturn _updateDom({ current, next });\n\t\t\t\t} else if (isWNodeWrapper(current) && isWNodeWrapper(next)) {\n\t\t\t\t\treturn _updateWidget({ current, next });\n\t\t\t\t}\n\t\t\t} else if (current && !next) {\n\t\t\t\tif (isVNodeWrapper(current)) {\n\t\t\t\t\treturn _removeDom({ current });\n\t\t\t\t} else if (isWNodeWrapper(current)) {\n\t\t\t\t\treturn _removeWidget({ current });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {};\n\t}\n\n\tfunction _createWidget({ next }: CreateWidgetInstruction): ProcessResult {\n\t\tlet {\n\t\t\tnode: { widgetConstructor }\n\t\t} = next;\n\t\tlet { registry } = _mountOptions;\n\t\tif (!isWidgetBaseConstructor(widgetConstructor)) {\n\t\t\treturn {};\n\t\t}\n\t\tconst instance = new widgetConstructor() as WidgetBase;\n\t\tif (registry) {\n\t\t\tinstance.registry.base = registry;\n\t\t}\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tinstanceData.invalidate = () => {\n\t\t\tinstanceData.dirty = true;\n\t\t\tif (!instanceData.rendering && _instanceToWrapperMap.has(instance)) {\n\t\t\t\t_invalidationQueue.push({ instance, depth: next.depth });\n\t\t\t\t_schedule();\n\t\t\t}\n\t\t};\n\t\tinstanceData.rendering = true;\n\t\tinstance.__setProperties__(next.node.properties, next.node.bind);\n\t\tinstance.__setChildren__(next.node.children);\n\t\tnext.instance = instance;\n\t\tlet rendered = instance.__render__();\n\t\tinstanceData.rendering = false;\n\t\tif (rendered) {\n\t\t\trendered = Array.isArray(rendered) ? rendered : [rendered];\n\t\t\tnext.childrenWrappers = renderedToWrapper(rendered, next, null);\n\t\t}\n\t\tif (next.instance) {\n\t\t\t_instanceToWrapperMap.set(next.instance, next);\n\t\t\tif (!parentInvalidate) {\n\t\t\t\tparentInvalidate = next.instance.invalidate.bind(next.instance);\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\titem: { next: next.childrenWrappers, meta: { mergeNodes: next.mergeNodes } },\n\t\t\twidget: { type: 'attach', instance, attached: true }\n\t\t};\n\t}\n\n\tfunction _updateWidget({ current, next }: UpdateWidgetInstruction): ProcessResult {\n\t\tcurrent = (current.instance && _instanceToWrapperMap.get(current.instance)) || current;\n\t\tconst { instance, domNode, hasAnimations } = current;\n\t\tif (!instance) {\n\t\t\treturn [] as ProcessResult;\n\t\t}\n\t\tconst instanceData = widgetInstanceMap.get(instance)!;\n\t\tnext.instance = instance;\n\t\tnext.domNode = domNode;\n\t\tnext.hasAnimations = hasAnimations;\n\t\tinstanceData.rendering = true;\n\t\tinstance!.__setProperties__(next.node.properties, next.node.bind);\n\t\tinstance!.__setChildren__(next.node.children);\n\t\t_instanceToWrapperMap.set(next.instance!, next);\n\t\tif (instanceData.dirty) {\n\t\t\tlet rendered = instance!.__render__();\n\t\t\tinstanceData.rendering = false;\n\t\t\tif (rendered) {\n\t\t\t\trendered = Array.isArray(rendered) ? rendered : [rendered];\n\t\t\t\tnext.childrenWrappers = renderedToWrapper(rendered, next, current);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\titem: { current: current.childrenWrappers, next: next.childrenWrappers, meta: {} },\n\t\t\t\twidget: { type: 'attach', instance, attached: false }\n\t\t\t};\n\t\t}\n\t\tinstanceData.rendering = false;\n\t\tnext.childrenWrappers = current.childrenWrappers;\n\t\treturn {\n\t\t\twidget: { type: 'attach', instance, attached: false }\n\t\t};\n\t}\n\n\tfunction _removeWidget({ current }: RemoveWidgetInstruction): ProcessResult {\n\t\tcurrent = current.instance ? _instanceToWrapperMap.get(current.instance)! : current;\n\t\t_wrapperSiblingMap.delete(current);\n\t\t_parentWrapperMap.delete(current);\n\t\t_instanceToWrapperMap.delete(current.instance!);\n\n\t\treturn {\n\t\t\titem: { current: current.childrenWrappers, meta: {} },\n\t\t\twidget: { type: 'detach', current }\n\t\t};\n\t}\n\n\tfunction _createDom({ next }: CreateDomInstruction): ProcessResult {\n\t\tlet mergeNodes: Node[] = [];\n\t\tif (!next.domNode) {\n\t\t\tif ((next.node as any).domNode) {\n\t\t\t\tnext.domNode = (next.node as any).domNode;\n\t\t\t} else {\n\t\t\t\tif (next.node.tag === 'svg') {\n\t\t\t\t\tnext.namespace = NAMESPACE_SVG;\n\t\t\t\t}\n\t\t\t\tif (next.node.tag) {\n\t\t\t\t\tif (next.namespace) {\n\t\t\t\t\t\tnext.domNode = global.document.createElementNS(next.namespace, next.node.tag);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnext.domNode = global.document.createElement(next.node.tag);\n\t\t\t\t\t}\n\t\t\t\t} else if (next.node.text != null) {\n\t\t\t\t\tnext.domNode = global.document.createTextNode(next.node.text);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tnext.merged = true;\n\t\t}\n\t\tif (next.domNode) {\n\t\t\tif (_mountOptions.merge) {\n\t\t\t\tmergeNodes = arrayFrom(next.domNode.childNodes);\n\t\t\t}\n\t\t\tif (next.node.children) {\n\t\t\t\tnext.childrenWrappers = renderedToWrapper(next.node.children, next, null);\n\t\t\t}\n\t\t}\n\t\tconst parentWNodeWrapper = findParentWNodeWrapper(next);\n\t\tif (parentWNodeWrapper && !parentWNodeWrapper.domNode) {\n\t\t\tparentWNodeWrapper.domNode = next.domNode;\n\t\t}\n\t\tconst dom: ApplicationInstruction = {\n\t\t\tnext: next!,\n\t\t\tparentDomNode: findParentDomNode(next)!,\n\t\t\ttype: 'create'\n\t\t};\n\t\tif (next.childrenWrappers) {\n\t\t\treturn {\n\t\t\t\titem: { current: [], next: next.childrenWrappers, meta: { mergeNodes } },\n\t\t\t\tdom\n\t\t\t};\n\t\t}\n\t\treturn { dom };\n\t}\n\n\tfunction _updateDom({ current, next }: UpdateDomInstruction): ProcessResult {\n\t\tconst parentDomNode = findParentDomNode(current);\n\t\tnext.domNode = current.domNode;\n\t\tnext.namespace = current.namespace;\n\t\tif (next.node.text && next.node.text !== current.node.text) {\n\t\t\tconst updatedTextNode = parentDomNode!.ownerDocument.createTextNode(next.node.text!);\n\t\t\tparentDomNode!.replaceChild(updatedTextNode, next.domNode!);\n\t\t\tnext.domNode = updatedTextNode;\n\t\t} else if (next.node.children) {\n\t\t\tconst children = renderedToWrapper(next.node.children, next, current);\n\t\t\tnext.childrenWrappers = children;\n\t\t}\n\t\treturn {\n\t\t\titem: { current: current.childrenWrappers, next: next.childrenWrappers, meta: {} },\n\t\t\tdom: { type: 'update', next, current }\n\t\t};\n\t}\n\n\tfunction _removeDom({ current }: RemoveDomInstruction): ProcessResult {\n\t\t_wrapperSiblingMap.delete(current);\n\t\t_parentWrapperMap.delete(current);\n\t\tcurrent.node.bind = undefined;\n\t\tif (current.hasAnimations) {\n\t\t\treturn {\n\t\t\t\titem: { current: current.childrenWrappers, meta: {} },\n\t\t\t\tdom: { type: 'delete', current }\n\t\t\t};\n\t\t}\n\n\t\tif (current.childrenWrappers) {\n\t\t\t_afterRenderCallbacks.push(() => {\n\t\t\t\tlet wrappers = current.childrenWrappers || [];\n\t\t\t\tlet wrapper: DNodeWrapper | undefined;\n\t\t\t\twhile ((wrapper = wrappers.pop())) {\n\t\t\t\t\tif (wrapper.childrenWrappers) {\n\t\t\t\t\t\twrappers.push(...wrapper.childrenWrappers);\n\t\t\t\t\t\twrapper.childrenWrappers = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tif (isWNodeWrapper(wrapper)) {\n\t\t\t\t\t\tif (wrapper.instance) {\n\t\t\t\t\t\t\t_instanceToWrapperMap.delete(wrapper.instance);\n\t\t\t\t\t\t\tconst instanceData = widgetInstanceMap.get(wrapper.instance);\n\t\t\t\t\t\t\tinstanceData && instanceData.onDetach();\n\t\t\t\t\t\t}\n\t\t\t\t\t\twrapper.instance = undefined;\n\t\t\t\t\t}\n\t\t\t\t\t_wrapperSiblingMap.delete(wrapper);\n\t\t\t\t\t_parentWrapperMap.delete(wrapper);\n\t\t\t\t\twrapper.domNode = undefined;\n\t\t\t\t\twrapper.node.bind = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\tdom: { type: 'delete', current }\n\t\t};\n\t}\n\n\treturn {\n\t\tmount,\n\t\tinvalidate\n\t};\n}\n\nexport default renderer;\n\n\n\n// WEBPACK FOOTER //\n// vdom.ts","// tslint:disable-next-line\nvar has = require('@dojo/framework/has/has');\n\nif (!has.exists('build-time-render')) {\n\thas.add('build-time-render', false, false);\n}\n\n\n\n// WEBPACK FOOTER //\n// hasBuildTimeRender.ts","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/@dojo/webpack-contrib/static-build-loader/index.js??ref--6-0!../../node_modules/umd-compat-loader/index.js??ref--6-1!../../node_modules/ts-loader/index.js??ref--6-2!../../node_modules/tslint-loader/index.js??ref--2!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./TodoFooter.ts\"));\n\t}, \"lazy\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,lazy!./src/widgets/TodoFooter.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,lazy!./src/widgets/TodoFooter.ts\n// module chunks = main","\nmodule.exports = function () {\n\treturn new Promise(function (resolve) {\n\trequire.ensure([], function (require) {\n\t\tresolve(require(\"!!../../node_modules/@dojo/webpack-contrib/static-build-loader/index.js??ref--6-0!../../node_modules/umd-compat-loader/index.js??ref--6-1!../../node_modules/ts-loader/index.js??ref--6-2!../../node_modules/tslint-loader/index.js??ref--2!../../node_modules/@dojo/webpack-contrib/css-module-dts-loader/index.js?type=ts&instanceName=0_dojo!./TodoItem.ts\"));\n\t}, \"lazy\");\n\t});\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@dojo/webpack-contrib/promise-loader?global,lazy!./src/widgets/TodoItem.ts\n// module id = ./node_modules/@dojo/webpack-contrib/promise-loader/index.js?global,lazy!./src/widgets/TodoItem.ts\n// module chunks = main","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = ./node_modules/process/browser.js\n// module chunks = main","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/setimmediate/setImmediate.js\n// module id = ./node_modules/setimmediate/setImmediate.js\n// module chunks = main","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/timers-browserify/main.js\n// module id = ./node_modules/timers-browserify/main.js\n// module chunks = main","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslib/tslib.es6.js\n// module id = ./node_modules/tslib/tslib.es6.js\n// module chunks = main","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = ./node_modules/webpack/buildin/global.js\n// module chunks = main","import renderer from '@dojo/framework/widget-core/vdom';\nimport { w } from '@dojo/framework/widget-core/d';\nimport { registerRouterInjector } from '@dojo/framework/routing/RouterInjector';\nimport TodoApp from './widgets/TodoApp';\nimport Registry from '@dojo/framework/widget-core/Registry';\n\nconst registry = new Registry();\nconst router = registerRouterInjector([\n\t{\n\t\tpath: 'filter/{filter}',\n\t\toutlet: 'filter',\n\t\tdefaultParams: { filter: 'all' },\n\t\tdefaultRoute: true\n\t}\n], registry);\n\nconst r = renderer(() => w(TodoApp, {}));\nr.mount({ registry });\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/main.ts","import Map from '@dojo/framework/shim/Map';\nimport { uuid } from '@dojo/framework/core/util';\nimport WidgetBase from '@dojo/framework/widget-core/WidgetBase';\nimport { ThemedMixin, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport { w, v } from '@dojo/framework/widget-core/d';\nimport Outlet from '@dojo/framework/routing/Outlet';\nimport { MatchDetails } from '@dojo/framework/routing/interfaces';\n\nimport TodoHeader from './TodoHeader';\nimport TodoList from './TodoList';\nimport TodoFooter from './TodoFooter';\n\nimport * as css from './styles/todoApp.m.css';\n\nexport interface Todo {\n\tid: string;\n\tlabel: string;\n\tcompleted: boolean;\n\tediting?: boolean;\n}\n\n@theme(css)\nexport default class TodoApp extends ThemedMixin(WidgetBase) {\n\n\tprivate todos: Map<string, Todo> = new Map<string, Todo>();\n\tprivate todoItem = '';\n\tprivate completedCount = 0;\n\tprivate updated: string = uuid();\n\n\tprotected render() {\n\t\tconst { todoItem, updateTodo, updated, todos, completedCount, clearCompleted, editTodo, removeTodo, toggleTodo, toggleAllTodos } = this;\n\t\tconst allCompleted = todos.size !== 0 && completedCount === todos.size;\n\t\tconst activeCount = todos.size - completedCount;\n\t\tconst completedItems = completedCount > 0;\n\n\t\treturn v('section', { classes: this.theme(css.todoapp) }, [\n\t\t\tw(TodoHeader, { value: todoItem, updateTodo, allCompleted, addTodo: this.setTodo, toggleAllTodos }),\n\t\t\tv('section', [\n\t\t\t\tw(Outlet, { id: 'filter', renderer: (match: MatchDetails) => {\n\t\t\t\t\treturn w(TodoList, { updated, todos, editTodo, removeTodo, toggleTodo, updateTodo: this.setTodo, activeFilter: match.params.filter });\n\t\t\t\t} })\n\t\t\t]),\n\t\t\ttodos.size ? w(TodoFooter, { clearCompleted, activeCount, completedItems }) : null\n\t\t]);\n\t}\n\n\tprivate removeTodo = (id: string) => {\n\t\tconst todo = this.todos.get(id);\n\t\tif (todo) {\n\t\t\tthis.todos.delete(id);\n\t\t\ttodo.completed && --this.completedCount;\n\t\t\tthis.onUpdate();\n\t\t}\n\t}\n\n\tprivate toggleTodo = (id: string) => {\n\t\tconst todo = this.todos.get(id);\n\t\tif (todo) {\n\t\t\tconst completed = !todo.completed;\n\t\t\tcompleted ? ++this.completedCount : --this.completedCount;\n\t\t\tthis.setTodo({ completed }, id);\n\t\t}\n\t}\n\n\tprivate toggleAllTodos = () => {\n\t\tconst completed = this.completedCount !== this.todos.size;\n\t\tthis.todos.forEach((todo, key) => {\n\t\t\tthis.setTodo({ completed }, key);\n\t\t});\n\t\tthis.completedCount = completed ? this.todos.size : 0;\n\t\tthis.onUpdate();\n\t}\n\n\tprivate editTodo = (id: string) => {\n\t\tconst todo = this.todos.get(id);\n\t\tif (todo) {\n\t\t\tthis.setTodo({ editing: true}, id);\n\t\t\tthis.onUpdate();\n\t\t}\n\t}\n\n\tprivate clearCompleted = () => {\n\t\tthis.todos.forEach((todo, key) => {\n\t\t\tif (todo.completed) {\n\t\t\t\tthis.todos.delete(key);\n\t\t\t}\n\t\t});\n\t\tthis.completedCount = 0;\n\t\tthis.onUpdate();\n\t}\n\n\tprivate updateTodo = (todo: string) => {\n\t\tthis.todoItem = todo;\n\t\tthis.invalidate();\n\t}\n\n\tprivate setTodo = (todo: Partial<Todo>, id?: string) => {\n\t\tif (!id) {\n\t\t\tid = uuid();\n\t\t\tthis.todoItem = '';\n\t\t}\n\t\tif (todo.label) {\n\t\t\ttodo.label = todo.label.trim();\n\t\t\tif (!todo.label) {\n\t\t\t\tthis.removeTodo(id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.todos.set(id, { id,  ...this.todos.get(id)!, ...todo });\n\t\tthis.onUpdate();\n\t}\n\n\tprivate onUpdate = () => {\n\t\tthis.updated = uuid();\n\t\tthis.invalidate();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/TodoApp.ts","import WidgetBase from '@dojo/framework/widget-core/WidgetBase';\nimport { ThemedMixin, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport { v } from '@dojo/framework/widget-core/d';\n\nimport * as css from './styles/todoHeader.m.css';\n\nexport interface TodoHeaderProperties {\n\tallCompleted: boolean;\n\taddTodo: Function;\n\ttoggleAllTodos: Function;\n\tupdateTodo: Function;\n\tvalue: string;\n}\n\n@theme(css)\nexport default class TodoHeader extends ThemedMixin(WidgetBase)<TodoHeaderProperties> {\n\n\tprotected render() {\n\t\tconst { properties: { value, allCompleted } } = this;\n\t\tconst newTodoProperties: any = {\n\t\t\tkey: 'new-todo',\n\t\t\tfocus: true,\n\t\t\tclasses: this.theme(css.newTodo),\n\t\t\tonkeyup: this.addTodo,\n\t\t\toninput: this.updateTodo,\n\t\t\tvalue,\n\t\t\tplaceholder: 'What needs to be done?'\n\t\t};\n\n\t\treturn v('header', [\n\t\t\tv('h1', { classes: this.theme(css.title) }, [ 'todos' ]),\n\t\t\tv('input', newTodoProperties),\n\t\t\tv('input', { onchange: this.toggleAllTodos, checked: allCompleted, type: 'checkbox', classes: this.theme(css.toggleAll) })\n\t\t]);\n\t}\n\n\tprivate addTodo({ which, target: { value: label } }: any) {\n\t\tif (which === 13 && label) {\n\t\t\tthis.properties.addTodo({ label, completed: false });\n\t\t}\n\t}\n\n\tprivate updateTodo({ target: { value } }: any) {\n\t\tthis.properties.updateTodo(value);\n\t}\n\n\tprivate toggleAllTodos() {\n\t\tthis.properties.toggleAllTodos();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/TodoHeader.ts","import Map from '@dojo/framework/shim/Map';\nimport { from as arrayFrom } from '@dojo/framework/shim/array';\nimport WidgetBase from '@dojo/framework/widget-core/WidgetBase';\nimport { ThemedMixin, theme } from '@dojo/framework/widget-core/mixins/Themed';\nimport { Outlet } from '@dojo/framework/routing/Outlet';\n\nimport { v, w } from '@dojo/framework/widget-core/d';\nimport { Todo } from './TodoApp';\nimport TodoItem from './TodoItem';\n\nimport * as css from './styles/todoList.m.css';\n\nexport interface TodoListProperties {\n\ttodos: Map<string, Todo>;\n\tupdated: string;\n\tactiveFilter?: string;\n\ttoggleTodo: Function;\n\tremoveTodo: Function;\n\teditTodo: Function;\n\tupdateTodo: Function;\n}\n\nfunction filter(filterName: string = 'all', todo: Todo): boolean {\n\tswitch (filterName) {\n\t\tcase 'completed':\n\t\t\treturn !!todo.completed;\n\t\tcase 'active':\n\t\t\treturn !todo.completed;\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n\n@theme(css)\nexport default class TodoList extends ThemedMixin(WidgetBase)<TodoListProperties> {\n\tprotected render() {\n\t\tconst { activeFilter, todos, toggleTodo, editTodo, updateTodo, removeTodo } = this.properties;\n\t\tconst todoItems = arrayFrom(todos.entries()).filter(([ , value ]) => filter(activeFilter, value));\n\n\t\treturn v('ul', { classes: this.theme(css.todoList) }, todoItems.map(([ key, todo ]) => {\n\t\t\treturn w(TodoItem, { key, todo, toggleTodo, editTodo, removeTodo, updateTodo });\n\t\t}));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--2!./node_modules/@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo!./src/widgets/TodoList.ts","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"dojo2-todo-mvc/todoApp\",\"todoapp\":\"todoApp-m__todoapp__2CgWv\",\"main\":\"todoApp-m__main__1O82E\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/todoApp.m.css\n// module id = ./src/widgets/styles/todoApp.m.css\n// module chunks = main","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"dojo2-todo-mvc/todoHeader\",\"title\":\"todoHeader-m__title__3tjiT\",\"newTodo\":\"todoHeader-m__newTodo__3Rwh3\",\"toggleAll\":\"todoHeader-m__toggleAll__15rbk\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/todoHeader.m.css\n// module id = ./src/widgets/styles/todoHeader.m.css\n// module chunks = main","// removed by extract-text-webpack-plugin\nmodule.exports = {\" _key\":\"dojo2-todo-mvc/todoList\",\"todoList\":\"todoList-m__todoList___yRMt\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/widgets/styles/todoList.m.css\n// module id = ./src/widgets/styles/todoList.m.css\n// module chunks = main"],"sourceRoot":""}